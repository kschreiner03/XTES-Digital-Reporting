(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qm={exports:{}},cd={},Wm={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),wv=Symbol.for("react.portal"),xv=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),jv=Symbol.for("react.suspense"),Av=Symbol.for("react.memo"),Pv=Symbol.for("react.lazy"),e1=Symbol.iterator;function Lv(e){return e===null||typeof e!="object"?null:(e=e1&&e[e1]||e["@@iterator"],typeof e=="function"?e:null)}var $m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm=Object.assign,Vm={};function Os(e,t,r){this.props=e,this.context=t,this.refs=Vm,this.updater=r||$m}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=Os.prototype;function Pp(e,t,r){this.props=e,this.context=t,this.refs=Vm,this.updater=r||$m}var Lp=Pp.prototype=new Gm;Lp.constructor=Pp;Hm(Lp,Os.prototype);Lp.isPureReactComponent=!0;var t1=Array.isArray,Ym=Object.prototype.hasOwnProperty,Cp={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function Jm(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Ym.call(t,n)&&!Xm.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),f=0;f<s;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ac,type:e,key:a,ref:o,props:i,_owner:Cp.current}}function Cv(e,t){return{$$typeof:ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ep(e){return typeof e=="object"&&e!==null&&e.$$typeof===ac}function Ev(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var r1=/\/+/g;function bf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ev(""+e.key):t.toString(36)}function xu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ac:case wv:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+bf(o,0):n,t1(i)?(r="",e!=null&&(r=e.replace(r1,"$&/")+"/"),xu(i,t,r,"",function(f){return f})):i!=null&&(Ep(i)&&(i=Cv(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",t1(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+bf(a,s);o+=xu(a,t,r,c,i)}else if(c=Lv(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+bf(a,s++),o+=xu(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(e,t,r){if(e==null)return e;var n=[],i=0;return xu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Fv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},bu={transition:null},Dv={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:bu,ReactCurrentOwner:Cp};function Zm(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Jc,forEach:function(e,t,r){Jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jc(e,function(){t++}),t},toArray:function(e){return Jc(e,function(t){return t})||[]},only:function(e){if(!Ep(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=Os;Wt.Fragment=xv;Wt.Profiler=Nv;Wt.PureComponent=Pp;Wt.StrictMode=bv;Wt.Suspense=jv;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;Wt.act=Zm;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Cp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)Ym.call(t,c)&&!Xm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var f=0;f<c;f++)s[f]=arguments[f+2];n.children=s}return{$$typeof:ac,type:e.type,key:i,ref:a,props:n,_owner:o}};Wt.createContext=function(e){return e={$$typeof:_v,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kv,_context:e},e.Consumer=e};Wt.createElement=Jm;Wt.createFactory=function(e){var t=Jm.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:Sv,render:e}};Wt.isValidElement=Ep;Wt.lazy=function(e){return{$$typeof:Pv,_payload:{_status:-1,_result:e},_init:Fv}};Wt.memo=function(e,t){return{$$typeof:Av,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=bu.transition;bu.transition={};try{e()}finally{bu.transition=t}};Wt.unstable_act=Zm;Wt.useCallback=function(e,t){return yn.current.useCallback(e,t)};Wt.useContext=function(e){return yn.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return yn.current.useEffect(e,t)};Wt.useId=function(){return yn.current.useId()};Wt.useImperativeHandle=function(e,t,r){return yn.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return yn.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return yn.current.useReducer(e,t,r)};Wt.useRef=function(e){return yn.current.useRef(e)};Wt.useState=function(e){return yn.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return yn.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return yn.current.useTransition()};Wt.version="18.3.1";Wm.exports=Wt;var qe=Wm.exports;const Fp=Um(qe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=qe,Iv=Symbol.for("react.element"),Ov=Symbol.for("react.fragment"),Rv=Object.prototype.hasOwnProperty,Mv=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zv={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Rv.call(t,n)&&!zv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Iv,type:e,key:a,ref:o,props:i,_owner:Mv.current}}cd.Fragment=Ov;cd.jsx=Km;cd.jsxs=Km;qm.exports=cd;var h=qm.exports,vh={},Qm={exports:{}},Vn={},e2={exports:{}},t2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,ee){var me=ne.length;ne.push(ee);e:for(;0<me;){var ue=me-1>>>1,A=ne[ue];if(0<i(A,ee))ne[ue]=ee,ne[me]=A,me=ue;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ee=ne[0],me=ne.pop();if(me!==ee){ne[0]=me;e:for(var ue=0,A=ne.length,V=A>>>1;ue<V;){var Y=2*(ue+1)-1,K=ne[Y],pe=Y+1,je=ne[pe];if(0>i(K,me))pe<A&&0>i(je,K)?(ne[ue]=je,ne[pe]=me,ue=pe):(ne[ue]=K,ne[Y]=me,ue=Y);else if(pe<A&&0>i(je,me))ne[ue]=je,ne[pe]=me,ue=pe;else break e}}return ee}function i(ne,ee){var me=ne.sortIndex-ee.sortIndex;return me!==0?me:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],f=[],p=1,v=null,y=3,d=!1,k=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ne){for(var ee=r(f);ee!==null;){if(ee.callback===null)n(f);else if(ee.startTime<=ne)n(f),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(f)}}function I(ne){if(w=!1,_(ne),!k)if(r(c)!==null)k=!0,ve(z);else{var ee=r(f);ee!==null&&de(I,ee.startTime-ne)}}function z(ne,ee){k=!1,w&&(w=!1,m(B),B=-1),d=!0;var me=y;try{for(_(ee),v=r(c);v!==null&&(!(v.expirationTime>ee)||ne&&!U());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,y=v.priorityLevel;var A=ue(v.expirationTime<=ee);ee=e.unstable_now(),typeof A=="function"?v.callback=A:v===r(c)&&n(c),_(ee)}else n(c);v=r(c)}if(v!==null)var V=!0;else{var Y=r(f);Y!==null&&de(I,Y.startTime-ee),V=!1}return V}finally{v=null,y=me,d=!1}}var re=!1,$=null,B=-1,Z=5,se=-1;function U(){return!(e.unstable_now()-se<Z)}function L(){if($!==null){var ne=e.unstable_now();se=ne;var ee=!0;try{ee=$(!0,ne)}finally{ee?H():(re=!1,$=null)}}else re=!1}var H;if(typeof b=="function")H=function(){b(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,le=N.port2;N.port1.onmessage=L,H=function(){le.postMessage(null)}}else H=function(){S(L,0)};function ve(ne){$=ne,re||(re=!0,H())}function de(ne,ee){B=S(function(){ne(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){k||d||(k=!0,ve(z))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var me=y;y=ee;try{return ne()}finally{y=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=y;y=ne;try{return ee()}finally{y=me}},e.unstable_scheduleCallback=function(ne,ee,me){var ue=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ue+me:ue):me=ue,ne){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=me+A,ne={id:p++,callback:ee,priorityLevel:ne,startTime:me,expirationTime:A,sortIndex:-1},me>ue?(ne.sortIndex=me,t(f,ne),r(c)===null&&ne===r(f)&&(w?(m(B),B=-1):w=!0,de(I,me-ue))):(ne.sortIndex=A,t(c,ne),k||d||(k=!0,ve(z))),ne},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(ne){var ee=y;return function(){var me=y;y=ee;try{return ne.apply(this,arguments)}finally{y=me}}}})(t2);e2.exports=t2;var Bv=e2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=qe,Hn=Bv;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r2=new Set,Bl={};function Po(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(Bl[e]=t,e=0;e<t.length;e++)r2.add(t[e])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,qv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n1={},i1={};function Wv(e){return yh.call(i1,e)?!0:yh.call(n1,e)?!1:qv.test(e)?i1[e]=!0:(n1[e]=!0,!1)}function $v(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hv(e,t,r,n){if(t===null||typeof t>"u"||$v(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wn(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qr[e]=new wn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qr[t]=new wn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qr[e]=new wn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qr[e]=new wn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qr[e]=new wn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qr[e]=new wn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qr[e]=new wn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qr[e]=new wn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qr[e]=new wn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dp,Tp);Qr[t]=new wn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dp,Tp);Qr[t]=new wn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dp,Tp);Qr[t]=new wn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qr[e]=new wn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qr[e]=new wn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ip(e,t,r,n){var i=Qr.hasOwnProperty(t)?Qr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hv(t,r,i,n)&&(r=null),n||i===null?Wv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ua=Uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),os=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),a2=Symbol.for("react.offscreen"),a1=Symbol.iterator;function pl(e){return e===null||typeof e!="object"?null:(e=a1&&e[a1]||e["@@iterator"],typeof e=="function"?e:null)}var xr=Object.assign,Nf;function jl(e){if(Nf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nf=t&&t[1]||""}return`
`+Nf+e}var kf=!1;function _f(e,t){if(!e||kf)return"";kf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{kf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jl(e):""}function Vv(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function Nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case os:return"Portal";case wh:return"Profiler";case Op:return"StrictMode";case xh:return"Suspense";case bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i2:return(e.displayName||"Context")+".Consumer";case n2:return(e._context.displayName||"Context")+".Provider";case Rp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mp:return t=e.displayName||null,t!==null?t:Nh(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return Nh(e(t))}catch{}}return null}function Gv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(t);case 8:return t===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ha(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yv(e){var t=o2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kc(e){e._valueTracker||(e._valueTracker=Yv(e))}function s2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=o2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ou(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kh(e,t){var r=t.checked;return xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function o1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ha(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l2(e,t){t=t.checked,t!=null&&Ip(e,"checked",t,!1)}function _h(e,t){l2(e,t);var r=Ha(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sh(e,t.type,Ha(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function s1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sh(e,t,r){(t!=="number"||Ou(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Al=Array.isArray;function ws(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ha(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(tt(92));if(Al(r)){if(1<r.length)throw Error(tt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ha(r)}}function c2(e,t){var r=Ha(t.value),n=Ha(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function c1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qc,d2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qc=Qc||document.createElement("div"),Qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ul(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xv=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(e){Xv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cl[t]=Cl[e]})});function f2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cl.hasOwnProperty(e)&&Cl[e]?(""+t).trim():t+"px"}function h2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=f2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Jv=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ph(e,t){if(t){if(Jv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function Lh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=null;function zp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eh=null,xs=null,bs=null;function u1(e){if(e=lc(e)){if(typeof Eh!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=pd(t),Eh(e.stateNode,e.type,t))}}function p2(e){xs?bs?bs.push(e):bs=[e]:xs=e}function m2(){if(xs){var e=xs,t=bs;if(bs=xs=null,u1(e),t)for(e=0;e<t.length;e++)u1(t[e])}}function g2(e,t){return e(t)}function v2(){}var Sf=!1;function y2(e,t,r){if(Sf)return e(t,r);Sf=!0;try{return g2(e,t,r)}finally{Sf=!1,(xs!==null||bs!==null)&&(v2(),m2())}}function ql(e,t){var r=e.stateNode;if(r===null)return null;var n=pd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(tt(231,t,typeof r));return r}var Fh=!1;if(aa)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Fh=!1}function Zv(e,t,r,n,i,a,o,s,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(p){this.onError(p)}}var El=!1,Ru=null,Mu=!1,Dh=null,Kv={onError:function(e){El=!0,Ru=e}};function Qv(e,t,r,n,i,a,o,s,c){El=!1,Ru=null,Zv.apply(Kv,arguments)}function ey(e,t,r,n,i,a,o,s,c){if(Qv.apply(this,arguments),El){if(El){var f=Ru;El=!1,Ru=null}else throw Error(tt(198));Mu||(Mu=!0,Dh=f)}}function Lo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d1(e){if(Lo(e)!==e)throw Error(tt(188))}function ty(e){var t=e.alternate;if(!t){if(t=Lo(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return d1(i),e;if(a===n)return d1(i),t;a=a.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?e:t}function x2(e){return e=ty(e),e!==null?b2(e):null}function b2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=b2(e);if(t!==null)return t;e=e.sibling}return null}var N2=Hn.unstable_scheduleCallback,f1=Hn.unstable_cancelCallback,ry=Hn.unstable_shouldYield,ny=Hn.unstable_requestPaint,Lr=Hn.unstable_now,iy=Hn.unstable_getCurrentPriorityLevel,Bp=Hn.unstable_ImmediatePriority,k2=Hn.unstable_UserBlockingPriority,zu=Hn.unstable_NormalPriority,ay=Hn.unstable_LowPriority,_2=Hn.unstable_IdlePriority,ud=null,Ri=null;function oy(e){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(ud,e,void 0,(e.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:cy,sy=Math.log,ly=Math.LN2;function cy(e){return e>>>=0,e===0?32:31-(sy(e)/ly|0)|0}var eu=64,tu=4194304;function Pl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Pl(s):(a&=o,a!==0&&(n=Pl(a)))}else o=r&~i,o!==0?n=Pl(o):a!==0&&(n=Pl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bi(t),i=1<<r,n|=e[r],t&=~i;return n}function uy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bi(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=uy(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S2(){var e=eu;return eu<<=1,!(eu&4194240)&&(eu=64),e}function jf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bi(t),e[t]=r}function fy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-bi(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Up(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var rr=0;function j2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A2,qp,P2,L2,C2,Ih=!1,ru=[],Ra=null,Ma=null,za=null,Wl=new Map,$l=new Map,Fa=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function gl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=lc(t),t!==null&&qp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function py(e,t,r,n,i){switch(t){case"focusin":return Ra=gl(Ra,e,t,r,n,i),!0;case"dragenter":return Ma=gl(Ma,e,t,r,n,i),!0;case"mouseover":return za=gl(za,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Wl.set(a,gl(Wl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$l.set(a,gl($l.get(a)||null,e,t,r,n,i)),!0}return!1}function E2(e){var t=po(e.target);if(t!==null){var r=Lo(t);if(r!==null){if(t=r.tag,t===13){if(t=w2(r),t!==null){e.blockedOn=t,C2(e.priority,function(){P2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ch=n,r.target.dispatchEvent(n),Ch=null}else return t=lc(r),t!==null&&qp(t),e.blockedOn=r,!1;t.shift()}return!0}function p1(e,t,r){Nu(e)&&r.delete(t)}function my(){Ih=!1,Ra!==null&&Nu(Ra)&&(Ra=null),Ma!==null&&Nu(Ma)&&(Ma=null),za!==null&&Nu(za)&&(za=null),Wl.forEach(p1),$l.forEach(p1)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,my)))}function Hl(e){function t(i){return vl(i,e)}if(0<ru.length){vl(ru[0],e);for(var r=1;r<ru.length;r++){var n=ru[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ra!==null&&vl(Ra,e),Ma!==null&&vl(Ma,e),za!==null&&vl(za,e),Wl.forEach(t),$l.forEach(t),r=0;r<Fa.length;r++)n=Fa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fa.length&&(r=Fa[0],r.blockedOn===null);)E2(r),r.blockedOn===null&&Fa.shift()}var Ns=ua.ReactCurrentBatchConfig,Uu=!0;function gy(e,t,r,n){var i=rr,a=Ns.transition;Ns.transition=null;try{rr=1,Wp(e,t,r,n)}finally{rr=i,Ns.transition=a}}function vy(e,t,r,n){var i=rr,a=Ns.transition;Ns.transition=null;try{rr=4,Wp(e,t,r,n)}finally{rr=i,Ns.transition=a}}function Wp(e,t,r,n){if(Uu){var i=Oh(e,t,r,n);if(i===null)Of(e,t,n,qu,r),h1(e,n);else if(py(i,e,t,r,n))n.stopPropagation();else if(h1(e,n),t&4&&-1<hy.indexOf(e)){for(;i!==null;){var a=lc(i);if(a!==null&&A2(a),a=Oh(e,t,r,n),a===null&&Of(e,t,n,qu,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Of(e,t,n,null,r)}}var qu=null;function Oh(e,t,r,n){if(qu=null,e=zp(n),e=po(e),e!==null)if(t=Lo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function F2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iy()){case Bp:return 1;case k2:return 4;case zu:case ay:return 16;case _2:return 536870912;default:return 16}default:return 16}}var Ta=null,$p=null,ku=null;function D2(){if(ku)return ku;var e,t=$p,r=t.length,n,i="value"in Ta?Ta.value:Ta.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return ku=i.slice(e,1<n?1-n:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function m1(){return!1}function Gn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nu:m1,this.isPropagationStopped=m1,this}return xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hp=Gn(Rs),sc=xr({},Rs,{view:0,detail:0}),yy=Gn(sc),Af,Pf,yl,dd=xr({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(Af=e.screenX-yl.screenX,Pf=e.screenY-yl.screenY):Pf=Af=0,yl=e),Af)},movementY:function(e){return"movementY"in e?e.movementY:Pf}}),g1=Gn(dd),wy=xr({},dd,{dataTransfer:0}),xy=Gn(wy),by=xr({},sc,{relatedTarget:0}),Lf=Gn(by),Ny=xr({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),ky=Gn(Ny),_y=xr({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=Gn(_y),jy=xr({},Rs,{data:0}),v1=Gn(jy),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function Vp(){return Cy}var Ey=xr({},sc,{key:function(e){if(e.key){var t=Ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fy=Gn(Ey),Dy=xr({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y1=Gn(Dy),Ty=xr({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),Iy=Gn(Ty),Oy=xr({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=Gn(Oy),My=xr({},dd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zy=Gn(My),By=[9,13,27,32],Gp=aa&&"CompositionEvent"in window,Fl=null;aa&&"documentMode"in document&&(Fl=document.documentMode);var Uy=aa&&"TextEvent"in window&&!Fl,T2=aa&&(!Gp||Fl&&8<Fl&&11>=Fl),w1=" ",x1=!1;function I2(e,t){switch(e){case"keyup":return By.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function qy(e,t){switch(e){case"compositionend":return O2(t);case"keypress":return t.which!==32?null:(x1=!0,w1);case"textInput":return e=t.data,e===w1&&x1?null:e;default:return null}}function Wy(e,t){if(ls)return e==="compositionend"||!Gp&&I2(e,t)?(e=D2(),ku=$p=Ta=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T2&&t.locale!=="ko"?null:t.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$y[e.type]:t==="textarea"}function R2(e,t,r,n){p2(n),t=Wu(t,"onChange"),0<t.length&&(r=new Hp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dl=null,Vl=null;function Hy(e){Y2(e,0)}function fd(e){var t=ds(e);if(s2(t))return e}function Vy(e,t){if(e==="change")return t}var M2=!1;if(aa){var Cf;if(aa){var Ef="oninput"in document;if(!Ef){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Ef=typeof N1.oninput=="function"}Cf=Ef}else Cf=!1;M2=Cf&&(!document.documentMode||9<document.documentMode)}function k1(){Dl&&(Dl.detachEvent("onpropertychange",z2),Vl=Dl=null)}function z2(e){if(e.propertyName==="value"&&fd(Vl)){var t=[];R2(t,Vl,e,zp(e)),y2(Hy,t)}}function Gy(e,t,r){e==="focusin"?(k1(),Dl=t,Vl=r,Dl.attachEvent("onpropertychange",z2)):e==="focusout"&&k1()}function Yy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fd(Vl)}function Xy(e,t){if(e==="click")return fd(t)}function Jy(e,t){if(e==="input"||e==="change")return fd(t)}function Zy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ki=typeof Object.is=="function"?Object.is:Zy;function Gl(e,t){if(ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yh.call(t,i)||!ki(e[i],t[i]))return!1}return!0}function _1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S1(e,t){var r=_1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_1(r)}}function B2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?B2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U2(){for(var e=window,t=Ou();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ou(e.document)}return t}function Yp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ky(e){var t=U2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&B2(r.ownerDocument.documentElement,r)){if(n!==null&&Yp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=S1(r,a);var o=S1(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qy=aa&&"documentMode"in document&&11>=document.documentMode,cs=null,Rh=null,Tl=null,Mh=!1;function j1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||cs==null||cs!==Ou(n)||(n=cs,"selectionStart"in n&&Yp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tl&&Gl(Tl,n)||(Tl=n,n=Wu(Rh,"onSelect"),0<n.length&&(t=new Hp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cs)))}function iu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var us={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Ff={},q2={};aa&&(q2=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function hd(e){if(Ff[e])return Ff[e];if(!us[e])return e;var t=us[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in q2)return Ff[e]=t[r];return e}var W2=hd("animationend"),$2=hd("animationiteration"),H2=hd("animationstart"),V2=hd("transitionend"),G2=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(e,t){G2.set(e,t),Po(t,[e])}for(var Df=0;Df<A1.length;Df++){var Tf=A1[Df],ew=Tf.toLowerCase(),tw=Tf[0].toUpperCase()+Tf.slice(1);Xa(ew,"on"+tw)}Xa(W2,"onAnimationEnd");Xa($2,"onAnimationIteration");Xa(H2,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(V2,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function P1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ey(n,t,void 0,e),e.currentTarget=null}function Y2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,f=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;P1(i,s,f),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,f=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;P1(i,s,f),a=c}}}if(Mu)throw e=Dh,Mu=!1,Dh=null,e}function fr(e,t){var r=t[Wh];r===void 0&&(r=t[Wh]=new Set);var n=e+"__bubble";r.has(n)||(X2(t,e,2,!1),r.add(n))}function If(e,t,r){var n=0;t&&(n|=4),X2(r,e,n,t)}var au="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[au]){e[au]=!0,r2.forEach(function(r){r!=="selectionchange"&&(rw.has(r)||If(r,!1,e),If(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[au]||(t[au]=!0,If("selectionchange",!1,t))}}function X2(e,t,r,n){switch(F2(t)){case 1:var i=gy;break;case 4:i=vy;break;default:i=Wp}r=i.bind(null,t,r,e),i=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Of(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=po(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}y2(function(){var f=a,p=zp(r),v=[];e:{var y=G2.get(e);if(y!==void 0){var d=Hp,k=e;switch(e){case"keypress":if(_u(r)===0)break e;case"keydown":case"keyup":d=Fy;break;case"focusin":k="focus",d=Lf;break;case"focusout":k="blur",d=Lf;break;case"beforeblur":case"afterblur":d=Lf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Iy;break;case W2:case $2:case H2:d=ky;break;case V2:d=Ry;break;case"scroll":d=yy;break;case"wheel":d=zy;break;case"copy":case"cut":case"paste":d=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=y1}var w=(t&4)!==0,S=!w&&e==="scroll",m=w?y!==null?y+"Capture":null:y;w=[];for(var b=f,_;b!==null;){_=b;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,m!==null&&(I=ql(b,m),I!=null&&w.push(Xl(b,I,_)))),S)break;b=b.return}0<w.length&&(y=new d(y,k,null,r,p),v.push({event:y,listeners:w}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",y&&r!==Ch&&(k=r.relatedTarget||r.fromElement)&&(po(k)||k[oa]))break e;if((d||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,d?(k=r.relatedTarget||r.toElement,d=f,k=k?po(k):null,k!==null&&(S=Lo(k),k!==S||k.tag!==5&&k.tag!==6)&&(k=null)):(d=null,k=f),d!==k)){if(w=g1,I="onMouseLeave",m="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=y1,I="onPointerLeave",m="onPointerEnter",b="pointer"),S=d==null?y:ds(d),_=k==null?y:ds(k),y=new w(I,b+"leave",d,r,p),y.target=S,y.relatedTarget=_,I=null,po(p)===f&&(w=new w(m,b+"enter",k,r,p),w.target=_,w.relatedTarget=S,I=w),S=I,d&&k)t:{for(w=d,m=k,b=0,_=w;_;_=es(_))b++;for(_=0,I=m;I;I=es(I))_++;for(;0<b-_;)w=es(w),b--;for(;0<_-b;)m=es(m),_--;for(;b--;){if(w===m||m!==null&&w===m.alternate)break t;w=es(w),m=es(m)}w=null}else w=null;d!==null&&L1(v,y,d,w,!1),k!==null&&S!==null&&L1(v,S,k,w,!0)}}e:{if(y=f?ds(f):window,d=y.nodeName&&y.nodeName.toLowerCase(),d==="select"||d==="input"&&y.type==="file")var z=Vy;else if(b1(y))if(M2)z=Jy;else{z=Yy;var re=Gy}else(d=y.nodeName)&&d.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=Xy);if(z&&(z=z(e,f))){R2(v,z,r,p);break e}re&&re(e,y,f),e==="focusout"&&(re=y._wrapperState)&&re.controlled&&y.type==="number"&&Sh(y,"number",y.value)}switch(re=f?ds(f):window,e){case"focusin":(b1(re)||re.contentEditable==="true")&&(cs=re,Rh=f,Tl=null);break;case"focusout":Tl=Rh=cs=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,j1(v,r,p);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":j1(v,r,p)}var $;if(Gp)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ls?I2(e,r)&&(B="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(T2&&r.locale!=="ko"&&(ls||B!=="onCompositionStart"?B==="onCompositionEnd"&&ls&&($=D2()):(Ta=p,$p="value"in Ta?Ta.value:Ta.textContent,ls=!0)),re=Wu(f,B),0<re.length&&(B=new v1(B,e,null,r,p),v.push({event:B,listeners:re}),$?B.data=$:($=O2(r),$!==null&&(B.data=$)))),($=Uy?qy(e,r):Wy(e,r))&&(f=Wu(f,"onBeforeInput"),0<f.length&&(p=new v1("onBeforeInput","beforeinput",null,r,p),v.push({event:p,listeners:f}),p.data=$))}Y2(v,t)})}function Xl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ql(e,r),a!=null&&n.unshift(Xl(e,a,i)),a=ql(e,t),a!=null&&n.push(Xl(e,a,i))),e=e.return}return n}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L1(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,f=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&f!==null&&(s=f,i?(c=ql(r,a),c!=null&&o.unshift(Xl(r,c,s))):i||(c=ql(r,a),c!=null&&o.push(Xl(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function C1(e){return(typeof e=="string"?e:""+e).replace(nw,`
`).replace(iw,"")}function ou(e,t,r){if(t=C1(t),C1(e)!==t&&r)throw Error(tt(425))}function $u(){}var zh=null,Bh=null;function Uh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(e){return E1.resolve(null).then(e).catch(sw)}:qh;function sw(e){setTimeout(function(){throw e})}function Rf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Hl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hl(t)}function Ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Ms,Jl="__reactProps$"+Ms,oa="__reactContainer$"+Ms,Wh="__reactEvents$"+Ms,lw="__reactListeners$"+Ms,cw="__reactHandles$"+Ms;function po(e){var t=e[Ti];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oa]||r[Ti]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=F1(e);e!==null;){if(r=e[Ti])return r;e=F1(e)}return t}e=r,r=e.parentNode}return null}function lc(e){return e=e[Ti]||e[oa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function pd(e){return e[Jl]||null}var $h=[],fs=-1;function Ja(e){return{current:e}}function pr(e){0>fs||(e.current=$h[fs],$h[fs]=null,fs--)}function ur(e,t){fs++,$h[fs]=e.current,e.current=t}var Va={},fn=Ja(Va),Pn=Ja(!1),bo=Va;function Cs(e,t){var r=e.type.contextTypes;if(!r)return Va;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(e){return e=e.childContextTypes,e!=null}function Hu(){pr(Pn),pr(fn)}function D1(e,t,r){if(fn.current!==Va)throw Error(tt(168));ur(fn,t),ur(Pn,r)}function J2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(tt(108,Gv(e)||"Unknown",i));return xr({},r,n)}function Vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Va,bo=fn.current,ur(fn,e),ur(Pn,Pn.current),!0}function T1(e,t,r){var n=e.stateNode;if(!n)throw Error(tt(169));r?(e=J2(e,t,bo),n.__reactInternalMemoizedMergedChildContext=e,pr(Pn),pr(fn),ur(fn,e)):pr(Pn),ur(Pn,r)}var ea=null,md=!1,Mf=!1;function Z2(e){ea===null?ea=[e]:ea.push(e)}function uw(e){md=!0,Z2(e)}function Za(){if(!Mf&&ea!==null){Mf=!0;var e=0,t=rr;try{var r=ea;for(rr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ea=null,md=!1}catch(i){throw ea!==null&&(ea=ea.slice(e+1)),N2(Bp,Za),i}finally{rr=t,Mf=!1}}return null}var hs=[],ps=0,Gu=null,Yu=0,ti=[],ri=0,No=null,ta=1,ra="";function co(e,t){hs[ps++]=Yu,hs[ps++]=Gu,Gu=e,Yu=t}function K2(e,t,r){ti[ri++]=ta,ti[ri++]=ra,ti[ri++]=No,No=e;var n=ta;e=ra;var i=32-bi(n)-1;n&=~(1<<i),r+=1;var a=32-bi(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ta=1<<32-bi(t)+i|r<<i|n,ra=a+e}else ta=1<<a|r<<i|n,ra=e}function Xp(e){e.return!==null&&(co(e,1),K2(e,1,0))}function Jp(e){for(;e===Gu;)Gu=hs[--ps],hs[ps]=null,Yu=hs[--ps],hs[ps]=null;for(;e===No;)No=ti[--ri],ti[ri]=null,ra=ti[--ri],ti[ri]=null,ta=ti[--ri],ti[ri]=null}var Wn=null,Un=null,gr=!1,xi=null;function Q2(e,t){var r=ni(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function I1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Un=Ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=No!==null?{id:ta,overflow:ra}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ni(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,Un=null,!0):!1;default:return!1}}function Hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vh(e){if(gr){var t=Un;if(t){var r=t;if(!I1(e,t)){if(Hh(e))throw Error(tt(418));t=Ba(r.nextSibling);var n=Wn;t&&I1(e,t)?Q2(n,r):(e.flags=e.flags&-4097|2,gr=!1,Wn=e)}}else{if(Hh(e))throw Error(tt(418));e.flags=e.flags&-4097|2,gr=!1,Wn=e}}}function O1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function su(e){if(e!==Wn)return!1;if(!gr)return O1(e),gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uh(e.type,e.memoizedProps)),t&&(t=Un)){if(Hh(e))throw eg(),Error(tt(418));for(;t;)Q2(e,t),t=Ba(t.nextSibling)}if(O1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Un=Ba(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Un=null}}else Un=Wn?Ba(e.stateNode.nextSibling):null;return!0}function eg(){for(var e=Un;e;)e=Ba(e.nextSibling)}function Es(){Un=Wn=null,gr=!1}function Zp(e){xi===null?xi=[e]:xi.push(e)}var dw=ua.ReactCurrentBatchConfig;function wl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function R1(e){var t=e._init;return t(e._payload)}function tg(e){function t(m,b){if(e){var _=m.deletions;_===null?(m.deletions=[b],m.flags|=16):_.push(b)}}function r(m,b){if(!e)return null;for(;b!==null;)t(m,b),b=b.sibling;return null}function n(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function i(m,b){return m=$a(m,b),m.index=0,m.sibling=null,m}function a(m,b,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<b?(m.flags|=2,b):_):(m.flags|=2,b)):(m.flags|=1048576,b)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,b,_,I){return b===null||b.tag!==6?(b=Hf(_,m.mode,I),b.return=m,b):(b=i(b,_),b.return=m,b)}function c(m,b,_,I){var z=_.type;return z===ss?p(m,b,_.props.children,I,_.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ca&&R1(z)===b.type)?(I=i(b,_.props),I.ref=wl(m,b,_),I.return=m,I):(I=Eu(_.type,_.key,_.props,null,m.mode,I),I.ref=wl(m,b,_),I.return=m,I)}function f(m,b,_,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Vf(_,m.mode,I),b.return=m,b):(b=i(b,_.children||[]),b.return=m,b)}function p(m,b,_,I,z){return b===null||b.tag!==7?(b=yo(_,m.mode,I,z),b.return=m,b):(b=i(b,_),b.return=m,b)}function v(m,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Hf(""+b,m.mode,_),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return _=Eu(b.type,b.key,b.props,null,m.mode,_),_.ref=wl(m,null,b),_.return=m,_;case os:return b=Vf(b,m.mode,_),b.return=m,b;case Ca:var I=b._init;return v(m,I(b._payload),_)}if(Al(b)||pl(b))return b=yo(b,m.mode,_,null),b.return=m,b;lu(m,b)}return null}function y(m,b,_,I){var z=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return z!==null?null:s(m,b,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zc:return _.key===z?c(m,b,_,I):null;case os:return _.key===z?f(m,b,_,I):null;case Ca:return z=_._init,y(m,b,z(_._payload),I)}if(Al(_)||pl(_))return z!==null?null:p(m,b,_,I,null);lu(m,_)}return null}function d(m,b,_,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return m=m.get(_)||null,s(b,m,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Zc:return m=m.get(I.key===null?_:I.key)||null,c(b,m,I,z);case os:return m=m.get(I.key===null?_:I.key)||null,f(b,m,I,z);case Ca:var re=I._init;return d(m,b,_,re(I._payload),z)}if(Al(I)||pl(I))return m=m.get(_)||null,p(b,m,I,z,null);lu(b,I)}return null}function k(m,b,_,I){for(var z=null,re=null,$=b,B=b=0,Z=null;$!==null&&B<_.length;B++){$.index>B?(Z=$,$=null):Z=$.sibling;var se=y(m,$,_[B],I);if(se===null){$===null&&($=Z);break}e&&$&&se.alternate===null&&t(m,$),b=a(se,b,B),re===null?z=se:re.sibling=se,re=se,$=Z}if(B===_.length)return r(m,$),gr&&co(m,B),z;if($===null){for(;B<_.length;B++)$=v(m,_[B],I),$!==null&&(b=a($,b,B),re===null?z=$:re.sibling=$,re=$);return gr&&co(m,B),z}for($=n(m,$);B<_.length;B++)Z=d($,m,B,_[B],I),Z!==null&&(e&&Z.alternate!==null&&$.delete(Z.key===null?B:Z.key),b=a(Z,b,B),re===null?z=Z:re.sibling=Z,re=Z);return e&&$.forEach(function(U){return t(m,U)}),gr&&co(m,B),z}function w(m,b,_,I){var z=pl(_);if(typeof z!="function")throw Error(tt(150));if(_=z.call(_),_==null)throw Error(tt(151));for(var re=z=null,$=b,B=b=0,Z=null,se=_.next();$!==null&&!se.done;B++,se=_.next()){$.index>B?(Z=$,$=null):Z=$.sibling;var U=y(m,$,se.value,I);if(U===null){$===null&&($=Z);break}e&&$&&U.alternate===null&&t(m,$),b=a(U,b,B),re===null?z=U:re.sibling=U,re=U,$=Z}if(se.done)return r(m,$),gr&&co(m,B),z;if($===null){for(;!se.done;B++,se=_.next())se=v(m,se.value,I),se!==null&&(b=a(se,b,B),re===null?z=se:re.sibling=se,re=se);return gr&&co(m,B),z}for($=n(m,$);!se.done;B++,se=_.next())se=d($,m,B,se.value,I),se!==null&&(e&&se.alternate!==null&&$.delete(se.key===null?B:se.key),b=a(se,b,B),re===null?z=se:re.sibling=se,re=se);return e&&$.forEach(function(L){return t(m,L)}),gr&&co(m,B),z}function S(m,b,_,I){if(typeof _=="object"&&_!==null&&_.type===ss&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Zc:e:{for(var z=_.key,re=b;re!==null;){if(re.key===z){if(z=_.type,z===ss){if(re.tag===7){r(m,re.sibling),b=i(re,_.props.children),b.return=m,m=b;break e}}else if(re.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ca&&R1(z)===re.type){r(m,re.sibling),b=i(re,_.props),b.ref=wl(m,re,_),b.return=m,m=b;break e}r(m,re);break}else t(m,re);re=re.sibling}_.type===ss?(b=yo(_.props.children,m.mode,I,_.key),b.return=m,m=b):(I=Eu(_.type,_.key,_.props,null,m.mode,I),I.ref=wl(m,b,_),I.return=m,m=I)}return o(m);case os:e:{for(re=_.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(m,b.sibling),b=i(b,_.children||[]),b.return=m,m=b;break e}else{r(m,b);break}else t(m,b);b=b.sibling}b=Vf(_,m.mode,I),b.return=m,m=b}return o(m);case Ca:return re=_._init,S(m,b,re(_._payload),I)}if(Al(_))return k(m,b,_,I);if(pl(_))return w(m,b,_,I);lu(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(m,b.sibling),b=i(b,_),b.return=m,m=b):(r(m,b),b=Hf(_,m.mode,I),b.return=m,m=b),o(m)):r(m,b)}return S}var Fs=tg(!0),rg=tg(!1),Xu=Ja(null),Ju=null,ms=null,Kp=null;function Qp(){Kp=ms=Ju=null}function e0(e){var t=Xu.current;pr(Xu),e._currentValue=t}function Gh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ks(e,t){Ju=e,Kp=ms=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},ms===null){if(Ju===null)throw Error(tt(308));ms=e,Ju.dependencies={lanes:0,firstContext:e}}else ms=ms.next=e;return t}var mo=null;function t0(e){mo===null?mo=[e]:mo.push(e)}function ng(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,t0(t)):(r.next=i.next,i.next=r),t.interleaved=r,sa(e,n)}function sa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ea=!1;function r0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,sa(e,r)}return i=n.interleaved,i===null?(t.next=t,t0(n)):(t.next=i.next,i.next=t),n.interleaved=t,sa(e,r)}function Su(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Up(e,r)}}function M1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zu(e,t,r,n){var i=e.updateQueue;Ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,f=c.next;c.next=null,o===null?a=f:o.next=f,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,s=p.lastBaseUpdate,s!==o&&(s===null?p.firstBaseUpdate=f:s.next=f,p.lastBaseUpdate=c))}if(a!==null){var v=i.baseState;o=0,p=f=c=null,s=a;do{var y=s.lane,d=s.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=e,w=s;switch(y=t,d=r,w.tag){case 1:if(k=w.payload,typeof k=="function"){v=k.call(d,v,y);break e}v=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,y=typeof k=="function"?k.call(d,v,y):k,y==null)break e;v=xr({},v,y);break e;case 2:Ea=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[s]:y.push(s))}else d={eventTime:d,lane:y,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(f=p=d,c=v):p=p.next=d,o|=y;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;y=s,s=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);_o|=o,e.lanes=o,e.memoizedState=v}}function z1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var cc={},Mi=Ja(cc),Zl=Ja(cc),Kl=Ja(cc);function go(e){if(e===cc)throw Error(tt(174));return e}function n0(e,t){switch(ur(Kl,t),ur(Zl,e),ur(Mi,cc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ah(t,e)}pr(Mi),ur(Mi,t)}function Ds(){pr(Mi),pr(Zl),pr(Kl)}function ag(e){go(Kl.current);var t=go(Mi.current),r=Ah(t,e.type);t!==r&&(ur(Zl,e),ur(Mi,r))}function i0(e){Zl.current===e&&(pr(Mi),pr(Zl))}var yr=Ja(0);function Ku(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zf=[];function a0(){for(var e=0;e<zf.length;e++)zf[e]._workInProgressVersionPrimary=null;zf.length=0}var ju=ua.ReactCurrentDispatcher,Bf=ua.ReactCurrentBatchConfig,ko=0,wr=null,Mr=null,Hr=null,Qu=!1,Il=!1,Ql=0,fw=0;function nn(){throw Error(tt(321))}function o0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ki(e[r],t[r]))return!1;return!0}function s0(e,t,r,n,i,a){if(ko=a,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ju.current=e===null||e.memoizedState===null?gw:vw,e=r(n,i),Il){a=0;do{if(Il=!1,Ql=0,25<=a)throw Error(tt(301));a+=1,Hr=Mr=null,t.updateQueue=null,ju.current=yw,e=r(n,i)}while(Il)}if(ju.current=ed,t=Mr!==null&&Mr.next!==null,ko=0,Hr=Mr=wr=null,Qu=!1,t)throw Error(tt(300));return e}function l0(){var e=Ql!==0;return Ql=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?wr.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function oi(){if(Mr===null){var e=wr.alternate;e=e!==null?e.memoizedState:null}else e=Mr.next;var t=Hr===null?wr.memoizedState:Hr.next;if(t!==null)Hr=t,Mr=e;else{if(e===null)throw Error(tt(310));Mr=e,e={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Hr===null?wr.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function ec(e,t){return typeof t=="function"?t(e):t}function Uf(e){var t=oi(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=Mr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,f=a;do{var p=f.lane;if((ko&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var v={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(s=c=v,o=n):c=c.next=v,wr.lanes|=p,_o|=p}f=f.next}while(f!==null&&f!==a);c===null?o=n:c.next=s,ki(n,t.memoizedState)||(An=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,wr.lanes|=a,_o|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qf(e){var t=oi(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);ki(a,t.memoizedState)||(An=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function og(){}function sg(e,t){var r=wr,n=oi(),i=t(),a=!ki(n.memoizedState,i);if(a&&(n.memoizedState=i,An=!0),n=n.queue,c0(ug.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Hr!==null&&Hr.memoizedState.tag&1){if(r.flags|=2048,tc(9,cg.bind(null,r,n,i,t),void 0,null),Gr===null)throw Error(tt(349));ko&30||lg(r,t,i)}return i}function lg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cg(e,t,r,n){t.value=r,t.getSnapshot=n,dg(t)&&fg(e)}function ug(e,t,r){return r(function(){dg(t)&&fg(e)})}function dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ki(e,r)}catch{return!0}}function fg(e){var t=sa(e,1);t!==null&&Ni(t,e,1,-1)}function B1(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=mw.bind(null,wr,e),[t.memoizedState,e]}function tc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hg(){return oi().memoizedState}function Au(e,t,r,n){var i=Di();wr.flags|=e,i.memoizedState=tc(1|t,r,void 0,n===void 0?null:n)}function gd(e,t,r,n){var i=oi();n=n===void 0?null:n;var a=void 0;if(Mr!==null){var o=Mr.memoizedState;if(a=o.destroy,n!==null&&o0(n,o.deps)){i.memoizedState=tc(t,r,a,n);return}}wr.flags|=e,i.memoizedState=tc(1|t,r,a,n)}function U1(e,t){return Au(8390656,8,e,t)}function c0(e,t){return gd(2048,8,e,t)}function pg(e,t){return gd(4,2,e,t)}function mg(e,t){return gd(4,4,e,t)}function gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vg(e,t,r){return r=r!=null?r.concat([e]):null,gd(4,4,gg.bind(null,t,e),r)}function u0(){}function yg(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&o0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wg(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&o0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xg(e,t,r){return ko&21?(ki(r,t)||(r=S2(),wr.lanes|=r,_o|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=r)}function hw(e,t){var r=rr;rr=r!==0&&4>r?r:4,e(!0);var n=Bf.transition;Bf.transition={};try{e(!1),t()}finally{rr=r,Bf.transition=n}}function bg(){return oi().memoizedState}function pw(e,t,r){var n=Wa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ng(e))kg(t,r);else if(r=ng(e,t,r,n),r!==null){var i=vn();Ni(r,e,n,i),_g(r,t,n)}}function mw(e,t,r){var n=Wa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ng(e))kg(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,ki(s,o)){var c=t.interleaved;c===null?(i.next=i,t0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=ng(e,t,i,n),r!==null&&(i=vn(),Ni(r,e,n,i),_g(r,t,n))}}function Ng(e){var t=e.alternate;return e===wr||t!==null&&t===wr}function kg(e,t){Il=Qu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _g(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Up(e,r)}}var ed={readContext:ai,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},gw={readContext:ai,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:U1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Au(4194308,4,gg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){return Au(4,2,e,t)},useMemo:function(e,t){var r=Di();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Di();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pw.bind(null,wr,e),[n.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:B1,useDebugValue:u0,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=B1(!1),t=e[0];return e=hw.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wr,i=Di();if(gr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=t(),Gr===null)throw Error(tt(349));ko&30||lg(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,U1(ug.bind(null,n,a,e),[e]),n.flags|=2048,tc(9,cg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Di(),t=Gr.identifierPrefix;if(gr){var r=ra,n=ta;r=(n&~(1<<32-bi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ql++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vw={readContext:ai,useCallback:yg,useContext:ai,useEffect:c0,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:wg,useReducer:Uf,useRef:hg,useState:function(){return Uf(ec)},useDebugValue:u0,useDeferredValue:function(e){var t=oi();return xg(t,Mr.memoizedState,e)},useTransition:function(){var e=Uf(ec)[0],t=oi().memoizedState;return[e,t]},useMutableSource:og,useSyncExternalStore:sg,useId:bg,unstable_isNewReconciler:!1},yw={readContext:ai,useCallback:yg,useContext:ai,useEffect:c0,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:wg,useReducer:qf,useRef:hg,useState:function(){return qf(ec)},useDebugValue:u0,useDeferredValue:function(e){var t=oi();return Mr===null?t.memoizedState=e:xg(t,Mr.memoizedState,e)},useTransition:function(){var e=qf(ec)[0],t=oi().memoizedState;return[e,t]},useMutableSource:og,useSyncExternalStore:sg,useId:bg,unstable_isNewReconciler:!1};function vi(e,t){if(e&&e.defaultProps){t=xr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vd={isMounted:function(e){return(e=e._reactInternals)?Lo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vn(),i=Wa(e),a=ia(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ua(e,a,i),t!==null&&(Ni(t,e,i,n),Su(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vn(),i=Wa(e),a=ia(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ua(e,a,i),t!==null&&(Ni(t,e,i,n),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vn(),n=Wa(e),i=ia(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ua(e,i,n),t!==null&&(Ni(t,e,n,r),Su(t,e,n))}};function q1(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Gl(r,n)||!Gl(i,a):!0}function Sg(e,t,r){var n=!1,i=Va,a=t.contextType;return typeof a=="object"&&a!==null?a=ai(a):(i=Ln(t)?bo:fn.current,n=t.contextTypes,a=(n=n!=null)?Cs(e,i):Va),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function W1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vd.enqueueReplaceState(t,t.state,null)}function Xh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},r0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ai(a):(a=Ln(t)?bo:fn.current,i.context=Cs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Yh(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vd.enqueueReplaceState(i,i.state,null),Zu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var r="",n=t;do r+=Vv(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function jg(e,t,r){r=ia(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rd||(rd=!0,op=n),Jh(e,t)},r}function Ag(e,t,r){r=ia(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Jh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Jh(e,t),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ww;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Dw.bind(null,e,t,r),t.then(e,e))}function H1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function V1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ia(-1,1),t.tag=2,Ua(r,t,1))),r.lanes|=1),e)}var xw=ua.ReactCurrentOwner,An=!1;function gn(e,t,r,n){t.child=e===null?rg(t,null,r,n):Fs(t,e.child,r,n)}function G1(e,t,r,n,i){r=r.render;var a=t.ref;return ks(t,i),n=s0(e,t,r,n,a,i),r=l0(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(gr&&r&&Xp(t),t.flags|=1,gn(e,t,n,i),t.child)}function Y1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!y0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Pg(e,t,a,n,i)):(e=Eu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Gl,r(o,n)&&e.ref===t.ref)return la(e,t,i)}return t.flags|=1,e=$a(a,n),e.ref=t.ref,e.return=t,t.child=e}function Pg(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Gl(a,n)&&e.ref===t.ref)if(An=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,la(e,t,i)}return Zh(e,t,r,n,i)}function Lg(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(vs,Mn),Mn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ur(vs,Mn),Mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ur(vs,Mn),Mn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ur(vs,Mn),Mn|=n;return gn(e,t,i,r),t.child}function Cg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zh(e,t,r,n,i){var a=Ln(r)?bo:fn.current;return a=Cs(t,a),ks(t,i),r=s0(e,t,r,n,a,i),n=l0(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(gr&&n&&Xp(t),t.flags|=1,gn(e,t,r,i),t.child)}function X1(e,t,r,n,i){if(Ln(r)){var a=!0;Vu(t)}else a=!1;if(ks(t,i),t.stateNode===null)Pu(e,t),Sg(t,r,n),Xh(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=ai(f):(f=Ln(r)?bo:fn.current,f=Cs(t,f));var p=r.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==f)&&W1(t,o,n,f),Ea=!1;var y=t.memoizedState;o.state=y,Zu(t,n,o,i),c=t.memoizedState,s!==n||y!==c||Pn.current||Ea?(typeof p=="function"&&(Yh(t,r,p,n),c=t.memoizedState),(s=Ea||q1(t,r,s,n,y,c,f))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=f,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ig(e,t),s=t.memoizedProps,f=t.type===t.elementType?s:vi(t.type,s),o.props=f,v=t.pendingProps,y=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ai(c):(c=Ln(r)?bo:fn.current,c=Cs(t,c));var d=r.getDerivedStateFromProps;(p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==v||y!==c)&&W1(t,o,n,c),Ea=!1,y=t.memoizedState,o.state=y,Zu(t,n,o,i);var k=t.memoizedState;s!==v||y!==k||Pn.current||Ea?(typeof d=="function"&&(Yh(t,r,d,n),k=t.memoizedState),(f=Ea||q1(t,r,f,n,y,k,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),o.props=n,o.state=k,o.context=c,n=f):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Kh(e,t,r,n,a,i)}function Kh(e,t,r,n,i,a){Cg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&T1(t,r,!1),la(e,t,a);n=t.stateNode,xw.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fs(t,e.child,null,a),t.child=Fs(t,null,s,a)):gn(e,t,s,a),t.memoizedState=n.state,i&&T1(t,r,!0),t.child}function Eg(e){var t=e.stateNode;t.pendingContext?D1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D1(e,t.context,!1),n0(e,t.containerInfo)}function J1(e,t,r,n,i){return Es(),Zp(i),t.flags|=256,gn(e,t,r,n),t.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function ep(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fg(e,t,r){var n=t.pendingProps,i=yr.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ur(yr,i&1),e===null)return Vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=xd(o,n,0,null),e=yo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ep(r),t.memoizedState=Qh,e):d0(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return bw(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$a(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=$a(s,a):(a=yo(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?ep(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Qh,n}return a=e.child,e=a.sibling,n=$a(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function d0(e,t){return t=xd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,r,n){return n!==null&&Zp(n),Fs(t,e.child,null,r),e=d0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bw(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Wf(Error(tt(422))),cu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=xd({mode:"visible",children:n.children},i,0,null),a=yo(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Fs(t,e.child,null,o),t.child.memoizedState=ep(o),t.memoizedState=Qh,a);if(!(t.mode&1))return cu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(tt(419)),n=Wf(a,n,void 0),cu(e,t,o,n)}if(s=(o&e.childLanes)!==0,An||s){if(n=Gr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,sa(e,i),Ni(n,e,i,-1))}return v0(),n=Wf(Error(tt(421))),cu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tw.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Un=Ba(i.nextSibling),Wn=t,gr=!0,xi=null,e!==null&&(ti[ri++]=ta,ti[ri++]=ra,ti[ri++]=No,ta=e.id,ra=e.overflow,No=t),t=d0(t,n.children),t.flags|=4096,t)}function Z1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gh(e.return,t,r)}function $f(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Dg(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(gn(e,t,n.children,r),n=yr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z1(e,r,t);else if(e.tag===19)Z1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ur(yr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ku(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),$f(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ku(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}$f(t,!0,r,null,a);break;case"together":$f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function la(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_o|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,r=$a(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$a(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Nw(e,t,r){switch(t.tag){case 3:Eg(t),Es();break;case 5:ag(t);break;case 1:Ln(t.type)&&Vu(t);break;case 4:n0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ur(Xu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ur(yr,yr.current&1),t.flags|=128,null):r&t.child.childLanes?Fg(e,t,r):(ur(yr,yr.current&1),e=la(e,t,r),e!==null?e.sibling:null);ur(yr,yr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dg(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(yr,yr.current),n)break;return null;case 22:case 23:return t.lanes=0,Lg(e,t,r)}return la(e,t,r)}var Tg,tp,Ig,Og;Tg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tp=function(){};Ig=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,go(Mi.current);var a=null;switch(r){case"input":i=kh(e,i),n=kh(e,n),a=[];break;case"select":i=xr({},i,{value:void 0}),n=xr({},n,{value:void 0}),a=[];break;case"textarea":i=jh(e,i),n=jh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$u)}Ph(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var s=i[f];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Bl.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in n){var c=n[f];if(s=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&c!==s&&(c!=null||s!=null))if(f==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(f,r)),r=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&fr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(f,c))}r&&(a=a||[]).push("style",r);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};Og=function(e,t,r,n){r!==n&&(t.flags|=4)};function xl(e,t){if(!gr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kw(e,t,r){var n=t.pendingProps;switch(Jp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return Ln(t.type)&&Hu(),an(t),null;case 3:return n=t.stateNode,Ds(),pr(Pn),pr(fn),a0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xi!==null&&(cp(xi),xi=null))),tp(e,t),an(t),null;case 5:i0(t);var i=go(Kl.current);if(r=t.type,e!==null&&t.stateNode!=null)Ig(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(tt(166));return an(t),null}if(e=go(Mi.current),su(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ti]=t,n[Jl]=a,e=(t.mode&1)!==0,r){case"dialog":fr("cancel",n),fr("close",n);break;case"iframe":case"object":case"embed":fr("load",n);break;case"video":case"audio":for(i=0;i<Ll.length;i++)fr(Ll[i],n);break;case"source":fr("error",n);break;case"img":case"image":case"link":fr("error",n),fr("load",n);break;case"details":fr("toggle",n);break;case"input":o1(n,a),fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},fr("invalid",n);break;case"textarea":l1(n,a),fr("invalid",n)}Ph(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ou(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ou(n.textContent,s,e),i=["children",""+s]):Bl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&fr("scroll",n)}switch(r){case"input":Kc(n),s1(n,a,!0);break;case"textarea":Kc(n),c1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$u)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ti]=t,e[Jl]=n,Tg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lh(r,n),r){case"dialog":fr("cancel",e),fr("close",e),i=n;break;case"iframe":case"object":case"embed":fr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ll.length;i++)fr(Ll[i],e);i=n;break;case"source":fr("error",e),i=n;break;case"img":case"image":case"link":fr("error",e),fr("load",e),i=n;break;case"details":fr("toggle",e),i=n;break;case"input":o1(e,n),i=kh(e,n),fr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=xr({},n,{value:void 0}),fr("invalid",e);break;case"textarea":l1(e,n),i=jh(e,n),fr("invalid",e);break;default:i=n}Ph(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?h2(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d2(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ul(e,c):typeof c=="number"&&Ul(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&fr("scroll",e):c!=null&&Ip(e,a,c,o))}switch(r){case"input":Kc(e),s1(e,n,!1);break;case"textarea":Kc(e),c1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ha(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ws(e,!!n.multiple,a,!1):n.defaultValue!=null&&ws(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$u)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)Og(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(tt(166));if(r=go(Kl.current),go(Mi.current),su(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ti]=t,(a=n.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:ou(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ou(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ti]=t,t.stateNode=n}return an(t),null;case 13:if(pr(yr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gr&&Un!==null&&t.mode&1&&!(t.flags&128))eg(),Es(),t.flags|=98560,a=!1;else if(a=su(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(tt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(tt(317));a[Ti]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),a=!1}else xi!==null&&(cp(xi),xi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?zr===0&&(zr=3):v0())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return Ds(),tp(e,t),e===null&&Yl(t.stateNode.containerInfo),an(t),null;case 10:return e0(t.type._context),an(t),null;case 17:return Ln(t.type)&&Hu(),an(t),null;case 19:if(pr(yr),a=t.memoizedState,a===null)return an(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)xl(a,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ku(e),o!==null){for(t.flags|=128,xl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ur(yr,yr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Lr()>Is&&(t.flags|=128,n=!0,xl(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ku(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!gr)return an(t),null}else 2*Lr()-a.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,n=!0,xl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lr(),t.sibling=null,r=yr.current,ur(yr,n?r&1|2:r&1),t):(an(t),null);case 22:case 23:return g0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mn&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function _w(e,t){switch(Jp(t),t.tag){case 1:return Ln(t.type)&&Hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),pr(Pn),pr(fn),a0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i0(t),null;case 13:if(pr(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(yr),null;case 4:return Ds(),null;case 10:return e0(t.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var uu=!1,un=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,gt=null;function gs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jr(e,t,n)}else r.current=null}function rp(e,t,r){try{r()}catch(n){jr(e,t,n)}}var K1=!1;function jw(e,t){if(zh=Uu,e=U2(),Yp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,f=0,p=0,v=e,y=null;t:for(;;){for(var d;v!==r||i!==0&&v.nodeType!==3||(s=o+i),v!==a||n!==0&&v.nodeType!==3||(c=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(d=v.firstChild)!==null;)y=v,v=d;for(;;){if(v===e)break t;if(y===r&&++f===i&&(s=o),y===a&&++p===n&&(c=o),(d=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=d}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bh={focusedElem:e,selectionRange:r},Uu=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,S=k.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:vi(t.type,w),S);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(I){jr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return k=K1,K1=!1,k}function Ol(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&rp(t,r,a)}i=i.next}while(i!==n)}}function yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function np(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Rg(e){var t=e.alternate;t!==null&&(e.alternate=null,Rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Jl],delete t[Wh],delete t[lw],delete t[cw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mg(e){return e.tag===5||e.tag===3||e.tag===4}function Q1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ip(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$u));else if(n!==4&&(e=e.child,e!==null))for(ip(e,t,r),e=e.sibling;e!==null;)ip(e,t,r),e=e.sibling}function ap(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ap(e,t,r),e=e.sibling;e!==null;)ap(e,t,r),e=e.sibling}var Zr=null,wi=!1;function Aa(e,t,r){for(r=r.child;r!==null;)zg(e,t,r),r=r.sibling}function zg(e,t,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(ud,r)}catch{}switch(r.tag){case 5:un||gs(r,t);case 6:var n=Zr,i=wi;Zr=null,Aa(e,t,r),Zr=n,wi=i,Zr!==null&&(wi?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(wi?(e=Zr,r=r.stateNode,e.nodeType===8?Rf(e.parentNode,r):e.nodeType===1&&Rf(e,r),Hl(e)):Rf(Zr,r.stateNode));break;case 4:n=Zr,i=wi,Zr=r.stateNode.containerInfo,wi=!0,Aa(e,t,r),Zr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&rp(r,t,o),i=i.next}while(i!==n)}Aa(e,t,r);break;case 1:if(!un&&(gs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){jr(r,t,s)}Aa(e,t,r);break;case 21:Aa(e,t,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,Aa(e,t,r),un=n):Aa(e,t,r);break;default:Aa(e,t,r)}}function em(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sw),t.forEach(function(n){var i=Iw.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Zr=s.stateNode,wi=!1;break e;case 3:Zr=s.stateNode.containerInfo,wi=!0;break e;case 4:Zr=s.stateNode.containerInfo,wi=!0;break e}s=s.return}if(Zr===null)throw Error(tt(160));zg(a,o,i),Zr=null,wi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){jr(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bg(t,e),t=t.sibling}function Bg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pi(t,e),Ei(e),n&4){try{Ol(3,e,e.return),yd(3,e)}catch(w){jr(e,e.return,w)}try{Ol(5,e,e.return)}catch(w){jr(e,e.return,w)}}break;case 1:pi(t,e),Ei(e),n&512&&r!==null&&gs(r,r.return);break;case 5:if(pi(t,e),Ei(e),n&512&&r!==null&&gs(r,r.return),e.flags&32){var i=e.stateNode;try{Ul(i,"")}catch(w){jr(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&l2(i,a),Lh(s,o);var f=Lh(s,a);for(o=0;o<c.length;o+=2){var p=c[o],v=c[o+1];p==="style"?h2(i,v):p==="dangerouslySetInnerHTML"?d2(i,v):p==="children"?Ul(i,v):Ip(i,p,v,f)}switch(s){case"input":_h(i,a);break;case"textarea":c2(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?ws(i,!!a.multiple,d,!1):y!==!!a.multiple&&(a.defaultValue!=null?ws(i,!!a.multiple,a.defaultValue,!0):ws(i,!!a.multiple,a.multiple?[]:"",!1))}i[Jl]=a}catch(w){jr(e,e.return,w)}}break;case 6:if(pi(t,e),Ei(e),n&4){if(e.stateNode===null)throw Error(tt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){jr(e,e.return,w)}}break;case 3:if(pi(t,e),Ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(w){jr(e,e.return,w)}break;case 4:pi(t,e),Ei(e);break;case 13:pi(t,e),Ei(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(p0=Lr())),n&4&&em(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(un=(f=un)||p,pi(t,e),un=f):pi(t,e),Ei(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(gt=e,p=e.child;p!==null;){for(v=gt=p;gt!==null;){switch(y=gt,d=y.child,y.tag){case 0:case 11:case 14:case 15:Ol(4,y,y.return);break;case 1:gs(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){jr(n,r,w)}}break;case 5:gs(y,y.return);break;case 22:if(y.memoizedState!==null){rm(v);continue}}d!==null?(d.return=y,gt=d):rm(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=v.stateNode,c=v.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=f2("display",o))}catch(w){jr(e,e.return,w)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(w){jr(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:pi(t,e),Ei(e),n&4&&em(e);break;case 21:break;default:pi(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mg(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ul(i,""),n.flags&=-33);var a=Q1(e);ap(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Q1(e);ip(e,s,o);break;default:throw Error(tt(161))}}catch(c){jr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Aw(e,t,r){gt=e,Ug(e)}function Ug(e,t,r){for(var n=(e.mode&1)!==0;gt!==null;){var i=gt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||uu;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||un;s=uu;var f=un;if(uu=o,(un=c)&&!f)for(gt=i;gt!==null;)o=gt,c=o.child,o.tag===22&&o.memoizedState!==null?nm(i):c!==null?(c.return=o,gt=c):nm(i);for(;a!==null;)gt=a,Ug(a),a=a.sibling;gt=i,uu=s,un=f}tm(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,gt=a):tm(e)}}function tm(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:un||yd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!un)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&z1(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}z1(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Hl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}un||t.flags&512&&np(t)}catch(y){jr(t,t.return,y)}}if(t===e){gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,gt=r;break}gt=t.return}}function rm(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,gt=r;break}gt=t.return}}function nm(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yd(4,t)}catch(c){jr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){jr(t,i,c)}}var a=t.return;try{np(t)}catch(c){jr(t,a,c)}break;case 5:var o=t.return;try{np(t)}catch(c){jr(t,o,c)}}}catch(c){jr(t,t.return,c)}if(t===e){gt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,gt=s;break}gt=t.return}}var Pw=Math.ceil,td=ua.ReactCurrentDispatcher,f0=ua.ReactCurrentOwner,ii=ua.ReactCurrentBatchConfig,Xt=0,Gr=null,Or=null,Kr=0,Mn=0,vs=Ja(0),zr=0,rc=null,_o=0,wd=0,h0=0,Rl=null,jn=null,p0=0,Is=1/0,Qi=null,rd=!1,op=null,qa=null,du=!1,Ia=null,nd=0,Ml=0,sp=null,Lu=-1,Cu=0;function vn(){return Xt&6?Lr():Lu!==-1?Lu:Lu=Lr()}function Wa(e){return e.mode&1?Xt&2&&Kr!==0?Kr&-Kr:dw.transition!==null?(Cu===0&&(Cu=S2()),Cu):(e=rr,e!==0||(e=window.event,e=e===void 0?16:F2(e.type)),e):1}function Ni(e,t,r,n){if(50<Ml)throw Ml=0,sp=null,Error(tt(185));oc(e,r,n),(!(Xt&2)||e!==Gr)&&(e===Gr&&(!(Xt&2)&&(wd|=r),zr===4&&Da(e,Kr)),Cn(e,n),r===1&&Xt===0&&!(t.mode&1)&&(Is=Lr()+500,md&&Za()))}function Cn(e,t){var r=e.callbackNode;dy(e,t);var n=Bu(e,e===Gr?Kr:0);if(n===0)r!==null&&f1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&f1(r),t===1)e.tag===0?uw(im.bind(null,e)):Z2(im.bind(null,e)),ow(function(){!(Xt&6)&&Za()}),r=null;else{switch(j2(n)){case 1:r=Bp;break;case 4:r=k2;break;case 16:r=zu;break;case 536870912:r=_2;break;default:r=zu}r=Xg(r,qg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qg(e,t){if(Lu=-1,Cu=0,Xt&6)throw Error(tt(327));var r=e.callbackNode;if(_s()&&e.callbackNode!==r)return null;var n=Bu(e,e===Gr?Kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=id(e,n);else{t=n;var i=Xt;Xt|=2;var a=$g();(Gr!==e||Kr!==t)&&(Qi=null,Is=Lr()+500,vo(e,t));do try{Ew();break}catch(s){Wg(e,s)}while(!0);Qp(),td.current=a,Xt=i,Or!==null?t=0:(Gr=null,Kr=0,t=zr)}if(t!==0){if(t===2&&(i=Th(e),i!==0&&(n=i,t=lp(e,i))),t===1)throw r=rc,vo(e,0),Da(e,n),Cn(e,Lr()),r;if(t===6)Da(e,n);else{if(i=e.current.alternate,!(n&30)&&!Lw(i)&&(t=id(e,n),t===2&&(a=Th(e),a!==0&&(n=a,t=lp(e,a))),t===1))throw r=rc,vo(e,0),Da(e,n),Cn(e,Lr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(tt(345));case 2:uo(e,jn,Qi);break;case 3:if(Da(e,n),(n&130023424)===n&&(t=p0+500-Lr(),10<t)){if(Bu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){vn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qh(uo.bind(null,e,jn,Qi),t);break}uo(e,jn,Qi);break;case 4:if(Da(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-bi(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pw(n/1960))-n,10<n){e.timeoutHandle=qh(uo.bind(null,e,jn,Qi),n);break}uo(e,jn,Qi);break;case 5:uo(e,jn,Qi);break;default:throw Error(tt(329))}}}return Cn(e,Lr()),e.callbackNode===r?qg.bind(null,e):null}function lp(e,t){var r=Rl;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=id(e,t),e!==2&&(t=jn,jn=r,t!==null&&cp(t)),e}function cp(e){jn===null?jn=e:jn.push.apply(jn,e)}function Lw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ki(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Da(e,t){for(t&=~h0,t&=~wd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bi(t),n=1<<r;e[r]=-1,t&=~n}}function im(e){if(Xt&6)throw Error(tt(327));_s();var t=Bu(e,0);if(!(t&1))return Cn(e,Lr()),null;var r=id(e,t);if(e.tag!==0&&r===2){var n=Th(e);n!==0&&(t=n,r=lp(e,n))}if(r===1)throw r=rc,vo(e,0),Da(e,t),Cn(e,Lr()),r;if(r===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uo(e,jn,Qi),Cn(e,Lr()),null}function m0(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(Is=Lr()+500,md&&Za())}}function So(e){Ia!==null&&Ia.tag===0&&!(Xt&6)&&_s();var t=Xt;Xt|=1;var r=ii.transition,n=rr;try{if(ii.transition=null,rr=1,e)return e()}finally{rr=n,ii.transition=r,Xt=t,!(Xt&6)&&Za()}}function g0(){Mn=vs.current,pr(vs)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aw(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(Jp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hu();break;case 3:Ds(),pr(Pn),pr(fn),a0();break;case 5:i0(n);break;case 4:Ds();break;case 13:pr(yr);break;case 19:pr(yr);break;case 10:e0(n.type._context);break;case 22:case 23:g0()}r=r.return}if(Gr=e,Or=e=$a(e.current,null),Kr=Mn=t,zr=0,rc=null,h0=wd=_o=0,jn=Rl=null,mo!==null){for(t=0;t<mo.length;t++)if(r=mo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}mo=null}return e}function Wg(e,t){do{var r=Or;try{if(Qp(),ju.current=ed,Qu){for(var n=wr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Qu=!1}if(ko=0,Hr=Mr=wr=null,Il=!1,Ql=0,f0.current=null,r===null||r.return===null){zr=1,rc=t,Or=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=Kr,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=s,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var d=H1(o);if(d!==null){d.flags&=-257,V1(d,o,s,a,t),d.mode&1&&$1(a,f,t),t=d,c=f;var k=t.updateQueue;if(k===null){var w=new Set;w.add(c),t.updateQueue=w}else k.add(c);break e}else{if(!(t&1)){$1(a,f,t),v0();break e}c=Error(tt(426))}}else if(gr&&s.mode&1){var S=H1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),V1(S,o,s,a,t),Zp(Ts(c,s));break e}}a=c=Ts(c,s),zr!==4&&(zr=2),Rl===null?Rl=[a]:Rl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=jg(a,c,t);M1(a,m);break e;case 1:s=c;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qa===null||!qa.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=Ag(a,s,t);M1(a,I);break e}}a=a.return}while(a!==null)}Vg(r)}catch(z){t=z,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function $g(){var e=td.current;return td.current=ed,e===null?ed:e}function v0(){(zr===0||zr===3||zr===2)&&(zr=4),Gr===null||!(_o&268435455)&&!(wd&268435455)||Da(Gr,Kr)}function id(e,t){var r=Xt;Xt|=2;var n=$g();(Gr!==e||Kr!==t)&&(Qi=null,vo(e,t));do try{Cw();break}catch(i){Wg(e,i)}while(!0);if(Qp(),Xt=r,td.current=n,Or!==null)throw Error(tt(261));return Gr=null,Kr=0,zr}function Cw(){for(;Or!==null;)Hg(Or)}function Ew(){for(;Or!==null&&!ry();)Hg(Or)}function Hg(e){var t=Yg(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?Vg(e):Or=t,f0.current=null}function Vg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_w(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Or=null;return}}else if(r=kw(r,t,Mn),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);zr===0&&(zr=5)}function uo(e,t,r){var n=rr,i=ii.transition;try{ii.transition=null,rr=1,Fw(e,t,r,n)}finally{ii.transition=i,rr=n}return null}function Fw(e,t,r,n){do _s();while(Ia!==null);if(Xt&6)throw Error(tt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(fy(e,a),e===Gr&&(Or=Gr=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,Xg(zu,function(){return _s(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ii.transition,ii.transition=null;var o=rr;rr=1;var s=Xt;Xt|=4,f0.current=null,jw(e,r),Bg(r,e),Ky(Bh),Uu=!!zh,Bh=zh=null,e.current=r,Aw(r),ny(),Xt=s,rr=o,ii.transition=a}else e.current=r;if(du&&(du=!1,Ia=e,nd=i),a=e.pendingLanes,a===0&&(qa=null),oy(r.stateNode),Cn(e,Lr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,e=op,op=null,e;return nd&1&&e.tag!==0&&_s(),a=e.pendingLanes,a&1?e===sp?Ml++:(Ml=0,sp=e):Ml=0,Za(),null}function _s(){if(Ia!==null){var e=j2(nd),t=ii.transition,r=rr;try{if(ii.transition=null,rr=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,nd=0,Xt&6)throw Error(tt(331));var i=Xt;for(Xt|=4,gt=e.current;gt!==null;){var a=gt,o=a.child;if(gt.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var f=s[c];for(gt=f;gt!==null;){var p=gt;switch(p.tag){case 0:case 11:case 15:Ol(8,p,a)}var v=p.child;if(v!==null)v.return=p,gt=v;else for(;gt!==null;){p=gt;var y=p.sibling,d=p.return;if(Rg(p),p===f){gt=null;break}if(y!==null){y.return=d,gt=y;break}gt=d}}}var k=a.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}gt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,gt=o;else e:for(;gt!==null;){if(a=gt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ol(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,gt=m;break e}gt=a.return}}var b=e.current;for(gt=b;gt!==null;){o=gt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,gt=_;else e:for(o=b;gt!==null;){if(s=gt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yd(9,s)}}catch(z){jr(s,s.return,z)}if(s===o){gt=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,gt=I;break e}gt=s.return}}if(Xt=i,Za(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(ud,e)}catch{}n=!0}return n}finally{rr=r,ii.transition=t}}return!1}function am(e,t,r){t=Ts(r,t),t=jg(e,t,1),e=Ua(e,t,1),t=vn(),e!==null&&(oc(e,1,t),Cn(e,t))}function jr(e,t,r){if(e.tag===3)am(e,e,r);else for(;t!==null;){if(t.tag===3){am(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){e=Ts(r,e),e=Ag(t,e,1),t=Ua(t,e,1),e=vn(),t!==null&&(oc(t,1,e),Cn(t,e));break}}t=t.return}}function Dw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vn(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(Kr&r)===r&&(zr===4||zr===3&&(Kr&130023424)===Kr&&500>Lr()-p0?vo(e,0):h0|=r),Cn(e,t)}function Gg(e,t){t===0&&(e.mode&1?(t=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):t=1);var r=vn();e=sa(e,t),e!==null&&(oc(e,t,r),Cn(e,r))}function Tw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gg(e,r)}function Iw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(t),Gg(e,r)}var Yg;Yg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)An=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return An=!1,Nw(e,t,r);An=!!(e.flags&131072)}else An=!1,gr&&t.flags&1048576&&K2(t,Yu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pu(e,t),e=t.pendingProps;var i=Cs(t,fn.current);ks(t,r),i=s0(null,t,n,e,i,r);var a=l0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(a=!0,Vu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,r0(t),i.updater=vd,t.stateNode=i,i._reactInternals=t,Xh(t,n,e,r),t=Kh(null,t,n,!0,a,r)):(t.tag=0,gr&&a&&Xp(t),gn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Rw(n),e=vi(n,e),i){case 0:t=Zh(null,t,n,e,r);break e;case 1:t=X1(null,t,n,e,r);break e;case 11:t=G1(null,t,n,e,r);break e;case 14:t=Y1(null,t,n,vi(n.type,e),r);break e}throw Error(tt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),Zh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),X1(e,t,n,i,r);case 3:e:{if(Eg(t),e===null)throw Error(tt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,ig(e,t),Zu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ts(Error(tt(423)),t),t=J1(e,t,n,r,i);break e}else if(n!==i){i=Ts(Error(tt(424)),t),t=J1(e,t,n,r,i);break e}else for(Un=Ba(t.stateNode.containerInfo.firstChild),Wn=t,gr=!0,xi=null,r=rg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Es(),n===i){t=la(e,t,r);break e}gn(e,t,n,r)}t=t.child}return t;case 5:return ag(t),e===null&&Vh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Uh(n,i)?o=null:a!==null&&Uh(n,a)&&(t.flags|=32),Cg(e,t),gn(e,t,o,r),t.child;case 6:return e===null&&Vh(t),null;case 13:return Fg(e,t,r);case 4:return n0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fs(t,null,n,r):gn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),G1(e,t,n,i,r);case 7:return gn(e,t,t.pendingProps,r),t.child;case 8:return gn(e,t,t.pendingProps.children,r),t.child;case 12:return gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ur(Xu,n._currentValue),n._currentValue=o,a!==null)if(ki(a.value,o)){if(a.children===i.children&&!Pn.current){t=la(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ia(-1,r&-r),c.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Gh(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(tt(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Gh(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ks(t,r),i=ai(i),n=n(i),t.flags|=1,gn(e,t,n,r),t.child;case 14:return n=t.type,i=vi(n,t.pendingProps),i=vi(n.type,i),Y1(e,t,n,i,r);case 15:return Pg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),Pu(e,t),t.tag=1,Ln(n)?(e=!0,Vu(t)):e=!1,ks(t,r),Sg(t,n,i),Xh(t,n,i,r),Kh(null,t,n,!0,e,r);case 19:return Dg(e,t,r);case 22:return Lg(e,t,r)}throw Error(tt(156,t.tag))};function Xg(e,t){return N2(e,t)}function Ow(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(e,t,r,n){return new Ow(e,t,r,n)}function y0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rw(e){if(typeof e=="function")return y0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rp)return 11;if(e===Mp)return 14}return 2}function $a(e,t){var r=e.alternate;return r===null?(r=ni(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Eu(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")y0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ss:return yo(r.children,i,a,t);case Op:o=8,i|=8;break;case wh:return e=ni(12,r,t,i|2),e.elementType=wh,e.lanes=a,e;case xh:return e=ni(13,r,t,i),e.elementType=xh,e.lanes=a,e;case bh:return e=ni(19,r,t,i),e.elementType=bh,e.lanes=a,e;case a2:return xd(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n2:o=10;break e;case i2:o=9;break e;case Rp:o=11;break e;case Mp:o=14;break e;case Ca:o=16,n=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=ni(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function yo(e,t,r,n){return e=ni(7,e,n,t),e.lanes=r,e}function xd(e,t,r,n){return e=ni(22,e,n,t),e.elementType=a2,e.lanes=r,e.stateNode={isHidden:!1},e}function Hf(e,t,r){return e=ni(6,e,null,t),e.lanes=r,e}function Vf(e,t,r){return t=ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mw(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w0(e,t,r,n,i,a,o,s,c){return e=new Mw(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ni(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},r0(a),e}function zw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jg(e){if(!e)return Va;e=e._reactInternals;e:{if(Lo(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var r=e.type;if(Ln(r))return J2(e,r,t)}return t}function Zg(e,t,r,n,i,a,o,s,c){return e=w0(r,n,!0,e,i,a,o,s,c),e.context=Jg(null),r=e.current,n=vn(),i=Wa(r),a=ia(n,i),a.callback=t??null,Ua(r,a,i),e.current.lanes=i,oc(e,i,n),Cn(e,n),e}function bd(e,t,r,n){var i=t.current,a=vn(),o=Wa(i);return r=Jg(r),t.context===null?t.context=r:t.pendingContext=r,t=ia(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ua(i,t,o),e!==null&&(Ni(e,i,o,a),Su(e,i,o)),o}function ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function om(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function x0(e,t){om(e,t),(e=e.alternate)&&om(e,t)}function Bw(){return null}var Kg=typeof reportError=="function"?reportError:function(e){console.error(e)};function b0(e){this._internalRoot=e}Nd.prototype.render=b0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));bd(e,t,null,null)};Nd.prototype.unmount=b0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;So(function(){bd(null,e,null,null)}),t[oa]=null}};function Nd(e){this._internalRoot=e}Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=L2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fa.length&&t!==0&&t<Fa[r].priority;r++);Fa.splice(r,0,e),r===0&&E2(e)}};function N0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sm(){}function Uw(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var f=ad(o);a.call(f)}}var o=Zg(t,n,e,0,null,!1,!1,"",sm);return e._reactRootContainer=o,e[oa]=o.current,Yl(e.nodeType===8?e.parentNode:e),So(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var f=ad(c);s.call(f)}}var c=w0(e,0,!1,null,null,!1,!1,"",sm);return e._reactRootContainer=c,e[oa]=c.current,Yl(e.nodeType===8?e.parentNode:e),So(function(){bd(t,c,r,n)}),c}function _d(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=ad(o);s.call(c)}}bd(t,o,e,i)}else o=Uw(r,t,e,i,n);return ad(o)}A2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pl(t.pendingLanes);r!==0&&(Up(t,r|1),Cn(t,Lr()),!(Xt&6)&&(Is=Lr()+500,Za()))}break;case 13:So(function(){var n=sa(e,1);if(n!==null){var i=vn();Ni(n,e,1,i)}}),x0(e,1)}};qp=function(e){if(e.tag===13){var t=sa(e,134217728);if(t!==null){var r=vn();Ni(t,e,134217728,r)}x0(e,134217728)}};P2=function(e){if(e.tag===13){var t=Wa(e),r=sa(e,t);if(r!==null){var n=vn();Ni(r,e,t,n)}x0(e,t)}};L2=function(){return rr};C2=function(e,t){var r=rr;try{return rr=e,t()}finally{rr=r}};Eh=function(e,t,r){switch(t){case"input":if(_h(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pd(n);if(!i)throw Error(tt(90));s2(n),_h(n,i)}}}break;case"textarea":c2(e,r);break;case"select":t=r.value,t!=null&&ws(e,!!r.multiple,t,!1)}};g2=m0;v2=So;var qw={usingClientEntryPoint:!1,Events:[lc,ds,pd,p2,m2,m0]},bl={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ww={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x2(e),e===null?null:e.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||Bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ud=fu.inject(Ww),Ri=fu}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qw;Vn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(t))throw Error(tt(200));return zw(e,t,null,r)};Vn.createRoot=function(e,t){if(!N0(e))throw Error(tt(299));var r=!1,n="",i=Kg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=w0(e,1,!1,null,null,r,!1,n,i),e[oa]=t.current,Yl(e.nodeType===8?e.parentNode:e),new b0(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=x2(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return So(e)};Vn.hydrate=function(e,t,r){if(!kd(t))throw Error(tt(200));return _d(null,e,t,!0,r)};Vn.hydrateRoot=function(e,t,r){if(!N0(e))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Kg;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Zg(t,null,e,1,r??null,i,!1,a,o),e[oa]=t.current,Yl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Nd(t)};Vn.render=function(e,t,r){if(!kd(t))throw Error(tt(200));return _d(null,e,t,!1,r)};Vn.unmountComponentAtNode=function(e){if(!kd(e))throw Error(tt(40));return e._reactRootContainer?(So(function(){_d(null,null,e,!1,function(){e._reactRootContainer=null,e[oa]=null})}),!0):!1};Vn.unstable_batchedUpdates=m0;Vn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kd(r))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return _d(e,t,r,!1,n)};Vn.version="18.3.1-next-f1338f8080-20240426";function Qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qg)}catch(e){console.error(e)}}Qg(),Qm.exports=Vn;var $w=Qm.exports,lm=$w;vh.createRoot=lm.createRoot,vh.hydrateRoot=lm.hydrateRoot;/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),cm=e=>{const t=Vw(e);return t.charAt(0).toUpperCase()+t.slice(1)},e5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Gw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=qe.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>qe.createElement("svg",{ref:c,...Yw,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:e5("lucide",i),...!a&&!Gw(s)&&{"aria-hidden":"true"},...s},[...o.map(([f,p])=>qe.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=(e,t)=>{const r=qe.forwardRef(({className:n,...i},a)=>qe.createElement(Xw,{ref:a,iconNode:t,className:e5(`lucide-${Hw(cm(e))}`,`lucide-${e}`,n),...i}));return r.displayName=cm(e),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Zw=en("arrow-down",Jw);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qw=en("arrow-left",Kw);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tx=en("arrow-up",ex);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nx=en("camera",rx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],ax=en("clipboard-check",ix);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sx=en("copy",ox);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cx=en("download",lx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],dx=en("ellipsis-vertical",ux);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]],hx=en("folder-down",fx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],mx=en("folder-open",px);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],vx=en("maximize",gx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wx=en("message-square",yx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bx=en("plus",xx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kx=en("save",Nx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sx=en("search",_x);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],t5=en("x",jx);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Px=en("zap",Ax),Ii=e=>h.jsx(bx,{strokeWidth:1.25,...e}),k0=e=>h.jsx(t5,{strokeWidth:1.25,...e}),r5=e=>h.jsx(nx,{strokeWidth:1.25,color:"#007D8C",...e}),n5=e=>h.jsx(tx,{strokeWidth:1.25,...e}),i5=e=>h.jsx(Zw,{strokeWidth:1.25,...e}),si=e=>h.jsx(cx,{strokeWidth:1.25,color:"#ffffffff",...e}),Br=e=>h.jsx(t5,{strokeWidth:1.25,...e}),Sd=e=>h.jsx(kx,{strokeWidth:1.25,color:"#ffffffff",...e}),uc=e=>h.jsx(mx,{strokeWidth:1.25,...e}),nc=e=>h.jsx(hx,{strokeWidth:1.25,...e}),jd=e=>h.jsx(Qw,{strokeWidth:1.25,color:"#007D8C",...e}),Lx=e=>h.jsx(Sx,{strokeWidth:1.25,color:"#007D8C",...e}),Cx=e=>h.jsx(dx,{strokeWidth:1.25,...e}),Ex=e=>h.jsx(vx,{strokeWidth:1.25,color:"#007D8C",...e}),a5=e=>h.jsx(sx,{strokeWidth:1.25,...e}),zn=e=>h.jsx(wx,{strokeWidth:1.25,...e}),Fx=e=>h.jsx(Px,{strokeWidth:1.25,color:"#FF6700",...e}),Dx=e=>h.jsx(ax,{strokeWidth:1.25,color:"#007D8C",...e}),up=(e,t)=>t.some(r=>e instanceof r);let um,dm;function Tx(){return um||(um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ix(){return dm||(dm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dp=new WeakMap,Gf=new WeakMap,Ad=new WeakMap;function Ox(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(wo(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return Ad.set(t,e),t}function Rx(e){if(dp.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});dp.set(e,t)}let fp={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return dp.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return wo(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function o5(e){fp=e(fp)}function Mx(e){return Ix().includes(e)?function(...t){return e.apply(hp(this),t),wo(this.request)}:function(...t){return wo(e.apply(hp(this),t))}}function zx(e){return typeof e=="function"?Mx(e):(e instanceof IDBTransaction&&Rx(e),up(e,Tx())?new Proxy(e,fp):e)}function wo(e){if(e instanceof IDBRequest)return Ox(e);if(Gf.has(e))return Gf.get(e);const t=zx(e);return t!==e&&(Gf.set(e,t),Ad.set(t,e)),t}const hp=e=>Ad.get(e);function Bx(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=wo(o);return n&&o.addEventListener("upgradeneeded",c=>{n(wo(o.result),c.oldVersion,c.newVersion,wo(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),s.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),s}const Ux=["get","getKey","getAll","getAllKeys","count"],qx=["put","add","delete","clear"],Yf=new Map;function fm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Yf.get(t))return Yf.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=qx.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Ux.includes(r)))return;const a=async function(o,...s){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(s.shift())),(await Promise.all([f[r](...s),i&&c.done]))[0]};return Yf.set(t,a),a}o5(e=>({...e,get:(t,r,n)=>fm(t,r)||e.get(t,r,n),has:(t,r)=>!!fm(t,r)||e.has(t,r)}));const Wx=["continue","continuePrimaryKey","advance"],hm={},pp=new WeakMap,s5=new WeakMap,$x={get(e,t){if(!Wx.includes(t))return e[t];let r=hm[t];return r||(r=hm[t]=function(...n){pp.set(this,s5.get(this)[t](...n))}),r}};async function*Hx(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,$x);for(s5.set(r,t),Ad.set(r,hp(t));t;)yield r,t=await(pp.get(r)||t.continue()),pp.delete(r)}function pm(e,t){return t===Symbol.asyncIterator&&up(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&up(e,[IDBIndex,IDBObjectStore])}o5(e=>({...e,get(t,r,n){return pm(t,r)?Hx:e.get(t,r,n)},has(t,r){return pm(t,r)||e.has(t,r)}}));let Xf=null;const Vx="XtecProjectsDB",jo="images",Ao="projects",Co=()=>(Xf||(Xf=Bx(Vx,2,{upgrade(e,t){e.objectStoreNames.contains(jo)||e.createObjectStore(jo),t<2&&(e.objectStoreNames.contains(Ao)||e.createObjectStore(Ao))}})),Xf),Pd=async(e,t)=>{await(await Co()).put(jo,t,e)},na=async e=>(await Co()).get(jo,e),li=async e=>{await(await Co()).delete(jo,e)},Ld=async(e,t)=>{await(await Co()).put(Ao,t,e)},_i=async e=>(await Co()).get(Ao,e),ca=async e=>{await(await Co()).delete(Ao,e)},Gx=async()=>{const t=(await Co()).transaction([jo,Ao],"readwrite");await Promise.all([t.objectStore(jo).clear(),t.objectStore(Ao).clear(),t.done])},$n=({fileName:e,...t})=>{const[r,n]=qe.useState("");return qe.useEffect(()=>{let i=!0;return(async()=>{var o;if((o=window.electronAPI)!=null&&o.getAssetPath)try{const s=await window.electronAPI.getAssetPath(e);i&&n(s)}catch(s){console.error("Failed to resolve asset path:",s),i&&console.error("Asset not resolved:",e)}else i&&n(`./assets/${e}`)})(),()=>{i=!1}},[e]),r?h.jsx("img",{src:r,...t}):null},Cd=async e=>{var t;return(t=window.electronAPI)!=null&&t.getAssetPath?await window.electronAPI.getAssetPath(e):`./assets/${e}`},mp="xtec_recent_projects",mm=5,Yx=()=>{try{const e=localStorage.getItem(mp);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse recent projects from localStorage",e),[]}},Xx=e=>{switch(e){case"photoLog":return"Photographic Log";case"dfrStandard":return"Daily field Report";case"dfrSaskpower":return"Sask Power Daily Field Report";case"combinedLog":return"Combine Logs";case"iogcLeaseAudit":return"IOGC Lease Audit";default:return"Report"}},hu=({title:e,description:t,icon:r,onClick:n})=>h.jsxs("div",{onClick:n,className:"bg-gray-50 dark:bg-gray-800 hover:bg-white dark:hover:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col items-center text-center group",role:"button",tabIndex:0,onKeyPress:i=>(i.key==="Enter"||i.key===" ")&&n(),"aria-label":`Select ${e}`,children:[h.jsx("div",{className:"text-[#007D8C] mb-4 group-hover:scale-110 transition-transform duration-300",children:r}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:e}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t})]}),gm=({onSelectApp:e,onOpenProject:t,isUpdateAvailable:r})=>{const[n,i]=qe.useState([]),[a,o]=qe.useState(""),[s,c]=qe.useState(null),[f,p]=qe.useState(!1),[v,y]=qe.useState(!1);qe.useEffect(()=>{i(Yx())},[]);const d=qe.useMemo(()=>a?n.filter(m=>m.name.toLowerCase().includes(a.toLowerCase())||m.projectNumber.toLowerCase().includes(a.toLowerCase())):n,[a,n]),k=m=>{const b=n.filter(_=>_.timestamp!==m);localStorage.setItem(mp,JSON.stringify(b)),i(b),c(null)},w=async m=>{if(!window.confirm(`Are you sure you want to permanently delete "${m.name||"Untitled Project"}"? This action cannot be undone.`)){c(null);return}const b=n.filter(_=>_.timestamp!==m.timestamp);localStorage.setItem(mp,JSON.stringify(b)),i(b);try{const _=await _i(m.timestamp);if(_!=null&&_.photosData&&Array.isArray(_.photosData))for(const I of _.photosData)I.imageId&&await li(I.imageId)}catch(_){console.error("Failed to retrieve project data for image deletion:",_)}try{await ca(m.timestamp)}catch(_){console.error("Failed to delete project from DB:",_)}c(null)},S=f?d:d.slice(0,mm);return h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[r&&!v&&h.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900 border-l-4 border-teal-500 text-teal-700 dark:text-teal-200 p-4 relative",role:"alert",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"py-1",children:h.jsx("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"A new update is available!"}),h.jsx("p",{className:"text-sm",children:"The download has started and will be installed automatically when you quit and restart the application."})]})]}),h.jsx("button",{onClick:()=>y(!0),className:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Dismiss",children:h.jsxs("svg",{className:"fill-current h-6 w-6 text-teal-500",role:"button",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:"Close"}),h.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),h.jsxs("header",{className:"relative h-96 bg-black",children:[h.jsx($n,{fileName:"landscape.jpg",alt:"Oil field landscape",className:"w-full h-full object-cover saturate-150 opacity-90 dark:opacity-75",style:{objectPosition:"center 85%"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-100 dark:from-gray-900 to-transparent"})]}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 -mt-20 relative z-10",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 md:p-12 mb-10 transition-colors duration-200",children:[h.jsxs("div",{className:"text-center border-b border-gray-200 dark:border-gray-700 pb-8",children:[h.jsx($n,{fileName:"xterra-logo.jpg",alt:"X-TERRA Logo",className:"h-16 w-auto mx-auto mb-4 mix-blend-multiply dark:mix-blend-normal dark:bg-white dark:p-1 dark:rounded"}),h.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 dark:text-white sm:text-4xl",children:"Create a New Report"}),h.jsx("p",{className:"mt-3 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Select a report type to begin a new project from scratch."})]}),h.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(hu,{title:"Photographic Log",description:"Create and edit photographic logs.",icon:h.jsx(r5,{className:"h-12 w-12"}),onClick:()=>e("photoLog")}),h.jsx(hu,{title:"Daily Field Report",description:"Standard DFR for project documentation.",icon:h.jsx(Dx,{className:"h-12 w-12"}),onClick:()=>e("dfrStandard")}),h.jsx(hu,{title:"SaskPower DFR",description:"DFR tailored for SaskPower projects.",icon:h.jsx(Fx,{className:"h-12 w-12"}),onClick:()=>e("dfrSaskpower")}),h.jsx(hu,{title:"Combine Logs",description:"Merge photos from multiple reports.",icon:h.jsx(a5,{className:"h-12 w-12"}),onClick:()=>e("combinedLog")})]})]}),h.jsxs("div",{className:"mt-16",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-white sm:text-4xl",children:"Recent Projects"}),h.jsx("p",{className:"mt-3 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Continue working on a previously saved report. Your projects are stored in this browser."})]}),h.jsx("div",{className:"max-w-xl mx-auto mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Lx,{className:"text-gray-400 dark:text-gray-500"})}),h.jsx("input",{type:"search",value:a,onChange:m=>o(m.target.value),placeholder:"Search by project name or number...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-800 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-[#007D8C] focus:border-[#007D8C] sm:text-sm shadow-sm transition-colors duration-200"})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden transition-colors duration-200",children:d.length>0?h.jsxs(h.Fragment,{children:[h.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:S.map(m=>h.jsxs("li",{className:`relative ${s===m.timestamp?"z-20":"z-auto"}`,children:[h.jsx("button",{onClick:()=>t(m),className:"w-full text-left block hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-700 transition duration-150 ease-in-out pr-12",children:h.jsxs("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-lg font-semibold text-[#007D8C] truncate",children:m.name||"Untitled Project"}),h.jsxs("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 flex flex-wrap items-center gap-x-2",children:[h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full",children:Xx(m.type)}),h.jsx("span",{className:"text-gray-300 dark:text-gray-600 hidden sm:inline",children:"|"}),h.jsxs("span",{children:["Project #: ",m.projectNumber||"N/A"]}),h.jsx("span",{className:"text-gray-300 dark:text-gray-600 hidden sm:inline",children:"|"}),h.jsxs("span",{children:["Last updated: ",new Date(m.timestamp).toLocaleDateString()]})]})]}),h.jsx("div",{className:"ml-4 flex-shrink-0",children:h.jsx(uc,{className:"h-7 w-7 text-gray-400 dark:text-gray-500"})})]})}),h.jsxs("div",{className:"absolute top-1/2 right-4 -translate-y-1/2",children:[h.jsx("button",{onClick:b=>{b.stopPropagation(),c(s===m.timestamp?null:m.timestamp)},className:"p-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#007D8C]","aria-haspopup":"true","aria-expanded":s===m.timestamp,children:h.jsx(Cx,{className:"h-6 w-6"})}),s===m.timestamp&&h.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none z-10",onMouseLeave:()=>c(null),children:h.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[h.jsx("button",{onClick:()=>k(m.timestamp),className:"w-full text-left block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",children:"Remove from recent"}),h.jsx("button",{onClick:()=>w(m),className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30",role:"menuitem",children:"Delete project permanently"})]})})]})]},m.timestamp))}),d.length>mm&&h.jsx("div",{className:"p-4 text-center border-t border-gray-200 dark:border-gray-700",children:h.jsx("button",{onClick:()=>p(!f),className:"text-[#007D8C] hover:text-[#006b7a] font-semibold transition-colors duration-200",children:f?"Show Less":"Show More"})})]}):h.jsxs("div",{className:"text-center py-12 px-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No Recent Projects Found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:a?"Try adjusting your search.":"Projects you save or open will appear here."})]})})]})]}),h.jsx("footer",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-4",children:"X-TES Digital Reporting v1.1.2"})]})},Jx=({isPrintable:e=!1})=>h.jsx("div",{className:"flex items-center",children:h.jsx($n,{fileName:"xterra-logo.jpg",alt:"X-TERRA Logo",className:e?"h-10 w-auto":"h-14 w-auto mix-blend-multiply dark:mix-blend-normal dark:bg-white dark:p-1 dark:rounded-sm"})}),Nl=({label:e,value:t,onChange:r,isPrintable:n=!1,isInvalid:i=!1,isTextArea:a=!1,placeholder:o=""})=>{const s=qe.useRef(null),c=qe.useRef(null);if(qe.useLayoutEffect(()=>{s.current&&(s.current.style.height="inherit",s.current.style.height=`${s.current.scrollHeight}px`)},[t]),n)return h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsxs("span",{className:"text-base font-bold text-black flex-shrink-0 whitespace-nowrap",children:[e,":"]}),h.jsx("span",{className:"text-base font-normal text-black break-words",children:t||""})]});const f=`p-1 w-full border-b-2 focus:outline-none focus:border-[#007D8C]
        transition duration-200 bg-transparent text-base font-normal min-w-0
        text-black dark:text-gray-100
        ${i?"border-red-500":"border-gray-300 dark:border-gray-600"}`,p="text-base font-bold text-black dark:text-gray-200 flex-shrink-0 whitespace-nowrap";return a?h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsxs("label",{className:`${p} pt-1`,children:[e,":"]}),h.jsx("textarea",{ref:s,value:t,onChange:v=>r(v.target.value),rows:1,className:`${f} resize-none overflow-hidden`,placeholder:o})]}):h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsxs("label",{className:p,children:[e,":"]}),h.jsx("input",{ref:c,type:"text",value:t,onChange:v=>r(v.target.value),className:f,placeholder:o})]})},l5=({data:e,onDataChange:t,isPrintable:r=!1,errors:n})=>h.jsxs("div",{className:`bg-white dark:bg-gray-800 transition-colors duration-200 ${r?"p-0 shadow-none mb-2":"p-6 shadow-md rounded-lg mb-4"}`,children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] md:items-center pb-4 gap-4",children:[h.jsx("div",{className:"flex justify-center md:justify-start",children:h.jsx(Jx,{isPrintable:r})}),h.jsx("h1",{className:`font-extrabold text-[#007D8C] tracking-wider text-center whitespace-nowrap ${r?"text-2xl":"text-4xl"}`,children:"PHOTOGRAPHIC LOG"}),h.jsx("div",{})]}),h.jsx("div",{className:"border-t-4 border-[#007D8C]"}),h.jsxs("div",{className:`max-w-5xl mx-auto flex flex-col ${r?"gap-y-1 pt-3 pb-2":"gap-y-2 pt-3 pb-2"}`,children:[h.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${r?"gap-x-4 gap-y-1":"gap-x-8 gap-y-2"}`,children:[h.jsxs("div",{className:`flex flex-col ${r?"gap-1":"gap-2"}`,children:[h.jsx(Nl,{label:"Proponent",value:e.proponent,onChange:i=>t("proponent",i),isPrintable:r,isInvalid:n==null?void 0:n.has("proponent")}),h.jsx(Nl,{label:"Location",value:e.location,onChange:i=>t("location",i),isPrintable:r,isInvalid:n==null?void 0:n.has("location"),isTextArea:!0})]}),h.jsxs("div",{className:`flex flex-col ${r?"gap-1":"gap-2"}`,children:[h.jsx(Nl,{label:"Date",value:e.date,onChange:i=>t("date",i),isPrintable:r,isInvalid:n==null?void 0:n.has("date"),placeholder:"October 1, 2025"}),h.jsx(Nl,{label:"Project",value:e.projectNumber,onChange:i=>t("projectNumber",i),isPrintable:r,isInvalid:n==null?void 0:n.has("projectNumber")})]})]}),h.jsx("div",{children:h.jsx(Nl,{label:"Project Name",value:e.projectName,onChange:i=>t("projectName",i),isPrintable:r,isInvalid:n==null?void 0:n.has("projectName")})})]}),h.jsx("div",{className:"border-t-4 border-[#007D8C]"})]}),kl=({label:e,value:t,onChange:r,isTextArea:n=!1,printable:i=!1,isInvalid:a=!1,readOnly:o=!1,placeholder:s=""})=>{const c="p-1 w-full bg-transparent focus:outline-none transition text-base min-w-0 placeholder-gray-400 dark:placeholder-gray-500",f="block text-base font-bold text-black dark:text-gray-200 whitespace-nowrap";return i?h.jsxs("div",{children:[h.jsxs("label",{className:"block text-base font-bold",children:[e,":"]}),h.jsx("p",{className:"mt-1 text-base whitespace-pre-wrap",children:t||""})]}):o?h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsxs("label",{className:f,children:[e,":"]}),h.jsx("span",{className:"p-1 w-full text-base text-gray-500",children:t})]}):n?h.jsxs("div",{children:[h.jsxs("label",{className:f,children:[e,":"]}),h.jsx("textarea",{rows:4,value:t,onChange:p=>r(p.target.value),className:`mt-1 ${c} border-b ${a?"border-red-500":"border-gray-300 dark:border-gray-600 focus:border-[#007D8C]"}`,placeholder:s})]}):h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsxs("label",{className:f,children:[e,":"]}),h.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),className:`${c} border-b ${a?"border-red-500":"border-gray-300 dark:border-gray-600 focus:border-[#007D8C]"}`,placeholder:s})]})},Ed=({data:e,onDataChange:t,onImageChange:r,onRemove:n,onMoveUp:i,onMoveDown:a,isFirst:o,isLast:s,printable:c=!1,errors:f,showDirectionField:p=!1,isLocationLocked:v=!1,onImageClick:y,headerDate:d,headerLocation:k})=>{const[w,S]=qe.useState(!1),m=_=>{_.target.files&&_.target.files[0]&&r(_.target.files[0])},b=w?"border-[#007D8C] bg-teal-50 dark:bg-teal-900/30 scale-[1.02]":f!=null&&f.has("imageUrl")?"ring-2 ring-red-500 bg-gray-50 dark:bg-gray-700":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600";return h.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 shadow-md rounded-lg break-inside-avoid",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx(kl,{label:e.isMap?"Map":"Photo",value:e.photoNumber,onChange:()=>{},printable:c,readOnly:!0}),!c&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:i,disabled:o,className:"p-1 text-gray-500 hover:text-black disabled:opacity-30",children:h.jsx(n5,{className:"h-7 w-7"})}),h.jsx("button",{onClick:a,disabled:s,className:"p-1 text-gray-500 hover:text-black disabled:opacity-30",children:h.jsx(i5,{className:"h-7 w-7"})}),h.jsx("button",{onClick:n,className:"p-1 text-red-500 hover:text-red-700",children:h.jsx(k0,{className:"h-7 w-7"})})]})]}),p&&h.jsx(kl,{label:"Direction",value:e.direction||"",onChange:_=>t("direction",_),printable:c}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(kl,{label:"Date",value:e.date,onChange:_=>t("date",_),printable:c}),!c&&h.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 rounded text-xs",onClick:()=>d&&t("date",d),children:""})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(kl,{label:"Location",value:e.location,readOnly:v,onChange:_=>t("location",_),printable:c}),!c&&h.jsx("button",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 rounded text-xs",onClick:()=>k&&t("location",k),children:""})]}),h.jsx(kl,{label:"Description",value:e.description,onChange:_=>t("description",_),isTextArea:!0,printable:c})]}),h.jsx("div",{className:"flex items-center justify-end md:col-span-2",children:h.jsxs("div",{className:`relative w-full max-w-md aspect-[4/3] rounded-lg overflow-hidden transition-all border-2 border-transparent ${b}`,onDragOver:_=>{_.preventDefault(),!c&&S(!0)},onDragLeave:()=>S(!1),onDrop:_=>{var I;_.preventDefault(),S(!1),(I=_.dataTransfer.files)!=null&&I.length&&r(_.dataTransfer.files[0])},children:[!c&&h.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"absolute inset-0 w-full h-full opacity-0 z-10 cursor-pointer"}),e.imageUrl?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:e.imageUrl,className:"absolute inset-0 w-full h-full object-contain pointer-events-none"}),!c&&y&&h.jsx("button",{className:"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white p-2 rounded-full z-20",onClick:_=>{_.stopPropagation(),y(e.imageUrl)},children:h.jsx(Ex,{className:"h-5 w-5"})})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full text-gray-500 pointer-events-none",children:[h.jsx(r5,{className:"h-20 w-20 text-gray-400"}),h.jsx("p",{className:"mt-2 font-semibold",children:"Click or drag to upload an image"})]})]})})]})})},Fd=()=>{const[e,t]=qe.useState(!1),[r,n]=qe.useState(null),i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],a=o=>{navigator.clipboard.writeText(o).then(()=>{n(o),setTimeout(()=>n(null),1500)}).catch(s=>{console.error("Failed to copy character: ",s)})};return e?h.jsxs("div",{className:"fixed top-1/2 right-0 -translate-y-1/2 bg-white dark:bg-gray-800 p-4 rounded-l-lg shadow-xl z-50 border-l-2 border-t-2 border-b-2 border-gray-200 dark:border-gray-600 w-64 transition-colors duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:"Special Characters"}),h.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100","aria-label":"Close special character palette",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[h.jsx("path",{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}),h.jsx("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"})]})})]}),h.jsx("div",{className:"grid grid-cols-6 gap-1",children:i.map(o=>h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>a(o),className:"w-8 h-8 flex items-center justify-center text-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white rounded-md transition-colors",title:`Copy character: ${o}`,children:o}),r===o&&h.jsx("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs font-bold px-2 py-1 rounded-md shadow-lg animate-fade-out z-10",children:"Copied!"})]},o))}),h.jsx("style",{children:`
                @keyframes fade-out {
                    0% { opacity: 1; transform: translate(-50%, 0); }
                    80% { opacity: 1; transform: translate(-50%, 0); }
                    100% { opacity: 0; transform: translate(-50%, -10px); }
                }
                .animate-fade-out {
                    animation: fade-out 1.5s forwards;
                }
            `})]}):h.jsx("button",{onClick:()=>t(!0),className:"fixed top-1/2 right-0 -translate-y-1/2 bg-[#007D8C] text-white p-2 rounded-l-md shadow-lg z-50 hover:bg-[#006b7a] transition-colors",style:{writingMode:"vertical-rl"},"aria-label":"Open special character palette",children:h.jsx("span",{className:"font-bold text-lg transform rotate-180",children:"Symbols"})})},Dd=({imageUrl:e,onClose:t,fileName:r,fileSize:n,dateTaken:i})=>{const[a,o]=qe.useState("");return qe.useEffect(()=>{const s=c=>{c.key==="Escape"&&t()};if(window.addEventListener("keydown",s),document.body.style.overflow="hidden",n){const c=n/1048576;o(c.toFixed(2)+" MB")}return()=>{window.removeEventListener("keydown",s),document.body.style.overflow="auto"}},[t,n]),h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,role:"dialog","aria-modal":"true",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors","aria-label":"Close image view",children:h.jsx(Br,{className:"h-10 w-10"})}),h.jsxs("div",{className:"relative max-w-full max-h-full",onClick:s=>s.stopPropagation(),children:[h.jsx("img",{src:e,alt:"Enlarged view",className:"object-contain max-w-[90vw] max-h-[80vh] rounded-lg shadow-2xl"}),(r||a||i)&&h.jsxs("div",{className:"mt-4 bg-white/10 backdrop-blur-md p-4 rounded-lg text-white text-sm space-y-1",children:[r&&h.jsxs("p",{children:[h.jsx("strong",{children:"File:"})," ",r]}),a&&h.jsxs("p",{children:[h.jsx("strong",{children:"Size:"})," ",a]}),i&&h.jsxs("p",{children:[h.jsx("strong",{children:"Date Taken:"})," ",i]})]})]})]})},Td=({message:e})=>h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center max-w-sm w-full",children:[h.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-4",children:e}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-[#007D8C] h-2.5 rounded-full animate-progress-indeterminate"})})]}),h.jsx("style",{children:`
        @keyframes progress-indeterminate {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-progress-indeterminate {
          animation: progress-indeterminate 1.5s infinite linear;
          width: 50%; /* Adjust width of the moving bar */
        }
      `})]}),Zx="modulepreload",Kx=function(e,t){return new URL(e,t).href},vm={},gp=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(f=>{if(f=Kx(f,n),f in vm)return;vm[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let k=o.length-1;k>=0;k--){const w=o[k];if(w.href===f&&(!p||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${v}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":Zx,p||(d.as="script"),d.crossOrigin="",d.href=f,c&&d.setAttribute("nonce",c),document.head.appendChild(d),p)return new Promise((k,w)=>{d.addEventListener("load",k),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}var dn=Uint8Array,qn=Uint16Array,_0=Int32Array,Id=new dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Od=new dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vp=new dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c5=function(e,t){for(var r=new qn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new _0(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},u5=c5(Id,2),d5=u5.b,yp=u5.r;d5[28]=258,yp[258]=28;var f5=c5(Od,0),Qx=f5.b,ym=f5.r,wp=new qn(32768);for(var hr=0;hr<32768;++hr){var Pa=(hr&43690)>>1|(hr&21845)<<1;Pa=(Pa&52428)>>2|(Pa&13107)<<2,Pa=(Pa&61680)>>4|(Pa&3855)<<4,wp[hr]=((Pa&65280)>>8|(Pa&255)<<8)>>1}var zi=function(e,t,r){for(var n=e.length,i=0,a=new qn(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new qn(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new qn(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var f=i<<4|e[i],p=t-e[i],v=o[e[i]-1]++<<p,y=v|(1<<p)-1;v<=y;++v)s[wp[v]>>c]=f}else for(s=new qn(n),i=0;i<n;++i)e[i]&&(s[i]=wp[o[e[i]-1]++]>>15-e[i]);return s},Ga=new dn(288);for(var hr=0;hr<144;++hr)Ga[hr]=8;for(var hr=144;hr<256;++hr)Ga[hr]=9;for(var hr=256;hr<280;++hr)Ga[hr]=7;for(var hr=280;hr<288;++hr)Ga[hr]=8;var ic=new dn(32);for(var hr=0;hr<32;++hr)ic[hr]=5;var eb=zi(Ga,9,0),tb=zi(Ga,9,1),rb=zi(ic,5,0),nb=zi(ic,5,1),Jf=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},mi=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Zf=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},S0=function(e){return(e+7)/8|0},h5=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new dn(e.subarray(t,r))},ib=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yi=function(e,t,r){var n=new Error(t||ib[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,yi),!r)throw n;return n},ab=function(e,t,r,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return r||new dn(0);var o=!r,s=o||t.i!=2,c=t.i;o&&(r=new dn(i*3));var f=function(be){var De=r.length;if(be>De){var Oe=new dn(Math.max(De*2,be));Oe.set(r),r=Oe}},p=t.f||0,v=t.p||0,y=t.b||0,d=t.l,k=t.d,w=t.m,S=t.n,m=i*8;do{if(!d){p=mi(e,v,1);var b=mi(e,v+1,3);if(v+=3,b)if(b==1)d=tb,k=nb,w=9,S=5;else if(b==2){var re=mi(e,v,31)+257,$=mi(e,v+10,15)+4,B=re+mi(e,v+5,31)+1;v+=14;for(var Z=new dn(B),se=new dn(19),U=0;U<$;++U)se[vp[U]]=mi(e,v+U*3,7);v+=$*3;for(var L=Jf(se),H=(1<<L)-1,N=zi(se,L,1),U=0;U<B;){var le=N[mi(e,v,H)];v+=le&15;var _=le>>4;if(_<16)Z[U++]=_;else{var ve=0,de=0;for(_==16?(de=3+mi(e,v,3),v+=2,ve=Z[U-1]):_==17?(de=3+mi(e,v,7),v+=3):_==18&&(de=11+mi(e,v,127),v+=7);de--;)Z[U++]=ve}}var ne=Z.subarray(0,re),ee=Z.subarray(re);w=Jf(ne),S=Jf(ee),d=zi(ne,w,1),k=zi(ee,S,1)}else yi(1);else{var _=S0(v)+4,I=e[_-4]|e[_-3]<<8,z=_+I;if(z>i){c&&yi(0);break}s&&f(y+I),r.set(e.subarray(_,z),y),t.b=y+=I,t.p=v=z*8,t.f=p;continue}if(v>m){c&&yi(0);break}}s&&f(y+131072);for(var me=(1<<w)-1,ue=(1<<S)-1,A=v;;A=v){var ve=d[Zf(e,v)&me],V=ve>>4;if(v+=ve&15,v>m){c&&yi(0);break}if(ve||yi(2),V<256)r[y++]=V;else if(V==256){A=v,d=null;break}else{var Y=V-254;if(V>264){var U=V-257,K=Id[U];Y=mi(e,v,(1<<K)-1)+d5[U],v+=K}var pe=k[Zf(e,v)&ue],je=pe>>4;pe||yi(3),v+=pe&15;var ee=Qx[je];if(je>3){var K=Od[je];ee+=Zf(e,v)&(1<<K)-1,v+=K}if(v>m){c&&yi(0);break}s&&f(y+131072);var ke=y+Y;if(y<ee){var oe=a-ee,Se=Math.min(ee,ke);for(oe+y<0&&yi(3);y<Se;++y)r[y]=n[oe+y]}for(;y<ke;++y)r[y]=r[y-ee]}}t.l=d,t.p=A,t.b=y,t.f=p,d&&(p=1,t.m=w,t.d=k,t.n=S)}while(!p);return y!=r.length&&o?h5(r,0,y):r.subarray(0,y)},Zi=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},_l=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Kf=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:m5,l:0};if(i==1){var o=new dn(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(z,re){return z.f-re.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],f=0,p=1,v=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};p!=i-1;)s=r[r[f].f<r[v].f?f++:v++],c=r[f!=p&&r[f].f<r[v].f?f++:v++],r[p++]={s:-1,f:s.f+c.f,l:s,r:c};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var d=new qn(y+1),k=xp(r[p-1],d,0);if(k>t){var n=0,w=0,S=k-t,m=1<<S;for(a.sort(function(re,$){return d[$.s]-d[re.s]||re.f-$.f});n<i;++n){var b=a[n].s;if(d[b]>t)w+=m-(1<<k-d[b]),d[b]=t;else break}for(w>>=S;w>0;){var _=a[n].s;d[_]<t?w-=1<<t-d[_]++-1:++n}for(;n>=0&&w;--n){var I=a[n].s;d[I]==t&&(--d[I],++w)}k=t}return{t:new dn(d),l:k}},xp=function(e,t,r){return e.s==-1?Math.max(xp(e.l,t,r+1),xp(e.r,t,r+1)):t[e.s]=r},wm=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new qn(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:r.subarray(0,n),n:t}},Sl=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},p5=function(e,t,r){var n=r.length,i=S0(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},xm=function(e,t,r,n,i,a,o,s,c,f,p){Zi(t,p++,r),++i[256];for(var v=Kf(i,15),y=v.t,d=v.l,k=Kf(a,15),w=k.t,S=k.l,m=wm(y),b=m.c,_=m.n,I=wm(w),z=I.c,re=I.n,$=new qn(19),B=0;B<b.length;++B)++$[b[B]&31];for(var B=0;B<z.length;++B)++$[z[B]&31];for(var Z=Kf($,7),se=Z.t,U=Z.l,L=19;L>4&&!se[vp[L-1]];--L);var H=f+5<<3,N=Sl(i,Ga)+Sl(a,ic)+o,le=Sl(i,y)+Sl(a,w)+o+14+3*L+Sl($,se)+2*$[16]+3*$[17]+7*$[18];if(c>=0&&H<=N&&H<=le)return p5(t,p,e.subarray(c,c+f));var ve,de,ne,ee;if(Zi(t,p,1+(le<N)),p+=2,le<N){ve=zi(y,d,0),de=y,ne=zi(w,S,0),ee=w;var me=zi(se,U,0);Zi(t,p,_-257),Zi(t,p+5,re-1),Zi(t,p+10,L-4),p+=14;for(var B=0;B<L;++B)Zi(t,p+3*B,se[vp[B]]);p+=3*L;for(var ue=[b,z],A=0;A<2;++A)for(var V=ue[A],B=0;B<V.length;++B){var Y=V[B]&31;Zi(t,p,me[Y]),p+=se[Y],Y>15&&(Zi(t,p,V[B]>>5&127),p+=V[B]>>12)}}else ve=eb,de=Ga,ne=rb,ee=ic;for(var B=0;B<s;++B){var K=n[B];if(K>255){var Y=K>>18&31;_l(t,p,ve[Y+257]),p+=de[Y+257],Y>7&&(Zi(t,p,K>>23&31),p+=Id[Y]);var pe=K&31;_l(t,p,ne[pe]),p+=ee[pe],pe>3&&(_l(t,p,K>>5&8191),p+=Od[pe])}else _l(t,p,ve[K]),p+=de[K]}return _l(t,p,ve[256]),p+de[256]},ob=new _0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m5=new dn(0),sb=function(e,t,r,n,i,a){var o=a.z||e.length,s=new dn(n+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(n,s.length-i),f=a.l,p=(a.r||0)&7;if(t){p&&(c[0]=a.r>>3);for(var v=ob[t-1],y=v>>13,d=v&8191,k=(1<<r)-1,w=a.p||new qn(32768),S=a.h||new qn(k+1),m=Math.ceil(r/3),b=2*m,_=function(P){return(e[P]^e[P+1]<<m^e[P+2]<<b)&k},I=new _0(25e3),z=new qn(288),re=new qn(32),$=0,B=0,Z=a.i||0,se=0,U=a.w||0,L=0;Z+2<o;++Z){var H=_(Z),N=Z&32767,le=S[H];if(w[N]=le,S[H]=N,U<=Z){var ve=o-Z;if(($>7e3||se>24576)&&(ve>423||!f)){p=xm(e,c,0,I,z,re,B,se,L,Z-L,p),se=$=B=0,L=Z;for(var de=0;de<286;++de)z[de]=0;for(var de=0;de<30;++de)re[de]=0}var ne=2,ee=0,me=d,ue=N-le&32767;if(ve>2&&H==_(Z-ue))for(var A=Math.min(y,ve)-1,V=Math.min(32767,Z),Y=Math.min(258,ve);ue<=V&&--me&&N!=le;){if(e[Z+ne]==e[Z+ne-ue]){for(var K=0;K<Y&&e[Z+K]==e[Z+K-ue];++K);if(K>ne){if(ne=K,ee=ue,K>A)break;for(var pe=Math.min(ue,K-2),je=0,de=0;de<pe;++de){var ke=Z-ue+de&32767,oe=w[ke],Se=ke-oe&32767;Se>je&&(je=Se,le=ke)}}}N=le,le=w[N],ue+=N-le&32767}if(ee){I[se++]=268435456|yp[ne]<<18|ym[ee];var be=yp[ne]&31,De=ym[ee]&31;B+=Id[be]+Od[De],++z[257+be],++re[De],U=Z+ne,++$}else I[se++]=e[Z],++z[e[Z]]}}for(Z=Math.max(Z,U);Z<o;++Z)I[se++]=e[Z],++z[e[Z]];p=xm(e,c,f,I,z,re,B,se,L,Z-L,p),f||(a.r=p&7|c[p/8|0]<<3,p-=7,a.h=S,a.p=w,a.i=Z,a.w=U)}else{for(var Z=a.w||0;Z<o+f;Z+=65535){var Oe=Z+65535;Oe>=o&&(c[p/8|0]=f,Oe=o),p=p5(c,p+1,e.subarray(Z,Oe))}a.i=o}return h5(s,0,n+S0(p)+i)},g5=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},lb=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new dn(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return sb(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},v5=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},cb=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=g5();i.p(t.dictionary),v5(e,2,i.d())}},ub=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&yi(6,"invalid zlib data"),(e[1]>>5&1)==1&&yi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function bp(e,t){t||(t={});var r=g5();r.p(e);var n=lb(e,t,t.dictionary?6:2,4);return cb(n,t),v5(n,n.length-4,r.d()),n}function db(e,t){return ab(e.subarray(ub(e),-4),{i:2},t,t)}var fb=typeof TextDecoder<"u"&&new TextDecoder,hb=0;try{fb.decode(m5,{stream:!0}),hb=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Qf(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var sr={log:Qf,warn:function(e){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):Qf.call(null,arguments))},error:function(e){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):Qf(e))}};function eh(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){fo(n.response,t,r)},n.onerror=function(){sr.error("could not download file")},n.send()}function bm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zl,Np,fo=Ft.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ft.URL||Ft.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?bm(i.href)?eh(e,t,r):pu(i,i.target="_blank"):pu(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){pu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(bm(e))eh(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){pu(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:tr(a)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return eh(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Ft.HTMLElement)||Ft.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var p=s.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},s.readAsDataURL(e)}else{var c=Ft.URL||Ft.webkitURL,f=c.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function y5(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+s+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function th(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=on(r,n,i,a,t[0],7,-680876936),a=on(a,r,n,i,t[1],12,-389564586),i=on(i,a,r,n,t[2],17,606105819),n=on(n,i,a,r,t[3],22,-1044525330),r=on(r,n,i,a,t[4],7,-176418897),a=on(a,r,n,i,t[5],12,1200080426),i=on(i,a,r,n,t[6],17,-1473231341),n=on(n,i,a,r,t[7],22,-45705983),r=on(r,n,i,a,t[8],7,1770035416),a=on(a,r,n,i,t[9],12,-1958414417),i=on(i,a,r,n,t[10],17,-42063),n=on(n,i,a,r,t[11],22,-1990404162),r=on(r,n,i,a,t[12],7,1804603682),a=on(a,r,n,i,t[13],12,-40341101),i=on(i,a,r,n,t[14],17,-1502002290),r=sn(r,n=on(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=sn(a,r,n,i,t[6],9,-1069501632),i=sn(i,a,r,n,t[11],14,643717713),n=sn(n,i,a,r,t[0],20,-373897302),r=sn(r,n,i,a,t[5],5,-701558691),a=sn(a,r,n,i,t[10],9,38016083),i=sn(i,a,r,n,t[15],14,-660478335),n=sn(n,i,a,r,t[4],20,-405537848),r=sn(r,n,i,a,t[9],5,568446438),a=sn(a,r,n,i,t[14],9,-1019803690),i=sn(i,a,r,n,t[3],14,-187363961),n=sn(n,i,a,r,t[8],20,1163531501),r=sn(r,n,i,a,t[13],5,-1444681467),a=sn(a,r,n,i,t[2],9,-51403784),i=sn(i,a,r,n,t[7],14,1735328473),r=ln(r,n=sn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ln(a,r,n,i,t[8],11,-2022574463),i=ln(i,a,r,n,t[11],16,1839030562),n=ln(n,i,a,r,t[14],23,-35309556),r=ln(r,n,i,a,t[1],4,-1530992060),a=ln(a,r,n,i,t[4],11,1272893353),i=ln(i,a,r,n,t[7],16,-155497632),n=ln(n,i,a,r,t[10],23,-1094730640),r=ln(r,n,i,a,t[13],4,681279174),a=ln(a,r,n,i,t[0],11,-358537222),i=ln(i,a,r,n,t[3],16,-722521979),n=ln(n,i,a,r,t[6],23,76029189),r=ln(r,n,i,a,t[9],4,-640364487),a=ln(a,r,n,i,t[12],11,-421815835),i=ln(i,a,r,n,t[15],16,530742520),r=cn(r,n=ln(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=cn(a,r,n,i,t[7],10,1126891415),i=cn(i,a,r,n,t[14],15,-1416354905),n=cn(n,i,a,r,t[5],21,-57434055),r=cn(r,n,i,a,t[12],6,1700485571),a=cn(a,r,n,i,t[3],10,-1894986606),i=cn(i,a,r,n,t[10],15,-1051523),n=cn(n,i,a,r,t[1],21,-2054922799),r=cn(r,n,i,a,t[8],6,1873313359),a=cn(a,r,n,i,t[15],10,-30611744),i=cn(i,a,r,n,t[6],15,-1560198380),n=cn(n,i,a,r,t[13],21,1309151649),r=cn(r,n,i,a,t[4],6,-145523070),a=cn(a,r,n,i,t[11],10,-1120210379),i=cn(i,a,r,n,t[2],15,718787259),n=cn(n,i,a,r,t[9],21,-343485551),e[0]=Oa(r,e[0]),e[1]=Oa(n,e[1]),e[2]=Oa(i,e[2]),e[3]=Oa(a,e[3])}function Rd(e,t,r,n,i,a){return t=Oa(Oa(t,e),Oa(n,a)),Oa(t<<i|t>>>32-i,r)}function on(e,t,r,n,i,a,o){return Rd(t&r|~t&n,e,t,i,a,o)}function sn(e,t,r,n,i,a,o){return Rd(t&n|r&~n,e,t,i,a,o)}function ln(e,t,r,n,i,a,o){return Rd(t^r^n,e,t,i,a,o)}function cn(e,t,r,n,i,a,o){return Rd(r^(t|~n),e,t,i,a,o)}function w5(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)th(n,pb(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(th(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,th(n,i),n}function pb(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}zl=Ft.atob.bind(Ft),Np=Ft.btoa.bind(Ft);var Nm="0123456789abcdef".split("");function mb(e){for(var t="",r=0;r<4;r++)t+=Nm[e>>8*r+4&15]+Nm[e>>8*r&15];return t}function gb(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kp(e){return w5(e).map(gb).join("")}var vb=function(e){for(var t=0;t<e.length;t++)e[t]=mb(e[t]);return e.join("")}(w5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Oa(e,t){if(vb){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _p(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),s=[],c=0;c<256;c++)s[c]=c;var f=0;for(c=0;c<256;c++){var p=s[c];f=(f+p+o.charCodeAt(c))%256,s[c]=s[f],s[f]=p}r=e,n=s}else s=n;var v=t.length,y=0,d=0,k="";for(c=0;c<v;c++)d=(d+(p=s[y=(y+1)%256]))%256,s[y]=s[d],s[d]=p,o=s[(s[y]+s[d])%256],k+=String.fromCharCode(t.charCodeAt(c)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var km={print:4,modify:8,copy:16,"annot-forms":32};function is(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(km.perm!==void 0)throw new Error("Invalid permission: "+s);i+=km[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=kp(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_p(this.encryptionKey,this.padding)}function as(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function _m(e){if(tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(s){Ft.console&&sr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function od(e){if(!(this instanceof od))return new od(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function x5(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ho(e,t,r,n,i){if(!(this instanceof ho))return new ho(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,x5.call(this,n,i)}function ys(e,t,r,n,i){if(!(this instanceof ys))return new ys(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,x5.call(this,n,i)}function bt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,c=16,f="S",p=null;tr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,y={},d={internal:{},__private__:{}};d.__private__.PubSub=_m;var k="1.3",w=d.__private__.getPdfVersion=function(){return k};d.__private__.setPdfVersion=function(g){k=g};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return S};var m=d.__private__.getPageFormat=function(g){return S[g]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},_=b.COMPAT;function I(){this.saveGraphicsState(),E(new dt(we,0,0,-we,0,ma()*we).toString()+" cm"),this.setFontSize(this.getFontSize()/we),f="n",_=b.ADVANCED}function z(){this.restoreGraphicsState(),f="S",_=b.COMPAT}var re=d.__private__.combineFontStyleAndFontWeight=function(g,D){if(g=="bold"&&D=="normal"||g=="bold"&&D==400||g=="normal"&&D=="italic"||g=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(g=D==400||D==="normal"?g==="italic"?"italic":"normal":D!=700&&D!=="bold"||g!=="normal"?(D==700?"bold":D)+""+g:"bold"),g};d.advancedAPI=function(g){var D=_===b.COMPAT;return D&&I.call(this),typeof g!="function"||(g(this),D&&z.call(this)),this},d.compatAPI=function(g){var D=_===b.ADVANCED;return D&&z.call(this),typeof g!="function"||(g(this),D&&I.call(this)),this},d.isAdvancedAPI=function(){return _===b.ADVANCED};var $,B=function(g){if(_!==b.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=d.roundToPrecision=d.__private__.roundToPrecision=function(g,D){var ae=t||D;if(isNaN(g)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(ae).replace(/0+$/,"")};$=d.hpf=d.__private__.hpf=typeof c=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,c)}:c==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,16)};var se=d.f2=d.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Z(g,2)},U=d.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Z(g,3)},L=d.scale=d.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return _===b.COMPAT?g*we:_===b.ADVANCED?g:void 0},H=function(g){return _===b.COMPAT?ma()-g:_===b.ADVANCED?g:void 0},N=function(g){return L(H(g))};d.__private__.setPrecision=d.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var le,ve="00000000000000000000000000000000",de=d.__private__.getFileId=function(){return ve},ne=d.__private__.setFileId=function(g){return ve=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(tn=new is(p.userPermissions,p.userPassword,p.ownerPassword,ve)),ve};d.setFileId=function(g){return ne(g),this},d.getFileId=function(){return de()};var ee=d.__private__.convertDateToPDFDate=function(g){var D=g.getTimezoneOffset(),ae=D<0?"+":"-",ge=Math.floor(Math.abs(D/60)),Ce=Math.abs(D%60),We=[ae,Y(ge),"'",Y(Ce),"'"].join("");return["D:",g.getFullYear(),Y(g.getMonth()+1),Y(g.getDate()),Y(g.getHours()),Y(g.getMinutes()),Y(g.getSeconds()),We].join("")},me=d.__private__.convertPDFDateToDate=function(g){var D=parseInt(g.substr(2,4),10),ae=parseInt(g.substr(6,2),10)-1,ge=parseInt(g.substr(8,2),10),Ce=parseInt(g.substr(10,2),10),We=parseInt(g.substr(12,2),10),Ke=parseInt(g.substr(14,2),10);return new Date(D,ae,ge,Ce,We,Ke,0)},ue=d.__private__.setCreationDate=function(g){var D;if(g===void 0&&(g=new Date),g instanceof Date)D=ee(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=g}return le=D},A=d.__private__.getCreationDate=function(g){var D=le;return g==="jsDate"&&(D=me(le)),D};d.setCreationDate=function(g){return ue(g),this},d.getCreationDate=function(g){return A(g)};var V,Y=d.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},K=d.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},pe=0,je=[],ke=[],oe=0,Se=[],be=[],De=!1,Oe=ke,P=function(){pe=0,oe=0,ke=[],je=[],Se=[],wt=zt(),Ct=zt()};d.__private__.setCustomOutputDestination=function(g){De=!0,Oe=g};var te=function(g){De||(Oe=g)};d.__private__.resetCustomOutputDestination=function(){De=!1,Oe=ke};var E=d.__private__.out=function(g){return g=g.toString(),oe+=g.length+1,Oe.push(g),Oe},J=d.__private__.write=function(g){return E(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},C=d.__private__.getArrayBuffer=function(g){for(var D=g.length,ae=new ArrayBuffer(D),ge=new Uint8Array(ae);D--;)ge[D]=g.charCodeAt(D);return ae},O=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return O};var T=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(g){return T=_===b.ADVANCED?g/we:g,this};var X,M=d.__private__.getFontSize=d.getFontSize=function(){return _===b.COMPAT?T:T*we},ie=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(g){return ie=g,this},d.__private__.getR2L=d.getR2L=function(){return ie};var ce,fe=d.__private__.setZoomMode=function(g){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))X=g;else if(isNaN(g)){if(D.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');X=g}else X=parseInt(g,10)};d.__private__.getZoomMode=function(){return X};var Me,ze=d.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');ce=g};d.__private__.getPageMode=function(){return ce};var he=d.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Me=g};d.__private__.getLayoutMode=function(){return Me},d.__private__.setDisplayMode=d.setDisplayMode=function(g,D,ae){return fe(g),he(D),ze(ae),this};var Ne={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(g){if(Object.keys(Ne).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ne[g]},d.__private__.getDocumentProperties=function(){return Ne},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(g){for(var D in Ne)Ne.hasOwnProperty(D)&&g[D]&&(Ne[D]=g[D]);return this},d.__private__.setDocumentProperty=function(g,D){if(Object.keys(Ne).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ne[g]=D};var Ee,we,Ae,Ye,xt,Le={},Xe={},ot=[],Be={},rt={},at={},Pt={},st=null,nt=0,Ge=[],lt=new _m(d),kt=e.hotfixes||[],jt={},_t={},Dt=[],dt=function g(D,ae,ge,Ce,We,Ke){if(!(this instanceof g))return new g(D,ae,ge,Ce,We,Ke);isNaN(D)&&(D=1),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=0),isNaN(Ce)&&(Ce=1),isNaN(We)&&(We=0),isNaN(Ke)&&(Ke=0),this._matrix=[D,ae,ge,Ce,We,Ke]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(g)},dt.prototype.multiply=function(g){var D=g.sx*this.sx+g.shy*this.shx,ae=g.sx*this.shy+g.shy*this.sy,ge=g.shx*this.sx+g.sy*this.shx,Ce=g.shx*this.shy+g.sy*this.sy,We=g.tx*this.sx+g.ty*this.shx+this.tx,Ke=g.tx*this.shy+g.ty*this.sy+this.ty;return new dt(D,ae,ge,Ce,We,Ke)},dt.prototype.decompose=function(){var g=this.sx,D=this.shy,ae=this.shx,ge=this.sy,Ce=this.tx,We=this.ty,Ke=Math.sqrt(g*g+D*D),pt=(g/=Ke)*ae+(D/=Ke)*ge;ae-=g*pt,ge-=D*pt;var St=Math.sqrt(ae*ae+ge*ge);return pt/=St,g*(ge/=St)<D*(ae/=St)&&(g=-g,D=-D,pt=-pt,Ke=-Ke),{scale:new dt(Ke,0,0,St,0,0),translate:new dt(1,0,0,1,Ce,We),rotate:new dt(g,D,-D,g,0,0),skew:new dt(1,0,pt,1,0,0)}},dt.prototype.toString=function(g){return this.join(" ")},dt.prototype.inversed=function(){var g=this.sx,D=this.shy,ae=this.shx,ge=this.sy,Ce=this.tx,We=this.ty,Ke=1/(g*ge-D*ae),pt=ge*Ke,St=-D*Ke,Rt=-ae*Ke,It=g*Ke;return new dt(pt,St,Rt,It,-pt*Ce-Rt*We,-St*Ce-It*We)},dt.prototype.applyToPoint=function(g){var D=g.x*this.sx+g.y*this.shx+this.tx,ae=g.x*this.shy+g.y*this.sy+this.ty;return new Mo(D,ae)},dt.prototype.applyToRectangle=function(g){var D=this.applyToPoint(g),ae=this.applyToPoint(new Mo(g.x+g.w,g.y+g.h));return new Ys(D.x,D.y,ae.x-D.x,ae.y-D.y)},dt.prototype.clone=function(){var g=this.sx,D=this.shy,ae=this.shx,ge=this.sy,Ce=this.tx,We=this.ty;return new dt(g,D,ae,ge,Ce,We)},d.Matrix=dt;var qt=d.matrixMult=function(g,D){return D.multiply(g)},nr=new dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=nr;var ir=function(g,D){if(!rt[g]){var ae=(D instanceof ho?"Sh":"P")+(Object.keys(Be).length+1).toString(10);D.id=ae,rt[g]=ae,Be[ae]=D,lt.publish("addPattern",D)}};d.ShadingPattern=ho,d.TilingPattern=ys,d.addShadingPattern=function(g,D){return B("addShadingPattern()"),ir(g,D),this},d.beginTilingPattern=function(g){B("beginTilingPattern()"),kc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},d.endTilingPattern=function(g,D){B("endTilingPattern()"),D.stream=be[V].join(`
`),ir(g,D),lt.publish("endTilingPattern",D),Dt.pop().restore()};var Ht=d.__private__.newObject=function(){var g=zt();return Fe(g,!0),g},zt=d.__private__.newObjectDeferred=function(){return pe++,je[pe]=function(){return oe},pe},Fe=function(g,D){return D=typeof D=="boolean"&&D,je[g]=oe,D&&E(g+" 0 obj"),g},ct=d.__private__.newAdditionalObject=function(){var g={objId:zt(),content:""};return Se.push(g),g},wt=zt(),Ct=zt(),Re=d.__private__.decodeColorString=function(g){var D=g.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ae=parseFloat(D[0]);D=[ae,ae,ae,"r"]}for(var ge="#",Ce=0;Ce<3;Ce++)ge+=("0"+Math.floor(255*parseFloat(D[Ce])).toString(16)).slice(-2);return ge},Je=d.__private__.encodeColorString=function(g){var D;typeof g=="string"&&(g={ch1:g});var ae=g.ch1,ge=g.ch2,Ce=g.ch3,We=g.ch4,Ke=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var pt=new y5(ae);if(pt.ok)ae=pt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var St=parseInt(ae.substr(1),16);ae=St>>16&255,ge=St>>8&255,Ce=255&St}if(ge===void 0||We===void 0&&ae===ge&&ge===Ce)if(typeof ae=="string")D=ae+" "+Ke[0];else switch(g.precision){case 2:D=se(ae/255)+" "+Ke[0];break;case 3:default:D=U(ae/255)+" "+Ke[0]}else if(We===void 0||tr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return D=["1.","1.","1.",Ke[1]].join(" ");if(typeof ae=="string")D=[ae,ge,Ce,Ke[1]].join(" ");else switch(g.precision){case 2:D=[se(ae/255),se(ge/255),se(Ce/255),Ke[1]].join(" ");break;default:case 3:D=[U(ae/255),U(ge/255),U(Ce/255),Ke[1]].join(" ")}}else if(typeof ae=="string")D=[ae,ge,Ce,We,Ke[2]].join(" ");else switch(g.precision){case 2:D=[se(ae),se(ge),se(Ce),se(We),Ke[2]].join(" ");break;case 3:default:D=[U(ae),U(ge),U(Ce),U(We),Ke[2]].join(" ")}return D},Qe=d.__private__.getFilters=function(){return o},it=d.__private__.putStream=function(g){var D=(g=g||{}).data||"",ae=g.filters||Qe(),ge=g.alreadyAppliedFilters||[],Ce=g.addLength1||!1,We=D.length,Ke=g.objectId,pt=function(rn){return rn};if(p!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(pt=tn.encryptor(Ke,0));var St={};ae===!0&&(ae=["FlateEncode"]);var Rt=g.additionalKeyValues||[],It=(St=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(D,ae):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(St.data.length!==0&&(Rt.push({key:"Length",value:St.data.length}),Ce===!0&&Rt.push({key:"Length1",value:We})),It.length!=0)if(It.split("/").length-1==1)Rt.push({key:"Filter",value:It});else{Rt.push({key:"Filter",value:"["+It+"]"});for(var Gt=0;Gt<Rt.length;Gt+=1)if(Rt[Gt].key==="DecodeParms"){for(var vr=[],kr=0;kr<St.reverseChain.split("/").length-1;kr+=1)vr.push("null");vr.push(Rt[Gt].value),Rt[Gt].value="["+vr.join(" ")+"]"}}E("<<");for(var Dr=0;Dr<Rt.length;Dr++)E("/"+Rt[Dr].key+" "+Rt[Dr].value);E(">>"),St.data.length!==0&&(E("stream"),E(pt(St.data)),E("endstream"))},et=d.__private__.putPage=function(g){var D=g.number,ae=g.data,ge=g.objId,Ce=g.contentsObjId;Fe(ge,!0),E("<</Type /Page"),E("/Parent "+g.rootDictionaryObjId+" 0 R"),E("/Resources "+g.resourceDictionaryObjId+" 0 R"),E("/MediaBox ["+parseFloat($(g.mediaBox.bottomLeftX))+" "+parseFloat($(g.mediaBox.bottomLeftY))+" "+$(g.mediaBox.topRightX)+" "+$(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&E("/CropBox ["+$(g.cropBox.bottomLeftX)+" "+$(g.cropBox.bottomLeftY)+" "+$(g.cropBox.topRightX)+" "+$(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&E("/BleedBox ["+$(g.bleedBox.bottomLeftX)+" "+$(g.bleedBox.bottomLeftY)+" "+$(g.bleedBox.topRightX)+" "+$(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&E("/TrimBox ["+$(g.trimBox.bottomLeftX)+" "+$(g.trimBox.bottomLeftY)+" "+$(g.trimBox.topRightX)+" "+$(g.trimBox.topRightY)+"]"),g.artBox!==null&&E("/ArtBox ["+$(g.artBox.bottomLeftX)+" "+$(g.artBox.bottomLeftY)+" "+$(g.artBox.topRightX)+" "+$(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&E("/UserUnit "+g.userUnit),lt.publish("putPage",{objId:ge,pageContext:Ge[D],pageNumber:D,page:ae}),E("/Contents "+Ce+" 0 R"),E(">>"),E("endobj");var We=ae.join(`
`);return _===b.ADVANCED&&(We+=`
Q`),Fe(Ce,!0),it({data:We,filters:Qe(),objectId:Ce}),E("endobj"),ge},vt=d.__private__.putPages=function(){var g,D,ae=[];for(g=1;g<=nt;g++)Ge[g].objId=zt(),Ge[g].contentsObjId=zt();for(g=1;g<=nt;g++)ae.push(et({number:g,data:be[g],objId:Ge[g].objId,contentsObjId:Ge[g].contentsObjId,mediaBox:Ge[g].mediaBox,cropBox:Ge[g].cropBox,bleedBox:Ge[g].bleedBox,trimBox:Ge[g].trimBox,artBox:Ge[g].artBox,userUnit:Ge[g].userUnit,rootDictionaryObjId:wt,resourceDictionaryObjId:Ct}));Fe(wt,!0),E("<</Type /Pages");var ge="/Kids [";for(D=0;D<nt;D++)ge+=ae[D]+" 0 R ";E(ge+"]"),E("/Count "+nt),E(">>"),E("endobj"),lt.publish("postPutPages")},At=function(g){lt.publish("putFont",{font:g,out:E,newObject:Ht,putStream:it}),g.isAlreadyPutted!==!0&&(g.objectNumber=Ht(),E("<<"),E("/Type /Font"),E("/BaseFont /"+as(g.postScriptName)),E("/Subtype /Type1"),typeof g.encoding=="string"&&E("/Encoding /"+g.encoding),E("/FirstChar 32"),E("/LastChar 255"),E(">>"),E("endobj"))},Nt=function(){for(var g in Le)Le.hasOwnProperty(g)&&(v===!1||v===!0&&y.hasOwnProperty(g))&&At(Le[g])},ht=function(g){g.objectNumber=Ht();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[$(g.x),$(g.y),$(g.x+g.width),$(g.y+g.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var ae=g.pages[1].join(`
`);it({data:ae,additionalKeyValues:D,objectId:g.objectNumber}),E("endobj")},Et=function(){for(var g in jt)jt.hasOwnProperty(g)&&ht(jt[g])},Bt=function(g,D){var ae,ge=[],Ce=1/(D-1);for(ae=0;ae<1;ae+=Ce)ge.push(ae);if(ge.push(1),g[0].offset!=0){var We={offset:0,color:g[0].color};g.unshift(We)}if(g[g.length-1].offset!=1){var Ke={offset:1,color:g[g.length-1].color};g.push(Ke)}for(var pt="",St=0,Rt=0;Rt<ge.length;Rt++){for(ae=ge[Rt];ae>g[St+1].offset;)St++;var It=g[St].offset,Gt=(ae-It)/(g[St+1].offset-It),vr=g[St].color,kr=g[St+1].color;pt+=K(Math.round((1-Gt)*vr[0]+Gt*kr[0]).toString(16))+K(Math.round((1-Gt)*vr[1]+Gt*kr[1]).toString(16))+K(Math.round((1-Gt)*vr[2]+Gt*kr[2]).toString(16))}return pt.trim()},Vt=function(g,D){D||(D=21);var ae=Ht(),ge=Bt(g.colors,D),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+D+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:ge,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),E("endobj"),g.objectNumber=Ht(),E("<< /ShadingType "+g.type),E("/ColorSpace /DeviceRGB");var We="/Coords ["+$(parseFloat(g.coords[0]))+" "+$(parseFloat(g.coords[1]))+" ";g.type===2?We+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3])):We+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3]))+" "+$(parseFloat(g.coords[4]))+" "+$(parseFloat(g.coords[5])),E(We+="]"),g.matrix&&E("/Matrix ["+g.matrix.toString()+"]"),E("/Function "+ae+" 0 R"),E("/Extend [true true]"),E(">>"),E("endobj")},Ut=function(g,D){var ae=zt(),ge=Ht();D.push({resourcesOid:ae,objectOid:ge}),g.objectNumber=ge;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+g.boundingBox.map($).join(" ")+"]"}),Ce.push({key:"XStep",value:$(g.xStep)}),Ce.push({key:"YStep",value:$(g.yStep)}),Ce.push({key:"Resources",value:ae+" 0 R"}),g.matrix&&Ce.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),it({data:g.stream,additionalKeyValues:Ce,objectId:g.objectNumber}),E("endobj")},Zt=function(g){var D;for(D in Be)Be.hasOwnProperty(D)&&(Be[D]instanceof ho?Vt(Be[D]):Be[D]instanceof ys&&Ut(Be[D],g))},br=function(g){for(var D in g.objectNumber=Ht(),E("<<"),g)switch(D){case"opacity":E("/ca "+se(g[D]));break;case"stroke-opacity":E("/CA "+se(g[D]))}E(">>"),E("endobj")},mr=function(){var g;for(g in at)at.hasOwnProperty(g)&&br(at[g])},dr=function(){for(var g in E("/XObject <<"),jt)jt.hasOwnProperty(g)&&jt[g].objectNumber>=0&&E("/"+g+" "+jt[g].objectNumber+" 0 R");lt.publish("putXobjectDict"),E(">>")},Ur=function(){tn.oid=Ht(),E("<<"),E("/Filter /Standard"),E("/V "+tn.v),E("/R "+tn.r),E("/U <"+tn.toHexString(tn.U)+">"),E("/O <"+tn.toHexString(tn.O)+">"),E("/P "+tn.P),E(">>"),E("endobj")},Fn=function(){for(var g in E("/Font <<"),Le)Le.hasOwnProperty(g)&&(v===!1||v===!0&&y.hasOwnProperty(g))&&E("/"+g+" "+Le[g].objectNumber+" 0 R");E(">>")},ci=function(){if(Object.keys(Be).length>0){for(var g in E("/Shading <<"),Be)Be.hasOwnProperty(g)&&Be[g]instanceof ho&&Be[g].objectNumber>=0&&E("/"+g+" "+Be[g].objectNumber+" 0 R");lt.publish("putShadingPatternDict"),E(">>")}},Nr=function(g){if(Object.keys(Be).length>0){for(var D in E("/Pattern <<"),Be)Be.hasOwnProperty(D)&&Be[D]instanceof d.TilingPattern&&Be[D].objectNumber>=0&&Be[D].objectNumber<g&&E("/"+D+" "+Be[D].objectNumber+" 0 R");lt.publish("putTilingPatternDict"),E(">>")}},Yr=function(){if(Object.keys(at).length>0){var g;for(g in E("/ExtGState <<"),at)at.hasOwnProperty(g)&&at[g].objectNumber>=0&&E("/"+g+" "+at[g].objectNumber+" 0 R");lt.publish("putGStateDict"),E(">>")}},Kt=function(g){Fe(g.resourcesOid,!0),E("<<"),E("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fn(),ci(),Nr(g.objectOid),Yr(),dr(),E(">>"),E("endobj")},Dn=function(){var g=[];Nt(),mr(),Et(),Zt(g),lt.publish("putResources"),g.forEach(Kt),Kt({resourcesOid:Ct,objectOid:Number.MAX_SAFE_INTEGER}),lt.publish("postPutResources")},da=function(){lt.publish("putAdditionalObjects");for(var g=0;g<Se.length;g++){var D=Se[g];Fe(D.objId,!0),E(D.content),E("endobj")}lt.publish("postPutAdditionalObjects")},Ui=function(g){Xe[g.fontName]=Xe[g.fontName]||{},Xe[g.fontName][g.fontStyle]=g.id},fa=function(g,D,ae,ge,Ce){var We={id:"F"+(Object.keys(Le).length+1).toString(10),postScriptName:g,fontName:D,fontStyle:ae,encoding:ge,isStandardFont:Ce||!1,metadata:{}};return lt.publish("addFont",{font:We,instance:this}),Le[We.id]=We,Ui(We),We.id},zs=function(g){for(var D=0,ae=O.length;D<ae;D++){var ge=fa.call(this,g[D][0],g[D][1],g[D][2],O[D][3],!0);v===!1&&(y[ge]=!0);var Ce=g[D][0].split("-");Ui({id:ge,fontName:Ce[0],fontStyle:Ce[1]||""})}lt.publish("addFonts",{fonts:Le,dictionary:Xe})},xn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(ge){var D=ge.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ae="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Ft.console)throw new Error(ae);Ft.console.error(ae,ge),Ft.alert&&alert(ae)}},g.foo.bar=g,g.foo},Fo=function(g,D){var ae,ge,Ce,We,Ke,pt,St,Rt,It;if(Ce=(D=D||{}).sourceEncoding||"Unicode",Ke=D.outputEncoding,(D.autoencode||Ke)&&Le[Ee].metadata&&Le[Ee].metadata[Ce]&&Le[Ee].metadata[Ce].encoding&&(We=Le[Ee].metadata[Ce].encoding,!Ke&&Le[Ee].encoding&&(Ke=Le[Ee].encoding),!Ke&&We.codePages&&(Ke=We.codePages[0]),typeof Ke=="string"&&(Ke=We[Ke]),Ke)){for(St=!1,pt=[],ae=0,ge=g.length;ae<ge;ae++)(Rt=Ke[g.charCodeAt(ae)])?pt.push(String.fromCharCode(Rt)):pt.push(g[ae]),pt[ae].charCodeAt(0)>>8&&(St=!0);g=pt.join("")}for(ae=g.length;St===void 0&&ae!==0;)g.charCodeAt(ae-1)>>8&&(St=!0),ae--;if(!St)return g;for(pt=D.noBOM?[]:[254,255],ae=0,ge=g.length;ae<ge;ae++){if((It=(Rt=g.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pt.push(It),pt.push(Rt-(It<<8))}return String.fromCharCode.apply(void 0,pt)},bn=d.__private__.pdfEscape=d.pdfEscape=function(g,D){return Fo(g,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bs=d.__private__.beginPage=function(g){be[++nt]=[],Ge[nt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},fc(nt),te(be[V])},dc=function(g,D){var ae,ge,Ce;switch(r=D||r,typeof g=="string"&&(ae=m(g.toLowerCase()),Array.isArray(ae)&&(ge=ae[0],Ce=ae[1])),Array.isArray(g)&&(ge=g[0]*we,Ce=g[1]*we),isNaN(ge)&&(ge=i[0],Ce=i[1]),(ge>14400||Ce>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ce=Math.min(14400,Ce)),i=[ge,Ce],r.substr(0,1)){case"l":Ce>ge&&(i=[Ce,ge]);break;case"p":ge>Ce&&(i=[Ce,ge])}Bs(i),yc($s),E(ui),Vs!==0&&E(Vs+" J"),Gs!==0&&E(Gs+" j"),lt.publish("addPage",{pageNumber:nt})},zd=function(g){g>0&&g<=nt&&(be.splice(g,1),Ge.splice(g,1),nt--,V>nt&&(V=nt),this.setPage(V))},fc=function(g){g>0&&g<=nt&&(V=g)},Bd=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return be.length-1},hc=function(g,D,ae){var ge,Ce=void 0;return ae=ae||{},g=g!==void 0?g:Le[Ee].fontName,D=D!==void 0?D:Le[Ee].fontStyle,ge=g.toLowerCase(),Xe[ge]!==void 0&&Xe[ge][D]!==void 0?Ce=Xe[ge][D]:Xe[g]!==void 0&&Xe[g][D]!==void 0?Ce=Xe[g][D]:ae.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+g+"', '"+D+"'. Refer to getFontList() for available fonts."),Ce||ae.noFallback||(Ce=Xe.times[D])==null&&(Ce=Xe.times.normal),Ce},Ud=d.__private__.putInfo=function(){var g=Ht(),D=function(ge){return ge};for(var ae in p!==null&&(D=tn.encryptor(g,0)),E("<<"),E("/Producer ("+bn(D("jsPDF "+bt.version))+")"),Ne)Ne.hasOwnProperty(ae)&&Ne[ae]&&E("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+bn(D(Ne[ae]))+")");E("/CreationDate ("+bn(D(le))+")"),E(">>"),E("endobj")},Us=d.__private__.putCatalog=function(g){var D=(g=g||{}).rootDictionaryObjId||wt;switch(Ht(),E("<<"),E("/Type /Catalog"),E("/Pages "+D+" 0 R"),X||(X="fullwidth"),X){case"fullwidth":E("/OpenAction [3 0 R /FitH null]");break;case"fullheight":E("/OpenAction [3 0 R /FitV null]");break;case"fullpage":E("/OpenAction [3 0 R /Fit]");break;case"original":E("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+X;ae.substr(ae.length-1)==="%"&&(X=parseInt(X)/100),typeof X=="number"&&E("/OpenAction [3 0 R /XYZ null null "+se(X)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":E("/PageLayout /OneColumn");break;case"single":E("/PageLayout /SinglePage");break;case"two":case"twoleft":E("/PageLayout /TwoColumnLeft");break;case"tworight":E("/PageLayout /TwoColumnRight")}ce&&E("/PageMode /"+ce),lt.publish("putCatalog"),E(">>"),E("endobj")},qd=d.__private__.putTrailer=function(){E("trailer"),E("<<"),E("/Size "+(pe+1)),E("/Root "+pe+" 0 R"),E("/Info "+(pe-1)+" 0 R"),p!==null&&E("/Encrypt "+tn.oid+" 0 R"),E("/ID [ <"+ve+"> <"+ve+"> ]"),E(">>")},Wd=d.__private__.putHeader=function(){E("%PDF-"+k),E("%")},$d=d.__private__.putXRef=function(){var g="0000000000";E("xref"),E("0 "+(pe+1)),E("0000000000 65535 f ");for(var D=1;D<=pe;D++)typeof je[D]=="function"?E((g+je[D]()).slice(-10)+" 00000 n "):je[D]!==void 0?E((g+je[D]).slice(-10)+" 00000 n "):E("0000000000 00000 n ")},qi=d.__private__.buildDocument=function(){P(),te(ke),lt.publish("buildDocument"),Wd(),vt(),da(),Dn(),p!==null&&Ur(),Ud(),Us();var g=oe;return $d(),qd(),E("startxref"),E(""+g),E("%%EOF"),te(be[V]),ke.join(`
`)},Do=d.__private__.getBlob=function(g){return new Blob([C(g)],{type:"application/pdf"})},To=d.output=d.__private__.output=xn(function(g,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",g){case void 0:return qi();case"save":d.save(D.filename);break;case"arraybuffer":return C(qi());case"blob":return Do(qi());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Do(qi()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ge=qi();try{ae=Np(ge)}catch{ae=Np(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+D.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(Ce=D.pdfObjectUrl,We="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",pt=Ft.open();return pt!==null&&pt.document.write(Ke),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Rt=Ft.open();if(Rt!==null){Rt.document.write(St);var It=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=D.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',vr=Ft.open();if(vr!==null&&(vr.document.write(Gt),vr.document.title=D.filename),vr||typeof safari>"u")return vr;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",D);default:return null}}),pc=function(g){return Array.isArray(kt)===!0&&kt.indexOf(g)>-1};switch(n){case"pt":we=1;break;case"mm":we=72/25.4;break;case"cm":we=72/2.54;break;case"in":we=72;break;case"px":we=pc("px_scaling")==1?.75:96/72;break;case"pc":case"em":we=12;break;case"ex":we=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);we=n}var tn=null;ue(),ne();var Hd=function(g){return p!==null?tn.encryptor(g,0):function(D){return D}},mc=d.__private__.getPageInfo=d.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ge[g].objId,pageNumber:g,pageContext:Ge[g]}},Tt=d.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in Ge)if(Ge[D].objId===g)break;return mc(D)},Vd=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ge[V].objId,pageNumber:V,pageContext:Ge[V]}};d.addPage=function(){return dc.apply(this,arguments),this},d.setPage=function(){return fc.apply(this,arguments),te.call(this,be[V]),this},d.insertPage=function(g){return this.addPage(),this.movePage(V,g),this},d.movePage=function(g,D){var ae,ge;if(g>D){ae=be[g],ge=Ge[g];for(var Ce=g;Ce>D;Ce--)be[Ce]=be[Ce-1],Ge[Ce]=Ge[Ce-1];be[D]=ae,Ge[D]=ge,this.setPage(D)}else if(g<D){ae=be[g],ge=Ge[g];for(var We=g;We<D;We++)be[We]=be[We+1],Ge[We]=Ge[We+1];be[D]=ae,Ge[D]=ge,this.setPage(D)}return this},d.deletePage=function(){return zd.apply(this,arguments),this},d.__private__.text=d.text=function(g,D,ae,ge,Ce){var We,Ke,pt,St,Rt,It,Gt,vr,kr,Dr=(ge=ge||{}).scope||this;if(typeof g=="number"&&typeof D=="number"&&(typeof ae=="string"||Array.isArray(ae))){var rn=ae;ae=D,D=g,g=rn}if(arguments[3]instanceof dt?(B("The transform parameter of text() with a Matrix value"),kr=Ce):(pt=arguments[4],St=arguments[5],tr(Gt=arguments[3])==="object"&&Gt!==null||(typeof pt=="string"&&(St=pt,pt=null),typeof Gt=="string"&&(St=Gt,Gt=null),typeof Gt=="number"&&(pt=Gt,Gt=null),ge={flags:Gt,angle:pt,align:St})),isNaN(D)||isNaN(ae)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Dr;var qr="",di=!1,Tn=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Qa,Li=Dr.internal.scaleFactor;function _c(lr){return lr=lr.split("	").join(Array(ge.TabLen||9).join(" ")),bn(lr,Gt)}function Ks(lr){for(var cr,Pr=lr.concat(),Rr=[],Gi=Pr.length;Gi--;)typeof(cr=Pr.shift())=="string"?Rr.push(cr):Array.isArray(lr)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?Rr.push(cr[0]):Rr.push([cr[0],cr[1],cr[2]]);return Rr}function Qs(lr,cr){var Pr;if(typeof lr=="string")Pr=cr(lr)[0];else if(Array.isArray(lr)){for(var Rr,Gi,sl=lr.concat(),Xo=[],Lc=sl.length;Lc--;)typeof(Rr=sl.shift())=="string"?Xo.push(cr(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(Gi=cr(Rr[0],Rr[1],Rr[2]),Xo.push([Gi[0],Gi[1],Gi[2]]));Pr=Xo}return Pr}var Bo=!1,el=!0;if(typeof g=="string")Bo=!0;else if(Array.isArray(g)){var tl=g.concat();Ke=[];for(var Uo,Xr=tl.length;Xr--;)(typeof(Uo=tl.shift())!="string"||Array.isArray(Uo)&&typeof Uo[0]!="string")&&(el=!1);Bo=el}if(Bo===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var qo=T/Dr.internal.scaleFactor,Wo=qo*(Tn-1);switch(ge.baseline){case"bottom":ae-=Wo;break;case"top":ae+=qo-Wo;break;case"hanging":ae+=qo-2*Wo;break;case"middle":ae+=qo/2-Wo}if((It=ge.maxWidth||0)>0&&(typeof g=="string"?g=Dr.splitTextToSize(g,It):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(lr,cr){return lr.concat(Dr.splitTextToSize(cr,It))},[]))),We={text:g,x:D,y:ae,options:ge,mutex:{pdfEscape:bn,activeFontKey:Ee,fonts:Le,activeFontSize:T}},lt.publish("preProcessText",We),g=We.text,pt=(ge=We.options).angle,!(kr instanceof dt)&&pt&&typeof pt=="number"){pt*=Math.PI/180,ge.rotationDirection===0&&(pt=-pt),_===b.ADVANCED&&(pt=-pt);var $o=Math.cos(pt),rl=Math.sin(pt);kr=new dt($o,rl,-rl,$o,0,0)}else pt&&pt instanceof dt&&(kr=pt);_!==b.ADVANCED||kr||(kr=nr),(Rt=ge.charSpace||Ro)!==void 0&&(qr+=$(L(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vr=ge.horizontalScale)!==void 0&&(qr+=$(100*vr)+` Tz
`),ge.lang;var Nn=-1,rf=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,nl=Dr.internal.getCurrentPageInfo().pageContext;switch(rf){case 0:case!1:case"fill":Nn=0;break;case 1:case!0:case"stroke":Nn=1;break;case 2:case"fillThenStroke":Nn=2;break;case 3:case"invisible":Nn=3;break;case 4:case"fillAndAddForClipping":Nn=4;break;case 5:case"strokeAndAddPathForClipping":Nn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Nn=6;break;case 7:case"addToPathForClipping":Nn=7}var Sc=nl.usedRenderingMode!==void 0?nl.usedRenderingMode:-1;Nn!==-1?qr+=Nn+` Tr
`:Sc!==-1&&(qr+=`0 Tr
`),Nn!==-1&&(nl.usedRenderingMode=Nn),St=ge.align||"left";var Yn,Ho=T*Tn,jc=Dr.internal.pageSize.getWidth(),Ac=Le[Ee];Rt=ge.charSpace||Ro,It=ge.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var ga=[],ro=function(lr){return Dr.getStringUnitWidth(lr,{font:Ac,charSpace:Rt,fontSize:T,doKerning:!1})*T/Li};if(Object.prototype.toString.call(g)==="[object Array]"){var kn;Ke=Ks(g),St!=="left"&&(Yn=Ke.map(ro));var hn,va=0;if(St==="right"){D-=Yn[0],g=[],Xr=Ke.length;for(var $i=0;$i<Xr;$i++)$i===0?(hn=Pi(D),kn=Wi(ae)):(hn=L(va-Yn[$i]),kn=-Ho),g.push([Ke[$i],hn,kn]),va=Yn[$i]}else if(St==="center"){D-=Yn[0]/2,g=[],Xr=Ke.length;for(var Hi=0;Hi<Xr;Hi++)Hi===0?(hn=Pi(D),kn=Wi(ae)):(hn=L((va-Yn[Hi])/2),kn=-Ho),g.push([Ke[Hi],hn,kn]),va=Yn[Hi]}else if(St==="left"){g=[],Xr=Ke.length;for(var Vo=0;Vo<Xr;Vo++)g.push(Ke[Vo])}else if(St==="justify"&&Ac.encoding==="Identity-H"){g=[],Xr=Ke.length,It=It!==0?It:jc;for(var Vi=0,Ar=0;Ar<Xr;Ar++)if(kn=Ar===0?Wi(ae):-Ho,hn=Ar===0?Pi(D):Vi,Ar<Xr-1){var il=L((It-Yn[Ar])/(Ke[Ar].split(" ").length-1)),pn=Ke[Ar].split(" ");g.push([pn[0]+" ",hn,kn]),Vi=0;for(var Xn=1;Xn<pn.length;Xn++){var Go=(ro(pn[Xn-1]+" "+pn[Xn])-ro(pn[Xn]))*Li+il;Xn==pn.length-1?g.push([pn[Xn],Go,0]):g.push([pn[Xn]+" ",Go,0]),Vi-=Go}}else g.push([Ke[Ar],hn,kn]);g.push(["",Vi,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Xr=Ke.length,It=It!==0?It:jc,Ar=0;Ar<Xr;Ar++)kn=Ar===0?Wi(ae):-Ho,hn=Ar===0?Pi(D):0,Ar<Xr-1?ga.push($(L((It-Yn[Ar])/(Ke[Ar].split(" ").length-1)))):ga.push(0),g.push([Ke[Ar],hn,kn])}}var Pc=typeof ge.R2L=="boolean"?ge.R2L:ie;Pc===!0&&(g=Qs(g,function(lr,cr,Pr){return[lr.split("").reverse().join(""),cr,Pr]})),We={text:g,x:D,y:ae,options:ge,mutex:{pdfEscape:bn,activeFontKey:Ee,fonts:Le,activeFontSize:T}},lt.publish("postProcessText",We),g=We.text,di=We.mutex.isHex||!1;var al=Le[Ee].encoding;al!=="WinAnsiEncoding"&&al!=="StandardEncoding"||(g=Qs(g,function(lr,cr,Pr){return[_c(lr),cr,Pr]})),Ke=Ks(g),g=[];for(var no,io,ya,ao=0,Yo=1,oo=Array.isArray(Ke[0])?Yo:ao,wa="",ol=function(lr,cr,Pr){var Rr="";return Pr instanceof dt?(Pr=typeof ge.angle=="number"?qt(Pr,new dt(1,0,0,1,lr,cr)):qt(new dt(1,0,0,1,lr,cr),Pr),_===b.ADVANCED&&(Pr=qt(new dt(1,0,0,-1,0,0),Pr)),Rr=Pr.join(" ")+` Tm
`):Rr=$(lr)+" "+$(cr)+` Td
`,Rr},Jn=0;Jn<Ke.length;Jn++){switch(wa="",oo){case Yo:ya=(di?"<":"(")+Ke[Jn][0]+(di?">":")"),no=parseFloat(Ke[Jn][1]),io=parseFloat(Ke[Jn][2]);break;case ao:ya=(di?"<":"(")+Ke[Jn]+(di?">":")"),no=Pi(D),io=Wi(ae)}ga!==void 0&&ga[Jn]!==void 0&&(wa=ga[Jn]+` Tw
`),Jn===0?g.push(wa+ol(no,io,kr)+ya):oo===ao?g.push(wa+ya):oo===Yo&&g.push(wa+ol(no,io,kr)+ya)}g=oo===ao?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Zn=`BT
/`;return Zn+=Ee+" "+T+` Tf
`,Zn+=$(T*Tn)+` TL
`,Zn+=eo+`
`,Zn+=qr,Zn+=g,E(Zn+="ET"),y[Ee]=!0,Dr};var Gd=d.__private__.clip=d.clip=function(g){return E(g==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Gd("evenodd")},d.__private__.discardPath=d.discardPath=function(){return E("n"),this};var Ai=d.__private__.isValidStyle=function(g){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(D=!0),D};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(g){return Ai(g)&&(f=g),this};var gc=d.__private__.getStyle=d.getStyle=function(g){var D=f;switch(g){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=g}return D},vc=d.close=function(){return E("h"),this};d.stroke=function(){return E("S"),this},d.fill=function(g){return Io("f",g),this},d.fillEvenOdd=function(g){return Io("f*",g),this},d.fillStroke=function(g){return Io("B",g),this},d.fillStrokeEvenOdd=function(g){return Io("B*",g),this};var Io=function(g,D){tr(D)==="object"?Xd(D,g):E(g)},qs=function(g){g===null||_===b.ADVANCED&&g===void 0||(g=gc(g),E(g))};function Yd(g,D,ae,ge,Ce){var We=new ys(D||this.boundingBox,ae||this.xStep,ge||this.yStep,this.gState,Ce||this.matrix);We.stream=this.stream;var Ke=g+"$$"+this.cloneIndex+++"$$";return ir(Ke,We),We}var Xd=function(g,D){var ae=rt[g.key],ge=Be[ae];if(ge instanceof ho)E("q"),E(Jd(D)),ge.gState&&d.setGState(ge.gState),E(g.matrix.toString()+" cm"),E("/"+ae+" sh"),E("Q");else if(ge instanceof ys){var Ce=new dt(1,0,0,-1,0,ma());g.matrix&&(Ce=Ce.multiply(g.matrix||nr),ae=Yd.call(ge,g.key,g.boundingBox,g.xStep,g.yStep,Ce).id),E("q"),E("/Pattern cs"),E("/"+ae+" scn"),ge.gState&&d.setGState(ge.gState),E(D),E("Q")}},Jd=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ws=d.moveTo=function(g,D){return E($(L(g))+" "+$(N(D))+" m"),this},Ka=d.lineTo=function(g,D){return E($(L(g))+" "+$(N(D))+" l"),this},ha=d.curveTo=function(g,D,ae,ge,Ce,We){return E([$(L(g)),$(N(D)),$(L(ae)),$(N(ge)),$(L(Ce)),$(N(We)),"c"].join(" ")),this};d.__private__.line=d.line=function(g,D,ae,ge,Ce){if(isNaN(g)||isNaN(D)||isNaN(ae)||isNaN(ge)||!Ai(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return _===b.COMPAT?this.lines([[ae-g,ge-D]],g,D,[1,1],Ce||"S"):this.lines([[ae-g,ge-D]],g,D,[1,1]).stroke()},d.__private__.lines=d.lines=function(g,D,ae,ge,Ce,We){var Ke,pt,St,Rt,It,Gt,vr,kr,Dr,rn,qr,di;if(typeof g=="number"&&(di=ae,ae=D,D=g,g=di),ge=ge||[1,1],We=We||!1,isNaN(D)||isNaN(ae)||!Array.isArray(g)||!Array.isArray(ge)||!Ai(Ce)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ws(D,ae),Ke=ge[0],pt=ge[1],Rt=g.length,rn=D,qr=ae,St=0;St<Rt;St++)(It=g[St]).length===2?(rn=It[0]*Ke+rn,qr=It[1]*pt+qr,Ka(rn,qr)):(Gt=It[0]*Ke+rn,vr=It[1]*pt+qr,kr=It[2]*Ke+rn,Dr=It[3]*pt+qr,rn=It[4]*Ke+rn,qr=It[5]*pt+qr,ha(Gt,vr,kr,Dr,rn,qr));return We&&vc(),qs(Ce),this},d.path=function(g){for(var D=0;D<g.length;D++){var ae=g[D],ge=ae.c;switch(ae.op){case"m":Ws(ge[0],ge[1]);break;case"l":Ka(ge[0],ge[1]);break;case"c":ha.apply(this,ge);break;case"h":vc()}}return this},d.__private__.rect=d.rect=function(g,D,ae,ge,Ce){if(isNaN(g)||isNaN(D)||isNaN(ae)||isNaN(ge)||!Ai(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b.COMPAT&&(ge=-ge),E([$(L(g)),$(N(D)),$(L(ae)),$(L(ge)),"re"].join(" ")),qs(Ce),this},d.__private__.triangle=d.triangle=function(g,D,ae,ge,Ce,We,Ke){if(isNaN(g)||isNaN(D)||isNaN(ae)||isNaN(ge)||isNaN(Ce)||isNaN(We)||!Ai(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-g,ge-D],[Ce-ae,We-ge],[g-Ce,D-We]],g,D,[1,1],Ke,!0),this},d.__private__.roundedRect=d.roundedRect=function(g,D,ae,ge,Ce,We,Ke){if(isNaN(g)||isNaN(D)||isNaN(ae)||isNaN(ge)||isNaN(Ce)||isNaN(We)||!Ai(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*ae),We=Math.min(We,.5*ge),this.lines([[ae-2*Ce,0],[Ce*pt,0,Ce,We-We*pt,Ce,We],[0,ge-2*We],[0,We*pt,-Ce*pt,We,-Ce,We],[2*Ce-ae,0],[-Ce*pt,0,-Ce,-We*pt,-Ce,-We],[0,2*We-ge],[0,-We*pt,Ce*pt,-We,Ce,-We]],g+Ce,D,[1,1],Ke,!0),this},d.__private__.ellipse=d.ellipse=function(g,D,ae,ge,Ce){if(isNaN(g)||isNaN(D)||isNaN(ae)||isNaN(ge)||!Ai(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ae,Ke=4/3*(Math.SQRT2-1)*ge;return Ws(g+ae,D),ha(g+ae,D-Ke,g+We,D-ge,g,D-ge),ha(g-We,D-ge,g-ae,D-Ke,g-ae,D),ha(g-ae,D+Ke,g-We,D+ge,g,D+ge),ha(g+We,D+ge,g+ae,D+Ke,g+ae,D),qs(Ce),this},d.__private__.circle=d.circle=function(g,D,ae,ge){if(isNaN(g)||isNaN(D)||isNaN(ae)||!Ai(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,D,ae,ae,ge)},d.setFont=function(g,D,ae){return ae&&(D=re(D,ae)),Ee=hc(g,D,{disableWarning:!1}),this};var Zd=d.__private__.getFont=d.getFont=function(){return Le[hc.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var g,D,ae={};for(g in Xe)if(Xe.hasOwnProperty(g))for(D in ae[g]=[],Xe[g])Xe[g].hasOwnProperty(D)&&ae[g].push(D);return ae},d.addFont=function(g,D,ae,ge,Ce){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ae=re(ae,ge)),Ce=Ce||"Identity-H",fa.call(this,g,D,ae,Ce)};var Qa,$s=e.lineWidth||.200025,Oo=d.__private__.getLineWidth=d.getLineWidth=function(){return $s},yc=d.__private__.setLineWidth=d.setLineWidth=function(g){return $s=g,E($(L(g))+" w"),this};d.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(g,D){if(g=g||[],D=D||0,isNaN(D)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(ae){return $(L(ae))}).join(" "),D=$(L(D)),E("["+g+"] "+D+" d"),this};var wc=d.__private__.getLineHeight=d.getLineHeight=function(){return T*Qa};d.__private__.getLineHeight=d.getLineHeight=function(){return T*Qa};var xc=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Qa=g),this},bc=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Qa};xc(e.lineHeight);var Pi=d.__private__.getHorizontalCoordinate=function(g){return L(g)},Wi=d.__private__.getVerticalCoordinate=function(g){return _===b.ADVANCED?g:Ge[V].mediaBox.topRightY-Ge[V].mediaBox.bottomLeftY-L(g)},Kd=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(g){return $(Pi(g))},pa=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(g){return $(Wi(g))},ui=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Re(ui)},d.__private__.setStrokeColor=d.setDrawColor=function(g,D,ae,ge){return ui=Je({ch1:g,ch2:D,ch3:ae,ch4:ge,pdfColorType:"draw",precision:2}),E(ui),this};var Hs=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Re(Hs)},d.__private__.setFillColor=d.setFillColor=function(g,D,ae,ge){return Hs=Je({ch1:g,ch2:D,ch3:ae,ch4:ge,pdfColorType:"fill",precision:2}),E(Hs),this};var eo=e.textColor||"0 g",Qd=d.__private__.getTextColor=d.getTextColor=function(){return Re(eo)};d.__private__.setTextColor=d.setTextColor=function(g,D,ae,ge){return eo=Je({ch1:g,ch2:D,ch3:ae,ch4:ge,pdfColorType:"text",precision:3}),this};var Ro=e.charSpace,ef=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ro||0)};d.__private__.setCharSpace=d.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ro=g,this};var Vs=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(g){var D=d.CapJoinStyles[g];if(D===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vs=D,E(D+" J"),this};var Gs=0;d.__private__.setLineJoin=d.setLineJoin=function(g){var D=d.CapJoinStyles[g];if(D===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gs=D,E(D+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return E($(L(g))+" M"),this},d.GState=od,d.setGState=function(g){(g=typeof g=="string"?at[Pt[g]]:Nc(null,g)).equals(st)||(E("/"+g.id+" gs"),st=g)};var Nc=function(g,D){if(!g||!Pt[g]){var ae=!1;for(var ge in at)if(at.hasOwnProperty(ge)&&at[ge].equals(D)){ae=!0;break}if(ae)D=at[ge];else{var Ce="GS"+(Object.keys(at).length+1).toString(10);at[Ce]=D,D.id=Ce}return g&&(Pt[g]=D.id),lt.publish("addGState",D),D}};d.addGState=function(g,D){return Nc(g,D),this},d.saveGraphicsState=function(){return E("q"),ot.push({key:Ee,size:T,color:eo}),this},d.restoreGraphicsState=function(){E("Q");var g=ot.pop();return Ee=g.key,T=g.size,eo=g.color,st=null,this},d.setCurrentTransformationMatrix=function(g){return E(g.toString()+" cm"),this},d.comment=function(g){return E("#"+g),this};var Mo=function(g,D){var ae=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(We){isNaN(We)||(ae=parseFloat(We))}});var ge=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(We){isNaN(We)||(ge=parseFloat(We))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(We){Ce=We.toString()}}),this},Ys=function(g,D,ae,ge){Mo.call(this,g,D),this.type="rect";var Ce=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ke){isNaN(Ke)||(Ce=parseFloat(Ke))}});var We=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Ke){isNaN(Ke)||(We=parseFloat(Ke))}}),this},Xs=function(){this.page=nt,this.currentPage=V,this.pages=be.slice(0),this.pagesContext=Ge.slice(0),this.x=Ae,this.y=Ye,this.matrix=xt,this.width=to(V),this.height=ma(V),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Xs.prototype.restore=function(){nt=this.page,V=this.currentPage,Ge=this.pagesContext,be=this.pages,Ae=this.x,Ye=this.y,xt=this.matrix,Js(V,this.width),Zs(V,this.height),Oe=this.outputDestination};var kc=function(g,D,ae,ge,Ce){Dt.push(new Xs),nt=V=0,be=[],Ae=g,Ye=D,xt=Ce,Bs([ae,ge])},tf=function(g){if(_t[g])Dt.pop().restore();else{var D=new Xs,ae="Xo"+(Object.keys(jt).length+1).toString(10);D.id=ae,_t[g]=ae,jt[ae]=D,lt.publish("addFormObject",D),Dt.pop().restore()}};for(var zo in d.beginFormObject=function(g,D,ae,ge,Ce){return kc(g,D,ae,ge,Ce),this},d.endFormObject=function(g){return tf(g),this},d.doFormObject=function(g,D){var ae=jt[_t[g]];return E("q"),E(D.toString()+" cm"),E("/"+ae.id+" Do"),E("Q"),this},d.getFormObject=function(g){var D=jt[_t[g]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},d.save=function(g,D){return g=g||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(fo(Do(qi()),g),typeof fo.unload=="function"&&Ft.setTimeout&&setTimeout(fo.unload,911),this):new Promise(function(ae,ge){try{var Ce=fo(Do(qi()),g);typeof fo.unload=="function"&&Ft.setTimeout&&setTimeout(fo.unload,911),ae(Ce)}catch(We){ge(We.message)}})},bt.API)bt.API.hasOwnProperty(zo)&&(zo==="events"&&bt.API.events.length?function(g,D){var ae,ge,Ce;for(Ce=D.length-1;Ce!==-1;Ce--)ae=D[Ce][0],ge=D[Ce][1],g.subscribe.apply(g,[ae].concat(typeof ge=="function"?[ge]:ge))}(lt,bt.API.events):d[zo]=bt.API[zo]);var to=d.getPageWidth=function(g){return(Ge[g=g||V].mediaBox.topRightX-Ge[g].mediaBox.bottomLeftX)/we},Js=d.setPageWidth=function(g,D){Ge[g].mediaBox.topRightX=D*we+Ge[g].mediaBox.bottomLeftX},ma=d.getPageHeight=function(g){return(Ge[g=g||V].mediaBox.topRightY-Ge[g].mediaBox.bottomLeftY)/we},Zs=d.setPageHeight=function(g,D){Ge[g].mediaBox.topRightY=D*we+Ge[g].mediaBox.bottomLeftY};return d.internal={pdfEscape:bn,getStyle:gc,getFont:Zd,getFontSize:M,getCharSpace:ef,getTextColor:Qd,getLineHeight:wc,getLineHeightFactor:bc,getLineWidth:Oo,write:J,getHorizontalCoordinate:Pi,getVerticalCoordinate:Wi,getCoordinateString:Kd,getVerticalCoordinateString:pa,collections:{},newObject:Ht,newAdditionalObject:ct,newObjectDeferred:zt,newObjectDeferredBegin:Fe,getFilters:Qe,putStream:it,events:lt,scaleFactor:we,pageSize:{getWidth:function(){return to(V)},setWidth:function(g){Js(V,g)},getHeight:function(){return ma(V)},setHeight:function(g){Zs(V,g)}},encryptionOptions:p,encryption:tn,getEncryptor:Hd,output:To,getNumberOfPages:Bd,pages:be,out:E,f2:se,f3:U,getPageInfo:mc,getPageInfoByObjId:Tt,getCurrentPageInfo:Vd,getPDFVersion:w,Point:Mo,Rectangle:Ys,Matrix:dt,hasHotfix:pc},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return to(V)},set:function(g){Js(V,g)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ma(V)},set:function(g){Zs(V,g)},enumerable:!0,configurable:!0}),zs.call(d,O),Ee="F1",dc(i,r),lt.publish("initialized"),d}is.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},is.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},is.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},is.prototype.processOwnerPassword=function(e,t){return _p(kp(t).substr(0,5),e)},is.prototype.encryptor=function(e,t){var r=kp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return _p(r,n)}},od.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tr(e)!==tr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},bt.API={events:[]},bt.version="2.5.2";var Sr=bt.API,j0=1,Eo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ts=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(e){return e.toFixed(2)},La=function(e){return e.toFixed(5)};Sr.__acroform__={};var En=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Sm=function(e){return e*j0},Fi=function(e){var t=new N5,r=yt.internal.getHeight(e)||0,n=yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],t},yb=Sr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},wb=Sr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},xb=Sr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Cr=Sr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xb(e,t-1)},Er=Sr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yb(e,t-1)},Fr=Sr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wb(e,t-1)},bb=Sr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+s)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},Nb=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Sp(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ot(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fi(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Sp=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(U){return U.split(`
`)}):i.map(function(U){return[U]});var a=r,o=yt.internal.getHeight(e)||0;o=o<0?-o:o;var s=yt.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(U,L,H){if(U+1<i.length){var N=L+" "+i[U+1][0];return mu(N,e,H).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var f,p,v=mu("3",e,a).height,y=e.multiline?o-a:(o-v)/2,d=y+=2,k=0,w=0,S=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+mu(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var m="",b=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var I=!1;if(i[_].length!==1&&S!==i[_].length-1){if((v+2)*(b+2)+2>o)continue e;m+=i[_][S],I=!0,w=_,_--}else{m=(m+=i[_][S]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var z=parseInt(_),re=c(z,m,a),$=_>=i.length-1;if(re&&!$){m+=" ",S=0;continue}if(re||$){if($)w=z;else if(e.multiline&&(v+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(v+2)*(b+2)+2>o)continue e;w=z}}for(var B="",Z=k;Z<=w;Z++){var se=i[Z];if(e.multiline){if(Z===w){B+=se[S]+" ",S=(S+1)%se.length;continue}if(Z===k){B+=se[se.length-1]+" ";continue}}B+=se[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=mu(B,e,a).width,e.textAlign){case"right":f=s-p-2;break;case"center":f=(s-p)/2;break;case"left":default:f=2}t+=Ot(f)+" "+Ot(d)+` Td
`,t+="("+Eo(B)+`) Tj
`,t+=-Ot(f)+` 0 Td
`,d=-(a+2),p=0,k=I?w:w+1,b++,m=""}break}return n.text=t,n.fontSize=a,n},mu=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},kb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_b=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Sb=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),tr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},jb=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Si.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kb)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");j0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new k5,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&_b(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],f=s.Rect;if(s.Rect&&(s.Rect=bb(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=yt.createDefaultAppearanceStream(s),tr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=f,s.hasAppearanceStream&&!s.appearanceStreamContent){var p=Nb(s);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(s.appearanceStreamContent){var v="";for(var y in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(y)){var d=s.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var k=d[o];typeof k=="function"&&(k=k.call(i,s)),v+="/"+o+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=d)=="function"&&(k=k.call(i,s)),v+="/"+o+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:s.objId}),i.internal.out("endobj")}a&&Sb(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},b5=Sr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),tr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Eo(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rh=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Eo(n(e))+")"},Oi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oi.prototype.toString=function(){return this.objId+" 0 R"},Oi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Oi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:b5(i,this.objId,this.scope)}):i instanceof Oi?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var N5=function(){Oi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};En(N5,Oi);var k5=function(){Oi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Eo(r(e))+")"}},set:function(r){e=r}})};En(k5,Oi);var Si=function e(){Oi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cr(t,3)},set:function(m){m?this.F=Er(t,3):this.F=Fr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof sd)return;a="FieldObject"+e.FieldNum++}var m=function(b){return b};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Eo(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/j0:f},set:function(m){f=m}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){p=m}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof sd||this instanceof xo))return rh(v,this.objId,this.scope)},set:function(m){m=m.toString(),v=m}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Vr?y:rh(y,this.objId,this.scope)},set:function(m){m=m.toString(),y=this instanceof Vr?m:m.substr(0,1)==="("?ts(m.substr(1,m.length-2)):ts(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr?ts(y.substr(1,y.length-1)):y},set:function(m){m=m.toString(),y=this instanceof Vr?"/"+m:m}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Vr?d:rh(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=this instanceof Vr?m:m.substr(0,1)==="("?ts(m.substr(1,m.length-2)):ts(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vr?ts(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof Vr?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(m){m=!!m,w=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(m){k=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,1)},set:function(m){m?this.Ff=Er(this.Ff,1):this.Ff=Fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,2)},set:function(m){m?this.Ff=Er(this.Ff,2):this.Ff=Fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,3)},set:function(m){m?this.Ff=Er(this.Ff,3):this.Ff=Fr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');S=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(S){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};En(Si,Oi);var Ss=function(){Si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b5(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var c,f=[];c=o.exec(a);)f.push(c[s]);return f}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,18)},set:function(r){r?this.Ff=Er(this.Ff,18):this.Ff=Fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Er(this.Ff,19):this.Ff=Fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,20)},set:function(r){r?(this.Ff=Er(this.Ff,20),t.sort()):this.Ff=Fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,22)},set:function(r){r?this.Ff=Er(this.Ff,22):this.Ff=Fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(r){r?this.Ff=Er(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,27)},set:function(r){r?this.Ff=Er(this.Ff,27):this.Ff=Fr(this.Ff,27)}}),this.hasAppearanceStream=!1};En(Ss,Si);var js=function(){Ss.call(this),this.fontName="helvetica",this.combo=!1};En(js,Ss);var As=function(){js.call(this),this.combo=!0};En(As,js);var Fu=function(){As.call(this),this.edit=!0};En(Fu,As);var Vr=function(){Si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,15)},set:function(r){r?this.Ff=Er(this.Ff,15):this.Ff=Fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,16)},set:function(r){r?this.Ff=Er(this.Ff,16):this.Ff=Fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,17)},set:function(r){r?this.Ff=Er(this.Ff,17):this.Ff=Fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(r){r?this.Ff=Er(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Eo(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){tr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};En(Vr,Si);var Du=function(){Vr.call(this),this.pushButton=!0};En(Du,Vr);var Ps=function(){Vr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};En(Ps,Vr);var sd=function(){var e,t;Si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Eo(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};En(sd,Si),Ps.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ps.prototype.createOption=function(e){var t=new sd;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ab.call(this.scope,t),t};var Tu=function(){Vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};En(Tu,Vr);var xo=function(){Si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,13)},set:function(t){t?this.Ff=Er(this.Ff,13):this.Ff=Fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,21)},set:function(t){t?this.Ff=Er(this.Ff,21):this.Ff=Fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,23)},set:function(t){t?this.Ff=Er(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,24)},set:function(t){t?this.Ff=Er(this.Ff,24):this.Ff=Fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,25)},set:function(t){t?this.Ff=Er(this.Ff,25):this.Ff=Fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,26)},set:function(t){t?this.Ff=Er(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};En(xo,Si);var Iu=function(){xo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cr(this.Ff,14)},set:function(e){e?this.Ff=Er(this.Ff,14):this.Ff=Fr(this.Ff,14)}}),this.password=!0};En(Iu,xo);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Sp(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(yt.internal.getWidth(e))+" "+Ot(yt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=yt.internal.getHeight(e),o=yt.internal.getWidth(e),s=Sp(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ot(o)+" "+Ot(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ot(o-1)+" "+Ot(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ot(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(yt.internal.getWidth(e))+" "+Ot(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Circle.YesNormal,t.D[e]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=yt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+La(yt.internal.getWidth(e)/2)+" "+La(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*yt.internal.Bezier_C).toFixed(5)),o=Number((n*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+La(yt.internal.getWidth(e)/2)+" "+La(yt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+La(yt.internal.getWidth(e)/2)+" "+La(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+La(yt.internal.getWidth(e)/2)+" "+La(yt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Cross.YesNormal,t.D[e]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var r=[],n=yt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ot(yt.internal.getWidth(e)-2)+" "+Ot(yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=yt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(yt.internal.getWidth(e))+" "+Ot(yt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(yt.internal.getWidth(e)-2)+" "+Ot(yt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(yt.internal.getWidth(e))+" "+Ot(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yt.internal.getWidth(e),r=yt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},yt.internal.getWidth=function(e){var t=0;return tr(e)==="object"&&(t=Sm(e.Rect[2])),t},yt.internal.getHeight=function(e){var t=0;return tr(e)==="object"&&(t=Sm(e.Rect[3])),t};var Ab=Sr.addField=function(e){if(jb(this,e),!(e instanceof Si))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=Ss,Sr.AcroFormListBox=js,Sr.AcroFormComboBox=As,Sr.AcroFormEditBox=Fu,Sr.AcroFormButton=Vr,Sr.AcroFormPushButton=Du,Sr.AcroFormRadioButton=Ps,Sr.AcroFormCheckBox=Tu,Sr.AcroFormTextField=xo,Sr.AcroFormPasswordField=Iu,Sr.AcroFormAppearance=yt,Sr.AcroForm={ChoiceField:Ss,ListBox:js,ComboBox:As,EditBox:Fu,Button:Vr,PushButton:Du,RadioButton:Ps,CheckBox:Tu,TextField:xo,PasswordField:Iu,Appearance:yt},bt.AcroForm={ChoiceField:Ss,ListBox:js,ComboBox:As,EditBox:Fu,Button:Vr,PushButton:Du,RadioButton:Ps,CheckBox:Tu,TextField:xo,PasswordField:Iu,Appearance:yt};bt.AcroForm;function _5(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(U,L){var H,N,le,ve,de,ne=t;if((L=L||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(re(U))for(de in r)for(le=r[de],H=0;H<le.length;H+=1){for(ve=!0,N=0;N<le[H].length;N+=1)if(le[H][N]!==void 0&&le[H][N]!==U[N]){ve=!1;break}if(ve===!0){ne=de;break}}else for(de in r)for(le=r[de],H=0;H<le.length;H+=1){for(ve=!0,N=0;N<le[H].length;N+=1)if(le[H][N]!==void 0&&le[H][N]!==U.charCodeAt(N)){ve=!1;break}if(ve===!0){ne=de;break}}return ne===t&&L!==t&&(ne=L),ne},i=function U(L){for(var H=this.internal.write,N=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:L.width}),ve.push({key:"Height",value:L.height}),L.colorSpace===S.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===S.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var de="",ne=0,ee=L.transparency.length;ne<ee;ne++)de+=L.transparency[ne]+" "+L.transparency[ne]+" ";ve.push({key:"Mask",value:"["+de+"]"})}L.sMask!==void 0&&ve.push({key:"SMask",value:L.objectId+1+" 0 R"});var me=L.filter!==void 0?["/"+L.filter]:void 0;if(N({data:L.data,additionalKeyValues:ve,alreadyAppliedFilters:me,objectId:L.objectId}),H("endobj"),"sMask"in L&&L.sMask!==void 0){var ue="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,A={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ue,data:L.sMask};"filter"in L&&(A.filter=L.filter),U.call(this,A)}if(L.colorSpace===S.INDEXED){var V=this.internal.newObject();N({data:B(new Uint8Array(L.palette)),objectId:V}),H("endobj")}},a=function(){var U=this.internal.collections.addImage_images;for(var L in U)i.call(this,U[L])},o=function(){var U,L=this.internal.collections.addImage_images,H=this.internal.write;for(var N in L)H("/I"+(U=L[N]).index,U.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var U=this.internal.collections.addImage_images;return s.call(this),U},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(U){return typeof e["process"+U.toUpperCase()]=="function"},v=function(U){return tr(U)==="object"&&U.nodeType===1},y=function(U,L){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var H=""+U.getAttribute("src");if(H.indexOf("data:image/")===0)return zl(unescape(H).split("base64,").pop());var N=e.loadFile(H,!0);if(N!==void 0)return N}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var le;switch(L){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return zl(U.toDataURL(le,1).split("base64,").pop())}},d=function(U){var L=this.internal.collections.addImage_images;if(L){for(var H in L)if(U===L[H].alias)return L[H]}},k=function(U,L,H){return U||L||(U=-96,L=-96),U<0&&(U=-1*H.width*72/U/this.internal.scaleFactor),L<0&&(L=-1*H.height*72/L/this.internal.scaleFactor),U===0&&(U=L*H.width/H.height),L===0&&(L=U*H.height/H.width),[U,L]},w=function(U,L,H,N,le,ve){var de=k.call(this,H,N,le),ne=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,me=c.call(this);if(H=de[0],N=de[1],me[le.index]=le,ve){ve*=Math.PI/180;var ue=Math.cos(ve),A=Math.sin(ve),V=function(K){return K.toFixed(4)},Y=[V(ue),V(A),V(-1*A),V(ue),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,ne(U),ee(L+N),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ne(H),"0","0",ne(N),"0","0","cm"].join(" "))):this.internal.write([ne(H),"0","0",ne(N),ne(U),ee(L+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(U){var L,H,N=0;if(typeof U=="string")for(H=U.length,L=0;L<H;L++)N=(N<<5)-N+U.charCodeAt(L),N|=0;else if(re(U))for(H=U.byteLength/2,L=0;L<H;L++)N=(N<<5)-N+U[L],N|=0;return N},_=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var L=!0;return U.length===0&&(L=!1),U.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(L=!1),L},I=e.__addimage__.extractImageFromDataUrl=function(U){var L=(U=U||"").split("base64,"),H=null;if(L.length===2){var N=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(N)&&(H={mimeType:N[1],charset:N[2],data:L[1]})}return H},z=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(U){return z()&&U instanceof ArrayBuffer};var re=e.__addimage__.isArrayBufferView=function(U){return z()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},$=e.__addimage__.binaryStringToUint8Array=function(U){for(var L=U.length,H=new Uint8Array(L),N=0;N<L;N++)H[N]=U.charCodeAt(N);return H},B=e.__addimage__.arrayBufferToBinaryString=function(U){for(var L="",H=re(U)?U:new Uint8Array(U),N=0;N<H.length;N+=8192)L+=String.fromCharCode.apply(null,H.subarray(N,N+8192));return L};e.addImage=function(){var U,L,H,N,le,ve,de,ne,ee;if(typeof arguments[1]=="number"?(L=t,H=arguments[1],N=arguments[2],le=arguments[3],ve=arguments[4],de=arguments[5],ne=arguments[6],ee=arguments[7]):(L=arguments[1],H=arguments[2],N=arguments[3],le=arguments[4],ve=arguments[5],de=arguments[6],ne=arguments[7],ee=arguments[8]),tr(U=arguments[0])==="object"&&!v(U)&&"imageData"in U){var me=U;U=me.imageData,L=me.format||L||t,H=me.x||H||0,N=me.y||N||0,le=me.w||me.width||le,ve=me.h||me.height||ve,de=me.alias||de,ne=me.compression||ne,ee=me.rotation||me.angle||ee}var ue=this.internal.getFilters();if(ne===void 0&&ue.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(H)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var A=Z.call(this,U,L,de,ne);return w.call(this,H,N,le,ve,A,ee),this};var Z=function(U,L,H,N){var le,ve,de;if(typeof U=="string"&&n(U)===t){U=unescape(U);var ne=se(U,!1);(ne!==""||(ne=e.loadFile(U,!0))!==void 0)&&(U=ne)}if(v(U)&&(U=y(U,L)),L=n(U,L),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((de=H)==null||de.length===0)&&(H=function(ee){return typeof ee=="string"||re(ee)?b(ee):re(ee.data)?b(ee.data):null}(U)),(le=d.call(this,H))||(z()&&(U instanceof Uint8Array||L==="RGBA"||(ve=U,U=$(U))),le=this["process"+L.toUpperCase()](U,f.call(this),H,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:m.NONE}(N),ve)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},se=e.__addimage__.convertBase64ToBinaryString=function(U,L){var H;L=typeof L!="boolean"||L;var N,le="";if(typeof U=="string"){N=(H=I(U))!==null?H.data:U;try{le=zl(N)}catch(ve){if(L)throw _(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};e.getImageProperties=function(U){var L,H,N="";if(v(U)&&(U=y(U)),typeof U=="string"&&n(U)===t&&((N=se(U,!1))===""&&(N=e.loadFile(U)||""),U=N),H=n(U),!p(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!z()||U instanceof Uint8Array||(U=$(U)),!(L=this["process"+H.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=H,L}})(bt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((n=f[v]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var d=this.internal.pdfEscape,k=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(w.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+d(m(n.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+d(m(b))+") >>",w.content=a;var _=w.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(w.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(k(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var z=this.annotations._nameMap[n.options.name];n.options.pageNumber=z.page,n.options.top=z.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var re=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+re+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:f(n),w:c(r+i),h:f(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,s,c=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var p=this.splitTextToSize(r,s).length;o=Math.ceil(f*p)}else s=c,o=f;return this.text(r,n,i,a),i+=.2*f,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-f,s,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},s=e.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&a(w)&&t[w.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&a(w)&&t[w.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&a(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&a(w)&&t[w.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&a(w)&&t[w.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(w){var S=0,m=r,b="",_=0;for(S=0;S<w.length;S+=1)m[w.charCodeAt(S)]!==void 0?(_++,typeof(m=m[w.charCodeAt(S)])=="number"&&(b+=String.fromCharCode(m),m=r,_=0),S===w.length-1&&(m=r,b+=w.charAt(S-(_-1)),S-=_-1,_=0)):(m=r,b+=w.charAt(S-_),S-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(w,S,m){return o(w)?a(w)===!1?-1:!f(w)||!o(S)&&!o(m)||!o(m)&&s(S)||s(w)&&!o(S)||s(w)&&c(S)||s(w)&&s(S)?0:p(w)&&o(S)&&!s(S)&&o(m)&&f(m)?3:s(w)||!o(m)?1:2:-1},d=function(w){var S=0,m=0,b=0,_="",I="",z="",re=(w=w||"").split("\\s+"),$=[];for(S=0;S<re.length;S+=1){for($.push(""),m=0;m<re[S].length;m+=1)_=re[S][m],I=re[S][m-1],z=re[S][m+1],o(_)?(b=y(_,I,z),$[S]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):$[S]+=_;$[S]=v($[S])}return $.join(" ")},k=e.__arabicParser__.processArabic=e.processArabic=function(){var w,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(S)){var b=0;for(m=[],b=0;b<S.length;b+=1)Array.isArray(S[b])?m.push([d(S[b][0]),S[b][1],S[b][2]]):m.push([d(S[b])]);w=m}else w=d(S);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",k])}(bt.API),bt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(w){k=w}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,d=0,k=0,w=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var m=f.maxWidth;m>0?typeof c=="string"?c=this.splitTextToSize(c,m):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,I){return _.concat(S.splitTextToSize(I,m))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)d<(w=this.getStringUnitWidth(c[b],{font:v})*p)&&(d=w);return d!==0&&(k=c.length),{w:d/=y,h:Math.max((k*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,d&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};e.table=function(c,f,p,v,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var d,k,w,S,m=[],b=[],_=[],I={},z={},re=[],$=[],B=(y=y||{}).autoSize||!1,Z=y.printHeaders!==!1,se=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,U=y.margins||Object.assign({width:this.getPageWidth()},t),L=typeof y.padding=="number"?y.padding:3,H=y.headerBackgroundColor||"#c8c8c8",N=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=N,this.setFontSize(se),v==null)b=m=Object.keys(p[0]),_=m.map(function(){return"left"});else if(Array.isArray(v)&&tr(v[0])==="object")for(m=v.map(function(me){return me.name}),b=v.map(function(me){return me.prompt||me.name||""}),_=v.map(function(me){return me.align||"left"}),d=0;d<v.length;d+=1)z[v[d].name]=v[d].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(b=m=v,_=m.map(function(){return"left"}));if(B||Array.isArray(v)&&typeof v[0]=="string")for(d=0;d<m.length;d+=1){for(I[S=m[d]]=p.map(function(me){return me[S]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=I[S],this.setFont(void 0,"normal"),w=0;w<k.length;w+=1)re.push(this.getTextDimensions(k[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[S]=Math.max.apply(null,re)+L+L,re=[]}if(Z){var le={};for(d=0;d<m.length;d+=1)le[m[d]]={},le[m[d]].text=b[d],le[m[d]].align=_[d];var ve=s.call(this,le,z);$=m.map(function(me){return new a(c,f,z[me],ve,le[me].text,void 0,le[me].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var de=v.reduce(function(me,ue){return me[ue.name]=ue.align,me},{});for(d=0;d<p.length;d+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:d,data:p[d]},this);var ne=s.call(this,p[d],z);for(w=0;w<m.length;w+=1){var ee=p[d][m[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:d,col:w,data:ee},this),o.call(this,new a(c,f,z[m[w]],ne,ee,d+2,de[m[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var s=function(c,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(d){var k=c[d];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,f[d]-p-p)},this).map(function(d){return this.getLineHeightFactor()*d.length*v/y+p+p},this).reduce(function(d,k){return Math.max(d,k)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){p=this.internal.__cell__.tableHeaderRow[d].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(k)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(bt.API);var S5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jp=_5(j5),A5=[100,200,300,400,500,600,700,800,900],Pb=_5(A5);function Ap(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return S5[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof jp[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function jm(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Lb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Am={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Cb(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Lb,r.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=Ap(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+Pm(a)+"' and default family '"+n+"'.");if(o=function(c,f){if(f[c])return f[c];var p=jp[c],v=p<=jp.normal?-1:1,y=jm(f,j5,p,v);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(a.stretch,o),o=function(c,f){if(f[c])return f[c];for(var p=S5[c],v=0;v<p.length;++v)if(f[p[v]])return f[p[v]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var p=Pb[c],v=jm(f,A5,p,c<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+c);return v}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Pm(a)+"'.");return o}function Lm(e){return e.trimLeft()}function Eb(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Fb(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gu,Cm,Em,nh=["times"];(function(e){var t,r,n,i,a,o,s,c,f,p=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var v=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=A;Object.defineProperty(this,"pdf",{get:function(){return V}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(te){Y=!!te}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(te){K=!!te}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(te){isNaN(te)||(pe=te)}});var je=0;Object.defineProperty(this,"posY",{get:function(){return je},set:function(te){isNaN(te)||(je=te)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(te){var E;typeof te=="number"?E=[te,te,te,te]:((E=new Array(4))[0]=te[0],E[1]=te.length>=2?te[1]:E[0],E[2]=te.length>=3?te[2]:E[0],E[3]=te.length>=4?te[3]:E[1]),f.margin=E}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(te){ke=te}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(te){oe=te}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(te){Se=te}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(te){te instanceof p&&(f=te)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(te){f.path=te}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(te){be=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var E;E=y(te),this.ctx.fillStyle=E.style,this.ctx.isFillTransparent=E.a===0,this.ctx.fillOpacity=E.a,this.pdf.setFillColor(E.r,E.g,E.b,{a:E.a}),this.pdf.setTextColor(E.r,E.g,E.b,{a:E.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var E=y(te);this.ctx.strokeStyle=E.style,this.ctx.isStrokeTransparent=E.a===0,this.ctx.strokeOpacity=E.a,E.a===0?this.pdf.setDrawColor(255,255,255):(E.a,this.pdf.setDrawColor(E.r,E.g,E.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var De=null;function Oe(te,E){if(De===null){var J=function(C){var O=[];return Object.keys(C).forEach(function(T){C[T].forEach(function(X){var M=null;switch(X){case"bold":M={family:T,weight:"bold"};break;case"italic":M={family:T,style:"italic"};break;case"bolditalic":M={family:T,weight:"bold",style:"italic"};break;case"":case"normal":M={family:T}}M!==null&&(M.ref={name:T,style:X},O.push(M))})}),O}(te.getFontList());De=function(C){for(var O={},T=0;T<C.length;++T){var X=Ap(C[T]),M=X.family,ie=X.stretch,ce=X.style,fe=X.weight;O[M]=O[M]||{},O[M][ie]=O[M][ie]||{},O[M][ie][ce]=O[M][ie][ce]||{},O[M][ie][ce][fe]=X}return O}(J.concat(E))}return De}var P=null;Object.defineProperty(this,"fontFaces",{get:function(){return P},set:function(te){De=null,P=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var E;if(this.ctx.font=te,(E=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(te))!==null){var J=E[1],C=(E[2],E[3]),O=E[4],T=(E[5],E[6]),X=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(O)[2];O=Math.floor(X==="px"?parseFloat(O)*this.pdf.internal.scaleFactor:X==="em"?parseFloat(O)*this.pdf.getFontSize():parseFloat(O)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(O);var M=function(Ne){var Ee,we,Ae=[],Ye=Ne.trim();if(Ye==="")return nh;if(Ye in Am)return[Am[Ye]];for(;Ye!=="";){switch(we=null,Ee=(Ye=Lm(Ye)).charAt(0)){case'"':case"'":we=Eb(Ye.substring(1),Ee);break;default:we=Fb(Ye)}if(we===null||(Ae.push(we[0]),(Ye=Lm(we[1]))!==""&&Ye.charAt(0)!==","))return nh;Ye=Ye.replace(/^,/,"")}return Ae}(T);if(this.fontFaces){var ie=Cb(Oe(this.pdf,this.fontFaces),M.map(function(Ne){return{family:Ne,stretch:"normal",weight:C,style:J}}));this.pdf.setFont(ie.ref.name,ie.ref.style)}else{var ce="";(C==="bold"||parseInt(C,10)>=700||J==="bold")&&(ce="bold"),J==="italic"&&(ce+="italic"),ce.length===0&&(ce="normal");for(var fe="",Me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<M.length;ze++){if(this.pdf.internal.getFont(M[ze],ce,{noFallback:!0,disableWarning:!0})!==void 0){fe=M[ze];break}if(ce==="bolditalic"&&this.pdf.internal.getFont(M[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)fe=M[ze],ce="bold";else if(this.pdf.internal.getFont(M[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){fe=M[ze],ce="normal";break}}if(fe===""){for(var he=0;he<M.length;he++)if(Me[M[he]]){fe=Me[M[he]];break}}fe=fe===""?"Times":fe,this.pdf.setFont(fe,ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};v.prototype.setLineDash=function(A){this.lineDash=A},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){I.call(this,"fill",!1)},v.prototype.stroke=function(){I.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(A,V){if(isNaN(A)||isNaN(V))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(A,V)},v.prototype.closePath=function(){var A=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&tr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){A=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},v.prototype.lineTo=function(A,V){if(isNaN(A)||isNaN(V))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},v.prototype.quadraticCurveTo=function(A,V,Y,K){if(isNaN(Y)||isNaN(K)||isNaN(A)||isNaN(V))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o(Y,K)),je=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"qct",x1:je.x,y1:je.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},v.prototype.bezierCurveTo=function(A,V,Y,K,pe,je){if(isNaN(pe)||isNaN(je)||isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new o(pe,je)),oe=this.ctx.transform.applyToPoint(new o(A,V)),Se=this.ctx.transform.applyToPoint(new o(Y,K));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:Se.x,y2:Se.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new o(ke.x,ke.y)},v.prototype.arc=function(A,V,Y,K,pe,je){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K)||isNaN(pe))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(je=!!je,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new o(A,V));A=ke.x,V=ke.y;var oe=this.ctx.transform.applyToPoint(new o(0,Y)),Se=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(oe.x-Se.x,2)+Math.pow(oe.y-Se.y,2))}Math.abs(pe-K)>=2*Math.PI&&(K=0,pe=2*Math.PI),this.path.push({type:"arc",x:A,y:V,radius:Y,startAngle:K,endAngle:pe,counterclockwise:je})},v.prototype.arcTo=function(A,V,Y,K,pe){throw new Error("arcTo not implemented.")},v.prototype.rect=function(A,V,Y,K){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,V),this.lineTo(A+Y,V),this.lineTo(A+Y,V+K),this.lineTo(A,V+K),this.lineTo(A,V),this.lineTo(A+Y,V),this.lineTo(A,V)},v.prototype.fillRect=function(A,V,Y,K){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,V,Y,K),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},v.prototype.strokeRect=function(A,V,Y,K){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(A,V,Y,K),this.stroke())},v.prototype.clearRect=function(A,V,Y,K){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,V,Y,K))},v.prototype.save=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},v.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(V),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(A){var V,Y,K,pe;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))V=0,Y=0,K=0,pe=0;else{var je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(je!==null)V=parseInt(je[1]),Y=parseInt(je[2]),K=parseInt(je[3]),pe=1;else if((je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)V=parseInt(je[1]),Y=parseInt(je[2]),K=parseInt(je[3]),pe=parseFloat(je[4]);else{if(pe=1,typeof A=="string"&&A.charAt(0)!=="#"){var ke=new y5(A);A=ke.ok?ke.toHex():"#000000"}A.length===4?(V=A.substring(1,2),V+=V,Y=A.substring(2,3),Y+=Y,K=A.substring(3,4),K+=K):(V=A.substring(1,3),Y=A.substring(3,5),K=A.substring(5,7)),V=parseInt(V,16),Y=parseInt(Y,16),K=parseInt(K,16)}}return{r:V,g:Y,b:K,a:pe,style:A}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(A,V,Y,K){if(isNaN(V)||isNaN(Y)||typeof A!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!d.call(this)){var pe=ne(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;L.call(this,{text:A,x:V,y:Y,scale:je,angle:pe,align:this.textAlign,maxWidth:K})}},v.prototype.strokeText=function(A,V,Y,K){if(isNaN(V)||isNaN(Y)||typeof A!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){K=isNaN(K)?void 0:K;var pe=ne(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;L.call(this,{text:A,x:V,y:Y,scale:je,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:K})}},v.prototype.measureText=function(A){if(typeof A!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Y=this.pdf.internal.scaleFactor,K=V.internal.getFontSize(),pe=V.getStringUnitWidth(A)*K/V.internal.scaleFactor,je=function(ke){var oe=(ke=ke||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new je({width:pe*=Math.round(96*Y/72*1e4)/1e4})},v.prototype.scale=function(A,V){if(isNaN(A)||isNaN(V))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(A,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.rotate=function(A){if(isNaN(A))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},v.prototype.translate=function(A,V){if(isNaN(A)||isNaN(V))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,A,V);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.transform=function(A,V,Y,K,pe,je){if(isNaN(A)||isNaN(V)||isNaN(Y)||isNaN(K)||isNaN(pe)||isNaN(je))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(A,V,Y,K,pe,je);this.ctx.transform=this.ctx.transform.multiply(ke)},v.prototype.setTransform=function(A,V,Y,K,pe,je){A=isNaN(A)?1:A,V=isNaN(V)?0:V,Y=isNaN(Y)?0:Y,K=isNaN(K)?1:K,pe=isNaN(pe)?0:pe,je=isNaN(je)?0:je,this.ctx.transform=new c(A,V,Y,K,pe,je)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(A,V,Y,K,pe,je,ke,oe,Se){var be=this.pdf.getImageProperties(A),De=1,Oe=1,P=1,te=1;K!==void 0&&oe!==void 0&&(P=oe/K,te=Se/pe,De=be.width/K*oe/K,Oe=be.height/pe*Se/pe),je===void 0&&(je=V,ke=Y,V=0,Y=0),K!==void 0&&oe===void 0&&(oe=K,Se=pe),K===void 0&&oe===void 0&&(oe=be.width,Se=be.height);for(var E,J=this.ctx.transform.decompose(),C=ne(J.rotate.shx),O=new c,T=(O=(O=(O=O.multiply(J.translate)).multiply(J.skew)).multiply(J.scale)).applyToRectangle(new s(je-V*P,ke-Y*te,K*De,pe*Oe)),X=S.call(this,T),M=[],ie=0;ie<X.length;ie+=1)M.indexOf(X[ie])===-1&&M.push(X[ie]);if(_(M),this.autoPaging)for(var ce=M[0],fe=M[M.length-1],Me=ce;Me<fe+1;Me++){this.pdf.setPage(Me);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],he=Me===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=Me===1?0:Ne+(Me-2)*Ee;if(this.ctx.clip_path.length!==0){var Ae=this.path;E=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(E,this.posX+this.margin[3],-we+he+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Ae}var Ye=JSON.parse(JSON.stringify(T));Ye=b([Ye],this.posX+this.margin[3],-we+he+this.ctx.prevPageLastElemOffset)[0];var xt=(Me>ce||Me<fe)&&w.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Ee,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,C),xt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",T.x,T.y,T.w,T.h,null,null,C)};var S=function(A,V,Y){var K=[];V=V||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":K.push(Math.floor((A.y+pe)/Y)+1);break;case"arc":K.push(Math.floor((A.y+pe-A.radius)/Y)+1),K.push(Math.floor((A.y+pe+A.radius)/Y)+1);break;case"qct":var je=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);K.push(Math.floor((je.y+pe)/Y)+1),K.push(Math.floor((je.y+je.h+pe)/Y)+1);break;case"bct":var ke=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);K.push(Math.floor((ke.y+pe)/Y)+1),K.push(Math.floor((ke.y+ke.h+pe)/Y)+1);break;case"rect":K.push(Math.floor((A.y+pe)/Y)+1),K.push(Math.floor((A.y+A.h+pe)/Y)+1)}for(var oe=0;oe<K.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<K[oe];)m.call(this);return K},m=function(){var A=this.fillStyle,V=this.strokeStyle,Y=this.font,K=this.lineCap,pe=this.lineWidth,je=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=V,this.font=Y,this.lineCap=K,this.lineWidth=pe,this.lineJoin=je},b=function(A,V,Y){for(var K=0;K<A.length;K++)switch(A[K].type){case"bct":A[K].x2+=V,A[K].y2+=Y;case"qct":A[K].x1+=V,A[K].y1+=Y;case"mt":case"lt":case"arc":default:A[K].x+=V,A[K].y+=Y}return A},_=function(A){return A.sort(function(V,Y){return V-Y})},I=function(A,V){for(var Y,K,pe=this.fillStyle,je=this.strokeStyle,ke=this.lineCap,oe=this.lineWidth,Se=Math.abs(oe*this.ctx.transform.scaleX),be=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),P=[],te=0;te<Oe.length;te++)if(Oe[te].x!==void 0)for(var E=S.call(this,Oe[te]),J=0;J<E.length;J+=1)P.indexOf(E[J])===-1&&P.push(E[J]);for(var C=0;C<P.length;C++)for(;this.pdf.internal.getNumberOfPages()<P[C];)m.call(this);if(_(P),this.autoPaging)for(var O=P[0],T=P[P.length-1],X=O;X<T+1;X++){this.pdf.setPage(X),this.fillStyle=pe,this.strokeStyle=je,this.lineCap=ke,this.lineWidth=Se,this.lineJoin=be;var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ie=X===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=X===1?0:ce+(X-2)*fe;if(this.ctx.clip_path.length!==0){var ze=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-Me+ie+this.ctx.prevPageLastElemOffset),z.call(this,A,!0),this.path=ze}if(K=JSON.parse(JSON.stringify(De)),this.path=b(K,this.posX+this.margin[3],-Me+ie+this.ctx.prevPageLastElemOffset),V===!1||X===0){var he=(X>O||X<T)&&w.call(this);he&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,fe,null).clip().discardPath()),z.call(this,A,V),he&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=Se,z.call(this,A,V),this.lineWidth=oe;this.path=De},z=function(A,V){if((A!=="stroke"||V||!k.call(this))&&(A==="stroke"||V||!d.call(this))){for(var Y,K,pe=[],je=this.path,ke=0;ke<je.length;ke++){var oe=je[ke];switch(oe.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:oe,deltas:[],abs:[]});break;case"lt":var Se=pe.length;if(je[ke-1]&&!isNaN(je[ke-1].x)&&(Y=[oe.x-je[ke-1].x,oe.y-je[ke-1].y],Se>0)){for(;Se>=0;Se--)if(pe[Se-1].close!==!0&&pe[Se-1].begin!==!0){pe[Se-1].deltas.push(Y),pe[Se-1].abs.push(oe);break}}break;case"bct":Y=[oe.x1-je[ke-1].x,oe.y1-je[ke-1].y,oe.x2-je[ke-1].x,oe.y2-je[ke-1].y,oe.x-je[ke-1].x,oe.y-je[ke-1].y],pe[pe.length-1].deltas.push(Y);break;case"qct":var be=je[ke-1].x+2/3*(oe.x1-je[ke-1].x),De=je[ke-1].y+2/3*(oe.y1-je[ke-1].y),Oe=oe.x+2/3*(oe.x1-oe.x),P=oe.y+2/3*(oe.y1-oe.y),te=oe.x,E=oe.y;Y=[be-je[ke-1].x,De-je[ke-1].y,Oe-je[ke-1].x,P-je[ke-1].y,te-je[ke-1].x,E-je[ke-1].y],pe[pe.length-1].deltas.push(Y);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(oe)}}K=V?null:A==="stroke"?"stroke":"fill";for(var J=!1,C=0;C<pe.length;C++)if(pe[C].arc)for(var O=pe[C].abs,T=0;T<O.length;T++){var X=O[T];X.type==="arc"?B.call(this,X.x,X.y,X.radius,X.startAngle,X.endAngle,X.counterclockwise,void 0,V,!J):H.call(this,X.x,X.y),J=!0}else if(pe[C].close===!0)this.pdf.internal.out("h"),J=!1;else if(pe[C].begin!==!0){var M=pe[C].start.x,ie=pe[C].start.y;N.call(this,pe[C].deltas,M,ie),J=!0}K&&Z.call(this,K),V&&se.call(this)}},re=function(A){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-Y;case"top":return A+V-Y;case"hanging":return A+V-2*Y;case"middle":return A+V/2-Y;case"ideographic":return A;case"alphabetic":default:return A}},$=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(V,Y){this.colorStops.push([V,Y])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(A,V,Y,K,pe,je,ke,oe,Se){for(var be=ve.call(this,Y,K,pe,je),De=0;De<be.length;De++){var Oe=be[De];De===0&&(Se?U.call(this,Oe.x1+A,Oe.y1+V):H.call(this,Oe.x1+A,Oe.y1+V)),le.call(this,A,V,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}oe?se.call(this):Z.call(this,ke)},Z=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(A,V){this.pdf.internal.out(r(A)+" "+n(V)+" m")},L=function(A){var V;switch(A.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var Y=this.pdf.getTextDimensions(A.text),K=re.call(this,A.y),pe=$.call(this,K)-Y.h,je=this.ctx.transform.applyToPoint(new o(A.x,K)),ke=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Se,be,De,Oe=this.ctx.transform.applyToRectangle(new s(A.x,K,Y.w,Y.h)),P=oe.applyToRectangle(new s(A.x,pe,Y.w,Y.h)),te=S.call(this,P),E=[],J=0;J<te.length;J+=1)E.indexOf(te[J])===-1&&E.push(te[J]);if(_(E),this.autoPaging)for(var C=E[0],O=E[E.length-1],T=C;T<O+1;T++){this.pdf.setPage(T);var X=T===1?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ie=this.pdf.internal.pageSize.height-this.margin[2],ce=ie-this.margin[0],fe=this.pdf.internal.pageSize.width-this.margin[1],Me=fe-this.margin[3],ze=T===1?0:M+(T-2)*ce;if(this.ctx.clip_path.length!==0){var he=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Se,this.posX+this.margin[3],-1*ze+X),z.call(this,"fill",!0),this.path=he}var Ne=b([JSON.parse(JSON.stringify(P))],this.posX+this.margin[3],-ze+X+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*A.scale),De=this.lineWidth,this.lineWidth=De*A.scale);var Ee=this.autoPaging!=="text";if(Ee||Ne.y+Ne.h<=ie){if(Ee||Ne.y>=X&&Ne.x<=fe){var we=Ee?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||fe-Ne.x)[0],Ae=b([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-ze+X+this.ctx.prevPageLastElemOffset)[0],Ye=Ee&&(T>C||T<O)&&w.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,ce,null).clip().discardPath()),this.pdf.text(we,Ae.x,Ae.y,{angle:A.angle,align:V,renderingMode:A.renderingMode}),Ye&&this.pdf.restoreGraphicsState()}}else Ne.y<ie&&(this.ctx.prevPageLastElemOffset+=ie-Ne.y);A.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=De)}else A.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*A.scale),De=this.lineWidth,this.lineWidth=De*A.scale),this.pdf.text(A.text,je.x+this.posX,je.y+this.posY,{angle:A.angle,align:V,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=De)},H=function(A,V,Y,K){Y=Y||0,K=K||0,this.pdf.internal.out(r(A+Y)+" "+n(V+K)+" l")},N=function(A,V,Y){return this.pdf.lines(A,V,Y,null,null)},le=function(A,V,Y,K,pe,je,ke,oe){this.pdf.internal.out([t(i(Y+A)),t(a(K+V)),t(i(pe+A)),t(a(je+V)),t(i(ke+A)),t(a(oe+V)),"c"].join(" "))},ve=function(A,V,Y,K){for(var pe=2*Math.PI,je=Math.PI/2;V>Y;)V-=pe;var ke=Math.abs(Y-V);ke<pe&&K&&(ke=pe-ke);for(var oe=[],Se=K?-1:1,be=V;ke>1e-5;){var De=be+Se*Math.min(ke,je);oe.push(de.call(this,A,be,De)),ke-=Math.abs(De-be),be=De}return oe},de=function(A,V,Y){var K=(Y-V)/2,pe=A*Math.cos(K),je=A*Math.sin(K),ke=pe,oe=-je,Se=ke*ke+oe*oe,be=Se+ke*pe+oe*je,De=4/3*(Math.sqrt(2*Se*be)-be)/(ke*je-oe*pe),Oe=ke-De*oe,P=oe+De*ke,te=Oe,E=-P,J=K+V,C=Math.cos(J),O=Math.sin(J);return{x1:A*Math.cos(V),y1:A*Math.sin(V),x2:Oe*C-P*O,y2:Oe*O+P*C,x3:te*C-E*O,y3:te*O+E*C,x4:A*Math.cos(Y),y4:A*Math.sin(Y)}},ne=function(A){return 180*A/Math.PI},ee=function(A,V,Y,K,pe,je){var ke=A+.5*(Y-A),oe=V+.5*(K-V),Se=pe+.5*(Y-pe),be=je+.5*(K-je),De=Math.min(A,pe,ke,Se),Oe=Math.max(A,pe,ke,Se),P=Math.min(V,je,oe,be),te=Math.max(V,je,oe,be);return new s(De,P,Oe-De,te-P)},me=function(A,V,Y,K,pe,je,ke,oe){var Se,be,De,Oe,P,te,E,J,C,O,T,X,M,ie,ce=Y-A,fe=K-V,Me=pe-Y,ze=je-K,he=ke-pe,Ne=oe-je;for(be=0;be<41;be++)C=(E=(De=A+(Se=be/40)*ce)+Se*((P=Y+Se*Me)-De))+Se*(P+Se*(pe+Se*he-P)-E),O=(J=(Oe=V+Se*fe)+Se*((te=K+Se*ze)-Oe))+Se*(te+Se*(je+Se*Ne-te)-J),be==0?(T=C,X=O,M=C,ie=O):(T=Math.min(T,C),X=Math.min(X,O),M=Math.max(M,C),ie=Math.max(ie,O));return new s(Math.round(T),Math.round(X),Math.round(M-T),Math.round(ie-X))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,V,Y=(A=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:V}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(bt.API),function(e){var t=function(a){var o,s,c,f,p,v,y,d,k,w;for(s=[],c=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)(p=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(v=(p=((p=((p=((p=(p-(w=p%85))/85)-(k=p%85))/85)-(d=p%85))/85)-(y=p%85))/85)%85,s.push(v+33,y+33,d+33,k+33,w+33)):s.push(122);return function(S,m){for(var b=m;b>0;b--)S.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(a){var o,s,c,f,p,v=String,y="length",d=255,k="charCodeAt",w="slice",S="replace";for(a[w](-2),a=a[w](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],f=0,p=(a+=o="uuuuu"[w](a[y]%5||5))[y];p>f;f+=5)s=52200625*(a[k](f)-33)+614125*(a[k](f+1)-33)+7225*(a[k](f+2)-33)+85*(a[k](f+3)-33)+(a[k](f+4)-33),c.push(d&s>>24,d&s>>16,d&s>>8,d&s);return function(m,b){for(var _=b;_>0;_--)m.pop()}(c,o[y]),v.fromCharCode.apply(v,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",c=0;c<a.length;c+=2)s+=String.fromCharCode("0x"+(a[c]+a[c+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=bp(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,o){var s=0,c=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(bt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(c,f,p){var v=new XMLHttpRequest,y=0,d=function(k){var w=k.length,S=[],m=String.fromCharCode;for(y=0;y<w;y+=1)S.push(m(255&k.charCodeAt(y)));return S.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(d(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return d(v.responseText)}(i,a,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(bt.API),function(e){function t(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):gp(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):gp(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=tr(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var c=document.createElement(o);for(var f in s.className&&(c.className=s.className),s.innerHTML&&s.dompurify&&(c.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)c.style[f]=s.style[f];return c},a=function o(s){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function c(f,p){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||v.appendChild(c(y,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,s(this.prop.container,c)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var c=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var d=f[y],k=d.src.find(function(w){return w.format==="truetype"});k&&c.addFont(k.url,d.ref.name,d.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),s(this.prop.container,v)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,c,f){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,c,f){return this.setProgress(o?this.progress.val+o:null,s||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,s){var c=this;return this.thenCore(o,s,function(f,p){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,f),v}).then(f,p).then(function(v){return c.updateProgress(1),v})})},a.prototype.thenCore=function(o,s,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=c.call(f,o,s);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(c){s=s.thenCore(c)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,bt.getPageSize=function(o,s,c){if(tr(o)==="object"){var f=o;o=f.orientation,s=f.unit||s,c=f.format||c}s=s||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+s}var d,k=0,w=0;if(y.hasOwnProperty(v))k=y[v][1]/p,w=y[v][0]/p;else try{k=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>k&&(d=w,w=k,k=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",k>w&&(d=w,w=k,k=d)}return{width:w,height:k,unit:s,k:p,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(Ap):null;var c=new a(s);return s.worker?c:c.from(o).doCallback()}}(bt.API),bt.API.addJS=function(e){return Em=e,this.internal.events.subscribe("postPutResources",function(){gu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Em+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gu!==void 0&&Cm!==void 0&&this.internal.out("/Names <</JavaScript "+gu+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=r.internal.newObject();p.push(v);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<p.length;a++)r.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,s){var c,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(v){for(var y,d=256*v.charCodeAt(4)+v.charCodeAt(5),k=v.length,w={width:0,height:0,numcomponents:1},S=4;S<k;S+=2){if(S+=d,t.indexOf(v.charCodeAt(S+1))!==-1){y=256*v.charCodeAt(S+5)+v.charCodeAt(S+6),w={width:256*v.charCodeAt(S+7)+v.charCodeAt(S+8),height:y,numcomponents:v.charCodeAt(S+9)};break}d=256*v.charCodeAt(S+2)+v.charCodeAt(S+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:f,index:n,alias:i}}return p}}(bt.API);var rs,vu,Fm,Dm,Tm,Db=function(){var e,t,r;function n(a){var o,s,c,f,p,v,y,d,k,w,S,m,b,_;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),k=(function(){var I,z;for(z=[],I=0;I<4;++I)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*p/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,o-=4),a=(v!=null?v.data:void 0)||this.imgData,m=0;0<=o?m<o:m>o;0<=o?++m:--m)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(S=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,S.slice(0,y)),this.text[d]=String.fromCharCode.apply(String,S.slice(y+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),c=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(v,y,d,k){var w,S,m,b,_,I,z,re,$,B,Z,se,U,L,H,N,le,ve,de,ne,ee,me=Math.ceil((f.width-v)/d),ue=Math.ceil((f.height-y)/k),A=f.width==me&&f.height==ue;for(L=o*me,se=A?s:new Uint8Array(L*ue),I=a.length,U=0,S=0;U<ue&&c<I;){switch(a[c++]){case 0:for(b=le=0;le<L;b=le+=1)se[S++]=a[c++];break;case 1:for(b=ve=0;ve<L;b=ve+=1)w=a[c++],_=b<o?0:se[S-o],se[S++]=(w+_)%256;break;case 2:for(b=de=0;de<L;b=de+=1)w=a[c++],m=(b-b%o)/o,H=U&&se[(U-1)*L+m*o+b%o],se[S++]=(H+w)%256;break;case 3:for(b=ne=0;ne<L;b=ne+=1)w=a[c++],m=(b-b%o)/o,_=b<o?0:se[S-o],H=U&&se[(U-1)*L+m*o+b%o],se[S++]=(w+Math.floor((_+H)/2))%256;break;case 4:for(b=ee=0;ee<L;b=ee+=1)w=a[c++],m=(b-b%o)/o,_=b<o?0:se[S-o],U===0?H=N=0:(H=se[(U-1)*L+m*o+b%o],N=m&&se[(U-1)*L+(m-1)*o+b%o]),z=_+H-N,re=Math.abs(z-_),B=Math.abs(z-H),Z=Math.abs(z-N),$=re<=B&&re<=Z?_:B<=Z?H:N,se[S++]=(w+$)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!A){var V=((y+U*k)*f.width+v)*o,Y=U*L;for(b=0;b<me;b+=1){for(var K=0;K<o;K+=1)s[V++]=se[Y++];V+=(d-1)*o}}U++}}return a=db(a),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),s},n.prototype.decodePalette=function(){var a,o,s,c,f,p,v,y,d;for(s=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+s.length),c=0,a=0,o=v=0,y=s.length;v<y;o=v+=3)f[c++]=s[o],f[c++]=s[o+1],f[c++]=s[o+2],f[c++]=(d=p[a++])!=null?d:255;return f},n.prototype.copyToImageData=function(a,o){var s,c,f,p,v,y,d,k,w,S,m;if(c=this.colors,w=null,s=this.hasAlphaChannel,this.palette.length&&(w=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),c=4,s=!0),k=(f=a.data||a).length,v=w||o,p=y=0,c===1)for(;p<k;)d=w?4*o[p/4]:y,S=v[d++],f[p++]=S,f[p++]=S,f[p++]=S,f[p++]=s?v[d++]:255,y=d;else for(;p<k;)d=w?4*o[p/4]:y,f[p++]=v[d++],f[p++]=v[d++],f[p++]=v[d++],f[p++]=s?v[d++]:255,y=d},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{t=Ft.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,s,c,f,p,v,y,d;if(this.animation){for(d=[],s=p=0,v=(y=this.animation.frames).length;p<v;s=++p)o=y[s],c=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,d.push(o.image=e(c));return d}},n.prototype.renderFrame=function(a,o){var s,c,f;return s=(c=this.animation.frames)[o],f=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(a){var o,s,c,f,p,v,y=this;return s=0,v=this.animation,f=v.numFrames,c=v.frames,p=v.numPlays,(o=function(){var d,k;if(d=s++%f,k=c[d],y.renderFrame(a,d),f>1&&s/f<p)return y.animation._timeout=setTimeout(o,k.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Tb(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var s=null,c=null;a&&(s=t,c=o,t+=3*o);var f=!0,p=[],v=0,y=null,d=0,k=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,k=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];v=e[t++]|e[t++]<<8,y=e[t++],!(1&w)&&(y=null),d=w>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,I=e[t++],z=I>>6&1,re=1<<(7&I)+1,$=s,B=c,Z=!1;I>>7&&(Z=!0,$=t,B=re,t+=3*re);var se=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}p.push({x:S,y:m,width:b,height:_,has_local_palette:Z,palette_offset:$,palette_size:B,data_offset:se,data_length:t-se,transparent_index:y,interlaced:!!z,delay:v,disposal:d});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return k},this.frameInfo=function(L){if(L<0||L>=p.length)throw new Error("Frame index out of range.");return p[L]},this.decodeAndBlitFrameBGRA=function(L,H){var N=this.frameInfo(L),le=N.width*N.height,ve=new Uint8Array(le);Im(e,N.data_offset,ve,le);var de=N.palette_offset,ne=N.transparent_index;ne===null&&(ne=256);var ee=N.width,me=r-ee,ue=ee,A=4*(N.y*r+N.x),V=4*((N.y+N.height)*r+N.x),Y=A,K=4*me;N.interlaced===!0&&(K+=4*r*7);for(var pe=8,je=0,ke=ve.length;je<ke;++je){var oe=ve[je];if(ue===0&&(ue=ee,(Y+=K)>=V&&(K=4*me+4*r*(pe-1),Y=A+(ee+me)*(pe<<1),pe>>=1)),oe===ne)Y+=4;else{var Se=e[de+3*oe],be=e[de+3*oe+1],De=e[de+3*oe+2];H[Y++]=De,H[Y++]=be,H[Y++]=Se,H[Y++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(L,H){var N=this.frameInfo(L),le=N.width*N.height,ve=new Uint8Array(le);Im(e,N.data_offset,ve,le);var de=N.palette_offset,ne=N.transparent_index;ne===null&&(ne=256);var ee=N.width,me=r-ee,ue=ee,A=4*(N.y*r+N.x),V=4*((N.y+N.height)*r+N.x),Y=A,K=4*me;N.interlaced===!0&&(K+=4*r*7);for(var pe=8,je=0,ke=ve.length;je<ke;++je){var oe=ve[je];if(ue===0&&(ue=ee,(Y+=K)>=V&&(K=4*me+4*r*(pe-1),Y=A+(ee+me)*(pe<<1),pe>>=1)),oe===ne)Y+=4;else{var Se=e[de+3*oe],be=e[de+3*oe+1],De=e[de+3*oe+2];H[Y++]=Se,H[Y++]=be,H[Y++]=De,H[Y++]=255}--ue}}}function Im(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,c=i+1,f=(1<<c)-1,p=0,v=0,y=0,d=e[t++],k=new Int32Array(4096),w=null;;){for(;p<16&&d!==0;)v|=e[t++]<<p,p+=8,d===1?d=e[t++]:--d;if(p<c)break;var S=v&f;if(v>>=c,p-=c,S!==a){if(S===o)break;for(var m=S<s?S:w,b=0,_=m;_>a;)_=k[_]>>8,++b;var I=_;if(y+b+(m!==S?1:0)>n)return void sr.log("Warning, gif stream longer than expected.");r[y++]=I;var z=y+=b;for(m!==S&&(r[y++]=I),_=m;b--;)_=k[_],r[--z]=255&_,_>>=8;w!==null&&s<4096&&(k[s++]=w<<8|I,s>=f+1&&c<12&&(++c,f=f<<1|1)),w=S}else s=o+1,f=(1<<(c=i+1))-1,w=null}return y!==n&&sr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ih(e){var t,r,n,i,a,o=Math.floor,s=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),y=new Array(65535),d=new Array(64),k=new Array(64),w=[],S=0,m=7,b=new Array(64),_=new Array(64),I=new Array(64),z=new Array(256),re=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(A,V){for(var Y=0,K=0,pe=new Array,je=1;je<=16;je++){for(var ke=1;ke<=A[je];ke++)pe[V[K]]=[],pe[V[K]][0]=Y,pe[V[K]][1]=je,K++,Y++;Y*=2}return pe}function de(A){for(var V=A[0],Y=A[1]-1;Y>=0;)V&1<<Y&&(S|=1<<m),Y--,--m<0&&(S==255?(ne(255),ne(0)):ne(S),m=7,S=0)}function ne(A){w.push(A)}function ee(A){ne(A>>8&255),ne(255&A)}function me(A,V,Y,K,pe){for(var je,ke=pe[0],oe=pe[240],Se=function(O,T){var X,M,ie,ce,fe,Me,ze,he,Ne,Ee,we=0;for(Ne=0;Ne<8;++Ne){X=O[we],M=O[we+1],ie=O[we+2],ce=O[we+3],fe=O[we+4],Me=O[we+5],ze=O[we+6];var Ae=X+(he=O[we+7]),Ye=X-he,xt=M+ze,Le=M-ze,Xe=ie+Me,ot=ie-Me,Be=ce+fe,rt=ce-fe,at=Ae+Be,Pt=Ae-Be,st=xt+Xe,nt=xt-Xe;O[we]=at+st,O[we+4]=at-st;var Ge=.707106781*(nt+Pt);O[we+2]=Pt+Ge,O[we+6]=Pt-Ge;var lt=.382683433*((at=rt+ot)-(nt=Le+Ye)),kt=.5411961*at+lt,jt=1.306562965*nt+lt,_t=.707106781*(st=ot+Le),Dt=Ye+_t,dt=Ye-_t;O[we+5]=dt+kt,O[we+3]=dt-kt,O[we+1]=Dt+jt,O[we+7]=Dt-jt,we+=8}for(we=0,Ne=0;Ne<8;++Ne){X=O[we],M=O[we+8],ie=O[we+16],ce=O[we+24],fe=O[we+32],Me=O[we+40],ze=O[we+48];var qt=X+(he=O[we+56]),nr=X-he,ir=M+ze,Ht=M-ze,zt=ie+Me,Fe=ie-Me,ct=ce+fe,wt=ce-fe,Ct=qt+ct,Re=qt-ct,Je=ir+zt,Qe=ir-zt;O[we]=Ct+Je,O[we+32]=Ct-Je;var it=.707106781*(Qe+Re);O[we+16]=Re+it,O[we+48]=Re-it;var et=.382683433*((Ct=wt+Fe)-(Qe=Ht+nr)),vt=.5411961*Ct+et,At=1.306562965*Qe+et,Nt=.707106781*(Je=Fe+Ht),ht=nr+Nt,Et=nr-Nt;O[we+40]=Et+vt,O[we+24]=Et-vt,O[we+8]=ht+At,O[we+56]=ht-At,we++}for(Ne=0;Ne<64;++Ne)Ee=O[Ne]*T[Ne],d[Ne]=Ee>0?Ee+.5|0:Ee-.5|0;return d}(A,V),be=0;be<64;++be)k[$[be]]=Se[be];var De=k[0]-Y;Y=k[0],De==0?de(K[0]):(de(K[y[je=32767+De]]),de(v[je]));for(var Oe=63;Oe>0&&k[Oe]==0;)Oe--;if(Oe==0)return de(ke),Y;for(var P,te=1;te<=Oe;){for(var E=te;k[te]==0&&te<=Oe;)++te;var J=te-E;if(J>=16){P=J>>4;for(var C=1;C<=P;++C)de(oe);J&=15}je=32767+k[te],de(pe[(J<<4)+y[je]]),de(v[je]),te++}return Oe!=63&&de(ke),Y}function ue(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(V){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var pe=o((Y[K]*V+50)/100);pe=Math.min(Math.max(pe,1),255),s[$[K]]=pe}for(var je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var oe=o((je[ke]*V+50)/100);oe=Math.min(Math.max(oe,1),255),c[$[ke]]=oe}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,De=0;De<8;De++)for(var Oe=0;Oe<8;Oe++)f[be]=1/(s[$[be]]*Se[De]*Se[Oe]*8),p[be]=1/(c[$[be]]*Se[De]*Se[Oe]*8),be++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,V){V&&ue(V),w=new Array,S=0,m=7,ee(65496),ee(65504),ee(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),ee(1),ee(1),ne(0),ne(0),function(){ee(65499),ee(132),ne(0);for(var M=0;M<64;M++)ne(s[M]);ne(1);for(var ie=0;ie<64;ie++)ne(c[ie])}(),function(M,ie){ee(65472),ee(17),ne(8),ee(ie),ee(M),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(A.width,A.height),function(){ee(65476),ee(418),ne(0);for(var M=0;M<16;M++)ne(B[M+1]);for(var ie=0;ie<=11;ie++)ne(Z[ie]);ne(16);for(var ce=0;ce<16;ce++)ne(se[ce+1]);for(var fe=0;fe<=161;fe++)ne(U[fe]);ne(1);for(var Me=0;Me<16;Me++)ne(L[Me+1]);for(var ze=0;ze<=11;ze++)ne(H[ze]);ne(17);for(var he=0;he<16;he++)ne(N[he+1]);for(var Ne=0;Ne<=161;Ne++)ne(le[Ne])}(),ee(65498),ee(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var Y=0,K=0,pe=0;S=0,m=7,this.encode.displayName="_encode_";for(var je,ke,oe,Se,be,De,Oe,P,te,E=A.data,J=A.width,C=A.height,O=4*J,T=0;T<C;){for(je=0;je<O;){for(be=O*T+je,Oe=-1,P=0,te=0;te<64;te++)De=be+(P=te>>3)*O+(Oe=4*(7&te)),T+P>=C&&(De-=O*(T+1+P-C)),je+Oe>=O&&(De-=je+Oe-O+4),ke=E[De++],oe=E[De++],Se=E[De++],b[te]=(re[ke]+re[oe+256>>0]+re[Se+512>>0]>>16)-128,_[te]=(re[ke+768>>0]+re[oe+1024>>0]+re[Se+1280>>0]>>16)-128,I[te]=(re[ke+1280>>0]+re[oe+1536>>0]+re[Se+1792>>0]>>16)-128;Y=me(b,f,Y,t,n),K=me(_,p,K,r,i),pe=me(I,p,pe,r,i),je+=32}T+=8}if(m>=0){var X=[];X[1]=m+1,X[0]=(1<<m+1)-1,de(X)}return ee(65497),new Uint8Array(w)},e=e||50,function(){for(var A=String.fromCharCode,V=0;V<256;V++)z[V]=A(V)}(),t=ve(B,Z),r=ve(L,H),n=ve(se,U),i=ve(N,le),function(){for(var A=1,V=2,Y=1;Y<=15;Y++){for(var K=A;K<V;K++)y[32767+K]=Y,v[32767+K]=[],v[32767+K][1]=Y,v[32767+K][0]=K;for(var pe=-(V-1);pe<=-A;pe++)y[32767+pe]=Y,v[32767+pe]=[],v[32767+pe][1]=Y,v[32767+pe][0]=V-1+pe;A<<=1,V<<=1}}(),function(){for(var A=0;A<256;A++)re[A]=19595*A,re[A+256>>0]=38470*A,re[A+512>>0]=7471*A+32768,re[A+768>>0]=-11059*A,re[A+1024>>0]=-21709*A,re[A+1280>>0]=32768*A+8421375,re[A+1536>>0]=-27439*A,re[A+1792>>0]=-5329*A}(),ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Om(e){function t(B){if(!B)throw Error("assert :P")}function r(B,Z,se){for(var U=0;4>U;U++)if(B[Z+U]!=se.charCodeAt(U))return!0;return!1}function n(B,Z,se,U,L){for(var H=0;H<L;H++)B[Z+H]=se[U+H]}function i(B,Z,se,U){for(var L=0;L<U;L++)B[Z+L]=se}function a(B){return new Int32Array(B)}function o(B,Z){for(var se=[],U=0;U<B;U++)se.push(new Z);return se}function s(B,Z){var se=[];return function U(L,H,N){for(var le=N[H],ve=0;ve<le&&(L.push(N.length>H+1?[]:new Z),!(N.length<H+1));ve++)U(L[ve],H+1,N)}(se,0,B),se}var c=function(){var B=this;function Z(l,u){for(var x=1<<u-1>>>0;l&x;)x>>>=1;return x?(l&x-1)+x:l}function se(l,u,x,j,F){t(!(j%x));do l[u+(j-=x)]=F;while(0<j)}function U(l,u,x,j,F){if(t(2328>=F),512>=F)var R=a(512);else if((R=a(F))==null)return 0;return function(q,W,G,Q,ye,Te){var Ie,Pe,Ve=W,Ue=1<<G,xe=a(16),_e=a(16);for(t(ye!=0),t(Q!=null),t(q!=null),t(0<G),Pe=0;Pe<ye;++Pe){if(15<Q[Pe])return 0;++xe[Q[Pe]]}if(xe[0]==ye)return 0;for(_e[1]=0,Ie=1;15>Ie;++Ie){if(xe[Ie]>1<<Ie)return 0;_e[Ie+1]=_e[Ie]+xe[Ie]}for(Pe=0;Pe<ye;++Pe)Ie=Q[Pe],0<Q[Pe]&&(Te[_e[Ie]++]=Pe);if(_e[15]==1)return(Q=new L).g=0,Q.value=Te[0],se(q,Ve,1,Ue,Q),Ue;var $e,Ze=-1,He=Ue-1,mt=0,ut=1,Lt=1,ft=1<<G;for(Pe=0,Ie=1,ye=2;Ie<=G;++Ie,ye<<=1){if(ut+=Lt<<=1,0>(Lt-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie])(Q=new L).g=Ie,Q.value=Te[Pe++],se(q,Ve+mt,ye,ft,Q),mt=Z(mt,Ie)}for(Ie=G+1,ye=2;15>=Ie;++Ie,ye<<=1){if(ut+=Lt<<=1,0>(Lt-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie]){if(Q=new L,(mt&He)!=Ze){for(Ve+=ft,$e=1<<(Ze=Ie)-G;15>Ze&&!(0>=($e-=xe[Ze]));)++Ze,$e<<=1;Ue+=ft=1<<($e=Ze-G),q[W+(Ze=mt&He)].g=$e+G,q[W+Ze].value=Ve-W-Ze}Q.g=Ie-G,Q.value=Te[Pe++],se(q,Ve+(mt>>G),ye,ft,Q),mt=Z(mt,Ie)}}return ut!=2*_e[15]-1?0:Ue}(l,u,x,j,F,R)}function L(){this.value=this.g=0}function H(){this.value=this.g=0}function N(){this.G=o(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xr,H)}function le(l,u,x,j){t(l!=null),t(u!=null),t(2147483648>j),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=u,l.pa=x,l.Jd=u,l.Yc=x+j,l.Zc=4<=j?x+j-4+1:x,je(l)}function ve(l,u){for(var x=0;0<u--;)x|=oe(l,128)<<u;return x}function de(l,u){var x=ve(l,u);return ke(l)?-x:x}function ne(l,u,x,j){var F,R=0;for(t(l!=null),t(u!=null),t(4294967288>j),l.Sb=j,l.Ra=0,l.u=0,l.h=0,4<j&&(j=4),F=0;F<j;++F)R+=u[x+F]<<8*F;l.Ra=R,l.bb=j,l.oa=u,l.pa=x}function ee(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<$o-8>>>0,++l.bb,l.u-=8;Y(l)&&(l.h=1,l.u=0)}function me(l,u){if(t(0<=u),!l.h&&u<=Wo){var x=V(l)&qo[u];return l.u+=u,ee(l),x}return l.h=1,l.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(l){return l.Ra>>>(l.u&$o-1)>>>0}function Y(l){return t(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>$o}function K(l,u){l.u=u,l.h=Y(l)}function pe(l){l.u>=rl&&(t(l.u>=rl),ee(l))}function je(l){t(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(t(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ke(l){return ve(l,1)}function oe(l,u){var x=l.Ca;0>l.b&&je(l);var j=l.b,F=x*u>>>8,R=(l.I>>>j>F)+0;for(R?(x-=F,l.I-=F+1<<j>>>0):x=F+1,j=x,F=0;256<=j;)F+=8,j>>=8;return j=7^F+Nn[j],l.b-=j,l.Ca=(x<<j)-1,R}function Se(l,u,x){l[u+0]=x>>24&255,l[u+1]=x>>16&255,l[u+2]=x>>8&255,l[u+3]=x>>0&255}function be(l,u){return l[u+0]<<0|l[u+1]<<8}function De(l,u){return be(l,u)|l[u+2]<<16}function Oe(l,u){return be(l,u)|be(l,u+2)<<16}function P(l,u){var x=1<<u;return t(l!=null),t(0<u),l.X=a(x),l.X==null?0:(l.Mb=32-u,l.Xa=u,1)}function te(l,u){t(l!=null),t(u!=null),t(l.Xa==u.Xa),n(u.X,0,l.X,0,1<<u.Xa)}function E(){this.X=[],this.Xa=this.Mb=0}function J(l,u,x,j){t(x!=null),t(j!=null);var F=x[0],R=j[0];return F==0&&(F=(l*R+u/2)/u),R==0&&(R=(u*F+l/2)/l),0>=F||0>=R?0:(x[0]=F,j[0]=R,1)}function C(l,u){return l+(1<<u)-1>>>u}function O(l,u){return((4278255360&l)+(4278255360&u)>>>0&4278255360)+((16711935&l)+(16711935&u)>>>0&16711935)>>>0}function T(l,u){B[u]=function(x,j,F,R,q,W,G){var Q;for(Q=0;Q<q;++Q){var ye=B[l](W[G+Q-1],F,R+Q);W[G+Q]=O(x[j+Q],ye)}}}function X(){this.ud=this.hd=this.jd=0}function M(l,u){return((4278124286&(l^u))>>>1)+(l&u)>>>0}function ie(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function ce(l,u){return ie(l+(l-u+.5>>1))}function fe(l,u,x){return Math.abs(u-x)-Math.abs(l-x)}function Me(l,u,x,j,F,R,q){for(j=R[q-1],x=0;x<F;++x)R[q+x]=j=O(l[u+x],j)}function ze(l,u,x,j,F){var R;for(R=0;R<x;++R){var q=l[u+R],W=q>>8&255,G=16711935&(G=(G=16711935&q)+((W<<16)+W));j[F+R]=(4278255360&q)+G>>>0}}function he(l,u){u.jd=l>>0&255,u.hd=l>>8&255,u.ud=l>>16&255}function Ne(l,u,x,j,F,R){var q;for(q=0;q<j;++q){var W=u[x+q],G=W>>>8,Q=W,ye=255&(ye=(ye=W>>>16)+((l.jd<<24>>24)*(G<<24>>24)>>>5));Q=255&(Q=(Q=Q+((l.hd<<24>>24)*(G<<24>>24)>>>5))+((l.ud<<24>>24)*(ye<<24>>24)>>>5)),F[R+q]=(4278255360&W)+(ye<<16)+Q}}function Ee(l,u,x,j,F){B[u]=function(R,q,W,G,Q,ye,Te,Ie,Pe){for(G=Te;G<Ie;++G)for(Te=0;Te<Pe;++Te)Q[ye++]=F(W[j(R[q++])])},B[l]=function(R,q,W,G,Q,ye,Te){var Ie=8>>R.b,Pe=R.Ea,Ve=R.K[0],Ue=R.w;if(8>Ie)for(R=(1<<R.b)-1,Ue=(1<<Ie)-1;q<W;++q){var xe,_e=0;for(xe=0;xe<Pe;++xe)xe&R||(_e=j(G[Q++])),ye[Te++]=F(Ve[_e&Ue]),_e>>=Ie}else B["VP8LMapColor"+x](G,Q,Ve,Ue,ye,Te,q,W,Pe)}}function we(l,u,x,j,F){for(x=u+x;u<x;){var R=l[u++];j[F++]=R>>16&255,j[F++]=R>>8&255,j[F++]=R>>0&255}}function Ae(l,u,x,j,F){for(x=u+x;u<x;){var R=l[u++];j[F++]=R>>16&255,j[F++]=R>>8&255,j[F++]=R>>0&255,j[F++]=R>>24&255}}function Ye(l,u,x,j,F){for(x=u+x;u<x;){var R=(q=l[u++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;j[F++]=R,j[F++]=q}}function xt(l,u,x,j,F){for(x=u+x;u<x;){var R=(q=l[u++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;j[F++]=R,j[F++]=q}}function Le(l,u,x,j,F){for(x=u+x;u<x;){var R=l[u++];j[F++]=R>>0&255,j[F++]=R>>8&255,j[F++]=R>>16&255}}function Xe(l,u,x,j,F,R){if(R==0)for(x=u+x;u<x;)Se(j,((R=l[u++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),F+=32;else n(j,F,l,u,x)}function ot(l,u){B[u][0]=B[l+"0"],B[u][1]=B[l+"1"],B[u][2]=B[l+"2"],B[u][3]=B[l+"3"],B[u][4]=B[l+"4"],B[u][5]=B[l+"5"],B[u][6]=B[l+"6"],B[u][7]=B[l+"7"],B[u][8]=B[l+"8"],B[u][9]=B[l+"9"],B[u][10]=B[l+"10"],B[u][11]=B[l+"11"],B[u][12]=B[l+"12"],B[u][13]=B[l+"13"],B[u][14]=B[l+"0"],B[u][15]=B[l+"0"]}function Be(l){return l==of||l==sf||l==Ic||l==lf}function rt(){this.eb=[],this.size=this.A=this.fb=0}function at(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new at,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ge(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function lt(l,u){var x=l.T,j=u.ba.f.RGBA,F=j.eb,R=j.fb+l.ka*j.A,q=Qn[u.ba.S],W=l.y,G=l.O,Q=l.f,ye=l.N,Te=l.ea,Ie=l.W,Pe=u.cc,Ve=u.dc,Ue=u.Mc,xe=u.Nc,_e=l.ka,$e=l.ka+l.T,Ze=l.U,He=Ze+1>>1;for(_e==0?q(W,G,null,null,Q,ye,Te,Ie,Q,ye,Te,Ie,F,R,null,null,Ze):(q(u.ec,u.fc,W,G,Pe,Ve,Ue,xe,Q,ye,Te,Ie,F,R-j.A,F,R,Ze),++x);_e+2<$e;_e+=2)Pe=Q,Ve=ye,Ue=Te,xe=Ie,ye+=l.Rc,Ie+=l.Rc,R+=2*j.A,q(W,(G+=2*l.fa)-l.fa,W,G,Pe,Ve,Ue,xe,Q,ye,Te,Ie,F,R-j.A,F,R,Ze);return G+=l.fa,l.j+$e<l.o?(n(u.ec,u.fc,W,G,Ze),n(u.cc,u.dc,Q,ye,He),n(u.Mc,u.Nc,Te,Ie,He),x--):1&$e||q(W,G,null,null,Q,ye,Te,Ie,Q,ye,Te,Ie,F,R+j.A,null,null,Ze),x}function kt(l,u,x){var j=l.F,F=[l.J];if(j!=null){var R=l.U,q=u.ba.S,W=q==Tc||q==Ic;u=u.ba.f.RGBA;var G=[0],Q=l.ka;G[0]=l.T,l.Kb&&(Q==0?--G[0]:(--Q,F[0]-=l.width),l.j+l.ka+l.T==l.o&&(G[0]=l.o-l.j-Q));var ye=u.eb;Q=u.fb+Q*u.A,l=cr(j,F[0],l.width,R,G,ye,Q+(W?0:3),u.A),t(x==G),l&&Be(q)&&Zn(ye,Q,W,R,G,u.A)}return 0}function jt(l){var u=l.ma,x=u.ba.S,j=11>x,F=x==Fc||x==Dc||x==Tc||x==af||x==12||Be(x);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!el(u.Oa,l,F?11:12))return 0;if(F&&Be(x)&&Ke(),l.da)alert("todo:use_scaling");else{if(j){if(u.Ib=Ge,l.Kb){if(x=l.U+1>>1,u.memory=a(l.U+2*x),u.memory==null)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+l.U,u.Mc=u.cc,u.Nc=u.dc+x,u.Ib=lt,Ke()}}else alert("todo:EmitYUV");F&&(u.Jb=kt,j&&Ce())}if(j&&!O0){for(l=0;256>l;++l)ev[l]=89858*(l-128)+Rc>>Oc,nv[l]=-22014*(l-128)+Rc,rv[l]=-45773*(l-128),tv[l]=113618*(l-128)+Rc>>Oc;for(l=cl;l<df;++l)u=76283*(l-16)+Rc>>Oc,iv[l-cl]=Tn(u,255),av[l-cl]=Tn(u+8>>4,15);O0=1}return 1}function _t(l){var u=l.ma,x=l.U,j=l.T;return t(!(1&l.ka)),0>=x||0>=j?0:(x=u.Ib(l,u),u.Jb!=null&&u.Jb(l,u,x),u.Dc+=x,1)}function Dt(l){l.ma.memory=null}function dt(l,u,x,j){return me(l,8)!=47?0:(u[0]=me(l,14)+1,x[0]=me(l,14)+1,j[0]=me(l,1),me(l,3)!=0?0:!l.h)}function qt(l,u){if(4>l)return l+1;var x=l-2>>1;return(2+(1&l)<<x)+me(u,x)+1}function nr(l,u){return 120<u?u-120:1<=(x=((x=B5[u-1])>>4)*l+(8-(15&x)))?x:1;var x}function ir(l,u,x){var j=V(x),F=l[u+=255&j].g-8;return 0<F&&(K(x,x.u+8),j=V(x),u+=l[u].value,u+=j&(1<<F)-1),K(x,x.u+l[u].g),l[u].value}function Ht(l,u,x){return x.g+=l.g,x.value+=l.value<<u>>>0,t(8>=x.g),l.g}function zt(l,u,x){var j=l.xc;return t((u=j==0?0:l.vc[l.md*(x>>j)+(u>>j)])<l.Wb),l.Ya[u]}function Fe(l,u,x,j){var F=l.ab,R=l.c*u,q=l.C;u=q+u;var W=x,G=j;for(j=l.Ta,x=l.Ua;0<F--;){var Q=l.gc[F],ye=q,Te=u,Ie=W,Pe=G,Ve=(G=j,W=x,Q.Ea);switch(t(ye<Te),t(Te<=Q.nc),Q.hc){case 2:Sc(Ie,Pe,(Te-ye)*Ve,G,W);break;case 0:var Ue=ye,xe=Te,_e=G,$e=W,Ze=(ft=Q).Ea;Ue==0&&(rf(Ie,Pe,null,null,1,_e,$e),Me(Ie,Pe+1,0,0,Ze-1,_e,$e+1),Pe+=Ze,$e+=Ze,++Ue);for(var He=1<<ft.b,mt=He-1,ut=C(Ze,ft.b),Lt=ft.K,ft=ft.w+(Ue>>ft.b)*ut;Ue<xe;){var Jt=Lt,Qt=ft,Yt=1;for(nl(Ie,Pe,_e,$e-Ze,1,_e,$e);Yt<Ze;){var $t=(Yt&~mt)+He;$t>Ze&&($t=Ze),(0,ga[Jt[Qt++]>>8&15])(Ie,Pe+ +Yt,_e,$e+Yt-Ze,$t-Yt,_e,$e+Yt),Yt=$t}Pe+=Ze,$e+=Ze,++Ue&mt||(ft+=ut)}Te!=Q.nc&&n(G,W-Ve,G,W+(Te-ye-1)*Ve,Ve);break;case 1:for(Ve=Ie,xe=Pe,Ze=(Ie=Q.Ea)-($e=Ie&~(_e=(Pe=1<<Q.b)-1)),Ue=C(Ie,Q.b),He=Q.K,Q=Q.w+(ye>>Q.b)*Ue;ye<Te;){for(mt=He,ut=Q,Lt=new X,ft=xe+$e,Jt=xe+Ie;xe<ft;)he(mt[ut++],Lt),ro(Lt,Ve,xe,Pe,G,W),xe+=Pe,W+=Pe;xe<Jt&&(he(mt[ut++],Lt),ro(Lt,Ve,xe,Ze,G,W),xe+=Ze,W+=Ze),++ye&_e||(Q+=Ue)}break;case 3:if(Ie==G&&Pe==W&&0<Q.b){for(xe=G,Ie=Ve=W+(Te-ye)*Ve-($e=(Te-ye)*C(Q.Ea,Q.b)),Pe=G,_e=W,Ue=[],$e=(Ze=$e)-1;0<=$e;--$e)Ue[$e]=Pe[_e+$e];for($e=Ze-1;0<=$e;--$e)xe[Ie+$e]=Ue[$e];Yn(Q,ye,Te,G,Ve,G,W)}else Yn(Q,ye,Te,Ie,Pe,G,W)}W=j,G=x}G!=x&&n(j,x,W,G,R)}function ct(l,u){var x=l.V,j=l.Ba+l.c*l.C,F=u-l.C;if(t(u<=l.l.o),t(16>=F),0<F){var R=l.l,q=l.Ta,W=l.Ua,G=R.width;if(Fe(l,F,x,j),F=W=[W],t((x=l.C)<(j=u)),t(R.v<R.va),j>R.o&&(j=R.o),x<R.j){var Q=R.j-x;x=R.j,F[0]+=Q*G}if(x>=j?x=0:(F[0]+=4*R.v,R.ka=x-R.j,R.U=R.va-R.v,R.T=j-x,x=1),x){if(W=W[0],11>(x=l.ca).S){var ye=x.f.RGBA,Te=(j=x.S,F=R.U,R=R.T,Q=ye.eb,ye.A),Ie=R;for(ye=ye.fb+l.Ma*ye.A;0<Ie--;){var Pe=q,Ve=W,Ue=F,xe=Q,_e=ye;switch(j){case Ec:kn(Pe,Ve,Ue,xe,_e);break;case Fc:hn(Pe,Ve,Ue,xe,_e);break;case of:hn(Pe,Ve,Ue,xe,_e),Zn(xe,_e,0,Ue,1,0);break;case A0:Hi(Pe,Ve,Ue,xe,_e);break;case Dc:Xe(Pe,Ve,Ue,xe,_e,1);break;case sf:Xe(Pe,Ve,Ue,xe,_e,1),Zn(xe,_e,0,Ue,1,0);break;case Tc:Xe(Pe,Ve,Ue,xe,_e,0);break;case Ic:Xe(Pe,Ve,Ue,xe,_e,0),Zn(xe,_e,1,Ue,1,0);break;case af:va(Pe,Ve,Ue,xe,_e);break;case lf:va(Pe,Ve,Ue,xe,_e),lr(xe,_e,Ue,1,0);break;case P0:$i(Pe,Ve,Ue,xe,_e);break;default:t(0)}W+=G,ye+=Te}l.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(l.Ma<=x.height)}}l.C=u,t(l.C<=l.i)}function wt(l){var u;if(0<l.ua)return 0;for(u=0;u<l.Wb;++u){var x=l.Ya[u].G,j=l.Ya[u].H;if(0<x[1][j[1]+0].g||0<x[2][j[2]+0].g||0<x[3][j[3]+0].g)return 0}return 1}function Ct(l,u,x,j,F,R){if(l.Z!=0){var q=l.qd,W=l.rd;for(t(ba[l.Z]!=null);u<x;++u)ba[l.Z](q,W,j,F,j,F,R),q=j,W=F,F+=R;l.qd=q,l.rd=W}}function Re(l,u){var x=l.l.ma,j=x.Z==0||x.Z==1?l.l.j:l.C;if(j=l.C<j?j:l.C,t(u<=l.l.o),u>j){var F=l.l.width,R=x.ca,q=x.tb+F*j,W=l.V,G=l.Ba+l.c*j,Q=l.gc;t(l.ab==1),t(Q[0].hc==3),jc(Q[0],j,u,W,G,R,q),Ct(x,j,u,R,q,F)}l.C=l.Ma=u}function Je(l,u,x,j,F,R,q){var W=l.$/j,G=l.$%j,Q=l.m,ye=l.s,Te=x+l.$,Ie=Te;F=x+j*F;var Pe=x+j*R,Ve=280+ye.ua,Ue=l.Pb?W:16777216,xe=0<ye.ua?ye.Wa:null,_e=ye.wc,$e=Te<Pe?zt(ye,G,W):null;t(l.C<R),t(Pe<=F);var Ze=!1;e:for(;;){for(;Ze||Te<Pe;){var He=0;if(W>=Ue){var mt=Te-x;t((Ue=l).Pb),Ue.wd=Ue.m,Ue.xd=mt,0<Ue.s.ua&&te(Ue.s.Wa,Ue.s.vb),Ue=W+q5}if(G&_e||($e=zt(ye,G,W)),t($e!=null),$e.Qb&&(u[Te]=$e.qb,Ze=!0),!Ze)if(pe(Q),$e.jc){He=Q,mt=u;var ut=Te,Lt=$e.pd[V(He)&Xr-1];t($e.jc),256>Lt.g?(K(He,He.u+Lt.g),mt[ut]=Lt.value,He=0):(K(He,He.u+Lt.g-256),t(256<=Lt.value),He=Lt.value),He==0&&(Ze=!0)}else He=ir($e.G[0],$e.H[0],Q);if(Q.h)break;if(Ze||256>He){if(!Ze)if($e.nd)u[Te]=($e.qb|He<<8)>>>0;else{if(pe(Q),Ze=ir($e.G[1],$e.H[1],Q),pe(Q),mt=ir($e.G[2],$e.H[2],Q),ut=ir($e.G[3],$e.H[3],Q),Q.h)break;u[Te]=(ut<<24|Ze<<16|He<<8|mt)>>>0}if(Ze=!1,++Te,++G>=j&&(G=0,++W,q!=null&&W<=R&&!(W%16)&&q(l,W),xe!=null))for(;Ie<Te;)He=u[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He}else if(280>He){if(He=qt(He-256,Q),mt=ir($e.G[4],$e.H[4],Q),pe(Q),mt=nr(j,mt=qt(mt,Q)),Q.h)break;if(Te-x<mt||F-Te<He)break e;for(ut=0;ut<He;++ut)u[Te+ut]=u[Te+ut-mt];for(Te+=He,G+=He;G>=j;)G-=j,++W,q!=null&&W<=R&&!(W%16)&&q(l,W);if(t(Te<=F),G&_e&&($e=zt(ye,G,W)),xe!=null)for(;Ie<Te;)He=u[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He}else{if(!(He<Ve))break e;for(Ze=He-280,t(xe!=null);Ie<Te;)He=u[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He;He=Te,t(!(Ze>>>(mt=xe).Xa)),u[He]=mt.X[Ze],Ze=!0}Ze||t(Q.h==Y(Q))}if(l.Pb&&Q.h&&Te<F)t(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&te(l.s.vb,l.s.Wa);else{if(Q.h)break e;q!=null&&q(l,W>R?R:W),l.a=0,l.$=Te-x}return 1}return l.a=3,0}function Qe(l){t(l!=null),l.vc=null,l.yc=null,l.Ya=null;var u=l.Wa;u!=null&&(u.X=null),l.vb=null,t(l!=null)}function it(){var l=new tf;return l==null?null:(l.a=0,l.xb=E0,ot("Predictor","VP8LPredictors"),ot("Predictor","VP8LPredictors_C"),ot("PredictorAdd","VP8LPredictorsAdd"),ot("PredictorAdd","VP8LPredictorsAdd_C"),Sc=ze,ro=Ne,kn=we,hn=Ae,va=Ye,$i=xt,Hi=Le,B.VP8LMapColor32b=Ho,B.VP8LMapColor8b=Ac,l)}function et(l,u,x,j,F){var R=1,q=[l],W=[u],G=j.m,Q=j.s,ye=null,Te=0;e:for(;;){if(x)for(;R&&me(G,1);){var Ie=q,Pe=W,Ve=j,Ue=1,xe=Ve.m,_e=Ve.gc[Ve.ab],$e=me(xe,2);if(Ve.Oc&1<<$e)R=0;else{switch(Ve.Oc|=1<<$e,_e.hc=$e,_e.Ea=Ie[0],_e.nc=Pe[0],_e.K=[null],++Ve.ab,t(4>=Ve.ab),$e){case 0:case 1:_e.b=me(xe,3)+2,Ue=et(C(_e.Ea,_e.b),C(_e.nc,_e.b),0,Ve,_e.K),_e.K=_e.K[0];break;case 3:var Ze,He=me(xe,8)+1,mt=16<He?0:4<He?1:2<He?2:3;if(Ie[0]=C(_e.Ea,mt),_e.b=mt,Ze=Ue=et(He,1,0,Ve,_e.K)){var ut,Lt=He,ft=_e,Jt=1<<(8>>ft.b),Qt=a(Jt);if(Qt==null)Ze=0;else{var Yt=ft.K[0],$t=ft.w;for(Qt[0]=ft.K[0][0],ut=1;ut<1*Lt;++ut)Qt[ut]=O(Yt[$t+ut],Qt[ut-1]);for(;ut<4*Jt;++ut)Qt[ut]=0;ft.K[0]=null,ft.K[0]=Qt,Ze=1}}Ue=Ze;break;case 2:break;default:t(0)}R=Ue}}if(q=q[0],W=W[0],R&&me(G,1)&&!(R=1<=(Te=me(G,4))&&11>=Te)){j.a=3;break e}var or;if(or=R)t:{var ar,Mt,Tr,_n=j,Ir=q,Sn=W,er=Te,On=x,Rn=_n.m,Wr=_n.s,Jr=[null],mn=1,ei=0,Ci=U5[er];r:for(;;){if(On&&me(Rn,1)){var $r=me(Rn,3)+2,Xi=C(Ir,$r),so=C(Sn,$r),Jo=Xi*so;if(!et(Xi,so,0,_n,Jr))break r;for(Jr=Jr[0],Wr.xc=$r,ar=0;ar<Jo;++ar){var Na=Jr[ar]>>8&65535;Jr[ar]=Na,Na>=mn&&(mn=Na+1)}}if(Rn.h)break r;for(Mt=0;5>Mt;++Mt){var _r=L0[Mt];!Mt&&0<er&&(_r+=1<<er),ei<_r&&(ei=_r)}var ff=o(mn*Ci,L),z0=mn,B0=o(z0,N);if(B0==null)var zc=null;else t(65536>=z0),zc=B0;var ul=a(ei);if(zc==null||ul==null||ff==null){_n.a=1;break r}var Bc=ff;for(ar=Tr=0;ar<mn;++ar){var hi=zc[ar],Zo=hi.G,Ko=hi.H,U0=0,Uc=1,q0=0;for(Mt=0;5>Mt;++Mt){_r=L0[Mt],Zo[Mt]=Bc,Ko[Mt]=Tr,!Mt&&0<er&&(_r+=1<<er);i:{var qc,hf=_r,Wc=_n,dl=ul,lv=Bc,cv=Tr,pf=0,ka=Wc.m,uv=me(ka,1);if(i(dl,0,0,hf),uv){var dv=me(ka,1)+1,fv=me(ka,1),W0=me(ka,fv==0?1:8);dl[W0]=1,dv==2&&(dl[W0=me(ka,8)]=1);var $c=1}else{var $0=a(19),H0=me(ka,4)+4;if(19<H0){Wc.a=3;var Hc=0;break i}for(qc=0;qc<H0;++qc)$0[z5[qc]]=me(ka,3);var mf=void 0,fl=void 0,V0=Wc,hv=$0,Vc=hf,G0=dl,gf=0,_a=V0.m,Y0=8,X0=o(128,L);n:for(;U(X0,0,7,hv,19);){if(me(_a,1)){var pv=2+2*me(_a,3);if((mf=2+me(_a,pv))>Vc)break n}else mf=Vc;for(fl=0;fl<Vc&&mf--;){pe(_a);var J0=X0[0+(127&V(_a))];K(_a,_a.u+J0.g);var Qo=J0.value;if(16>Qo)G0[fl++]=Qo,Qo!=0&&(Y0=Qo);else{var mv=Qo==16,Z0=Qo-16,gv=R5[Z0],K0=me(_a,O5[Z0])+gv;if(fl+K0>Vc)break n;for(var vv=mv?Y0:0;0<K0--;)G0[fl++]=vv}}gf=1;break n}gf||(V0.a=3),$c=gf}($c=$c&&!ka.h)&&(pf=U(lv,cv,8,dl,hf)),$c&&pf!=0?Hc=pf:(Wc.a=3,Hc=0)}if(Hc==0)break r;if(Uc&&M5[Mt]==1&&(Uc=Bc[Tr].g==0),U0+=Bc[Tr].g,Tr+=Hc,3>=Mt){var hl,vf=ul[0];for(hl=1;hl<_r;++hl)ul[hl]>vf&&(vf=ul[hl]);q0+=vf}}if(hi.nd=Uc,hi.Qb=0,Uc&&(hi.qb=(Zo[3][Ko[3]+0].value<<24|Zo[1][Ko[1]+0].value<<16|Zo[2][Ko[2]+0].value)>>>0,U0==0&&256>Zo[0][Ko[0]+0].value&&(hi.Qb=1,hi.qb+=Zo[0][Ko[0]+0].value<<8)),hi.jc=!hi.Qb&&6>q0,hi.jc){var Gc,Ji=hi;for(Gc=0;Gc<Xr;++Gc){var Sa=Gc,ja=Ji.pd[Sa],Yc=Ji.G[0][Ji.H[0]+Sa];256<=Yc.value?(ja.g=Yc.g+256,ja.value=Yc.value):(ja.g=0,ja.value=0,Sa>>=Ht(Yc,8,ja),Sa>>=Ht(Ji.G[1][Ji.H[1]+Sa],16,ja),Sa>>=Ht(Ji.G[2][Ji.H[2]+Sa],0,ja),Ht(Ji.G[3][Ji.H[3]+Sa],24,ja))}}}Wr.vc=Jr,Wr.Wb=mn,Wr.Ya=zc,Wr.yc=ff,or=1;break t}or=0}if(!(R=or)){j.a=3;break e}if(0<Te){if(Q.ua=1<<Te,!P(Q.Wa,Te)){j.a=1,R=0;break e}}else Q.ua=0;var yf=j,Q0=q,yv=W,wf=yf.s,xf=wf.xc;if(yf.c=Q0,yf.i=yv,wf.md=C(Q0,xf),wf.wc=xf==0?-1:(1<<xf)-1,x){j.xb=X5;break e}if((ye=a(q*W))==null){j.a=1,R=0;break e}R=(R=Je(j,ye,0,q,W,W,null))&&!G.h;break e}return R?(F!=null?F[0]=ye:(t(ye==null),t(x)),j.$=0,x||Qe(Q)):Qe(Q),R}function vt(l,u){var x=l.c*l.i,j=x+u+16*u;return t(l.c<=u),l.V=a(j),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+x+u,1)}function At(l,u){var x=l.C,j=u-x,F=l.V,R=l.Ba+l.c*x;for(t(u<=l.l.o);0<j;){var q=16<j?16:j,W=l.l.ma,G=l.l.width,Q=G*q,ye=W.ca,Te=W.tb+G*x,Ie=l.Ta,Pe=l.Ua;Fe(l,q,F,R),Pr(Ie,Pe,ye,Te,Q),Ct(W,x,x+q,ye,Te,G),j-=q,F+=q*l.c,x+=q}t(x==u),l.C=l.Ma=u}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Et(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Bt(){this.Yb=function(){var l=[];return function u(x,j,F){for(var R=F[j],q=0;q<R&&(x.push(F.length>j+1?[]:0),!(F.length<j+1));q++)u(x[q],j+1,F)}(l,0,[3,11]),l}()}function Vt(){this.jb=a(3),this.Wc=s([4,8],Bt),this.Xc=s([4,17],Bt)}function Ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Zt(){this.ld=this.La=this.dd=this.tc=0}function br(){this.Na=this.la=0}function mr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function dr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ur(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zt),this.Y=0,this.ya=Array(new dr),this.aa=0,this.l=new Nr}function Fn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ci(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new Nt,this.Kc=new ht,this.ed=new Ut,this.Qa=new Et,this.Ic=this.$c=this.Aa=0,this.D=new Ur,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,mr),this.Pa=new Vt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fn),this.Hd=0,this.rb=Array(new br),this.sb=0,this.wa=Array(new Zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new dr),this.L=this.aa=0,this.gd=s([4,2],Zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yr(){var l=new ci;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,ll||(ll=Ui)),l}function Kt(l,u,x){return l.a==0&&(l.a=u,l.sc=x,l.cb=0),0}function Dn(l,u,x){return 3<=x&&l[u+0]==157&&l[u+1]==1&&l[u+2]==42}function da(l,u){if(l==null)return 0;if(l.a=0,l.sc="OK",u==null)return Kt(l,2,"null VP8Io passed to VP8GetHeaders()");var x=u.data,j=u.w,F=u.ha;if(4>F)return Kt(l,7,"Truncated header.");var R=x[j+0]|x[j+1]<<8|x[j+2]<<16,q=l.Od;if(q.Rb=!(1&R),q.td=R>>1&7,q.yd=R>>4&1,q.ub=R>>5,3<q.td)return Kt(l,3,"Incorrect keyframe parameters.");if(!q.yd)return Kt(l,4,"Frame not displayable.");j+=3,F-=3;var W=l.Kc;if(q.Rb){if(7>F)return Kt(l,7,"cannot parse picture header");if(!Dn(x,j,F))return Kt(l,3,"Bad code word");W.c=16383&(x[j+4]<<8|x[j+3]),W.Td=x[j+4]>>6,W.i=16383&(x[j+6]<<8|x[j+5]),W.Ud=x[j+6]>>6,j+=7,F-=7,l.za=W.c+15>>4,l.Ub=W.i+15>>4,u.width=W.c,u.height=W.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,i((R=l.Pa).jb,0,255,R.jb.length),t((R=l.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,i(R.Zb,0,0,R.Zb.length),i(R.Lb,0,0,R.Lb)}if(q.ub>F)return Kt(l,7,"bad partition length");le(R=l.m,x,j,q.ub),j+=q.ub,F-=q.ub,q.Rb&&(W.Ld=ke(R),W.Kd=ke(R)),W=l.Qa;var G,Q=l.Pa;if(t(R!=null),t(W!=null),W.Cb=ke(R),W.Cb){if(W.Bb=ke(R),ke(R)){for(W.Fb=ke(R),G=0;4>G;++G)W.Zb[G]=ke(R)?de(R,7):0;for(G=0;4>G;++G)W.Lb[G]=ke(R)?de(R,6):0}if(W.Bb)for(G=0;3>G;++G)Q.jb[G]=ke(R)?ve(R,8):255}else W.Bb=0;if(R.Ka)return Kt(l,3,"cannot parse segment header");if((W=l.ed).zd=ke(R),W.Tb=ve(R,6),W.wb=ve(R,3),W.Pc=ke(R),W.Pc&&ke(R)){for(Q=0;4>Q;++Q)ke(R)&&(W.vd[Q]=de(R,6));for(Q=0;4>Q;++Q)ke(R)&&(W.od[Q]=de(R,6))}if(l.L=W.Tb==0?0:W.zd?1:2,R.Ka)return Kt(l,3,"cannot parse filter header");var ye=F;if(F=G=j,j=G+ye,W=ye,l.Xb=(1<<ve(l.m,2))-1,ye<3*(Q=l.Xb))x=7;else{for(G+=3*Q,W-=3*Q,ye=0;ye<Q;++ye){var Te=x[F+0]|x[F+1]<<8|x[F+2]<<16;Te>W&&(Te=W),le(l.Jc[+ye],x,G,Te),G+=Te,W-=Te,F+=3}le(l.Jc[+Q],x,G,W),x=G<j?0:5}if(x!=0)return Kt(l,x,"cannot parse partitions");for(x=ve(G=l.m,7),F=ke(G)?de(G,4):0,j=ke(G)?de(G,4):0,W=ke(G)?de(G,4):0,Q=ke(G)?de(G,4):0,G=ke(G)?de(G,4):0,ye=l.Qa,Te=0;4>Te;++Te){if(ye.Cb){var Ie=ye.Zb[Te];ye.Fb||(Ie+=x)}else{if(0<Te){l.pb[Te]=l.pb[0];continue}Ie=x}var Pe=l.pb[Te];Pe.Sc[0]=cf[Tn(Ie+F,127)],Pe.Sc[1]=uf[Tn(Ie+0,127)],Pe.Eb[0]=2*cf[Tn(Ie+j,127)],Pe.Eb[1]=101581*uf[Tn(Ie+W,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=cf[Tn(Ie+Q,117)],Pe.Qc[1]=uf[Tn(Ie+G,127)],Pe.lc=Ie+G}if(!q.Rb)return Kt(l,4,"Not a key frame.");for(ke(R),q=l.Pa,x=0;4>x;++x){for(F=0;8>F;++F)for(j=0;3>j;++j)for(W=0;11>W;++W)Q=oe(R,G5[x][F][j][W])?ve(R,8):H5[x][F][j][W],q.Wc[x][F].Yb[j][W]=Q;for(F=0;17>F;++F)q.Xc[x][F]=q.Wc[x][Y5[F]]}return l.kc=ke(R),l.kc&&(l.Bd=ve(R,8)),l.cb=1}function Ui(l,u,x,j,F,R,q){var W=u[F].Yb[x];for(x=0;16>F;++F){if(!oe(l,W[x+0]))return F;for(;!oe(l,W[x+1]);)if(W=u[++F].Yb[0],x=0,F==16)return 16;var G=u[F+1].Yb;if(oe(l,W[x+2])){var Q=l,ye=0;if(oe(Q,(Ie=W)[(Te=x)+3]))if(oe(Q,Ie[Te+6])){for(W=0,Te=2*(ye=oe(Q,Ie[Te+8]))+(Ie=oe(Q,Ie[Te+9+ye])),ye=0,Ie=W5[Te];Ie[W];++W)ye+=ye+oe(Q,Ie[W]);ye+=3+(8<<Te)}else oe(Q,Ie[Te+7])?(ye=7+2*oe(Q,165),ye+=oe(Q,145)):ye=5+oe(Q,159);else ye=oe(Q,Ie[Te+4])?3+oe(Q,Ie[Te+5]):2;W=G[2]}else ye=1,W=G[1];G=q+$5[F],0>(Q=l).b&&je(Q);var Te,Ie=Q.b,Pe=(Te=Q.Ca>>1)-(Q.I>>Ie)>>31;--Q.b,Q.Ca+=Pe,Q.Ca|=1,Q.I-=(Te+1&Pe)<<Ie,R[G]=((ye^Pe)-Pe)*j[(0<F)+0]}return 16}function fa(l){var u=l.rb[l.sb-1];u.la=0,u.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function zs(l,u){if(l==null)return 0;if(u==null)return Kt(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!da(l,u))return 0;if(t(l.cb),u.ac==null||u.ac(u)){u.ob&&(l.L=0);var x=Mc[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=u.v-x>>4,l.zb=u.j-x>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=u.o+15+x>>4,l.Hb=u.va+15+x>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var j=l.ed;for(x=0;4>x;++x){var F;if(l.Qa.Cb){var R=l.Qa.Lb[x];l.Qa.Fb||(R+=j.Tb)}else R=j.Tb;for(F=0;1>=F;++F){var q=l.gd[x][F],W=R;if(j.Pc&&(W+=j.vd[0],F&&(W+=j.od[0])),0<(W=0>W?0:63<W?63:W)){var G=W;0<j.wb&&(G=4<j.wb?G>>2:G>>1)>9-j.wb&&(G=9-j.wb),1>G&&(G=1),q.dd=G,q.tc=2*W+G,q.ld=40<=W?2:15<=W?1:0}else q.tc=0;q.La=F}}}x=0}else Kt(l,6,"Frame setup failed"),x=l.a;if(x=x==0){if(x){l.$c=0,0<l.Aa||(l.Ic=sv);e:{x=l.Ic,j=4*(G=l.za);var Q=32*G,ye=G+1,Te=0<l.L?G*(0<l.Aa?2:1):0,Ie=(l.Aa==2?2:1)*G;if((q=j+832+(F=3*(16*x+Mc[l.L])/2*Q)+(R=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=q)x=0;else{if(q>l.Vb){if(l.Vb=0,l.Ec=a(q),l.Fc=0,l.Ec==null){x=Kt(l,1,"no memory during frame initialization.");break e}l.Vb=q}q=l.Ec,W=l.Fc,l.Ac=q,l.Bc=W,W+=j,l.Gd=o(Q,Fn),l.Hd=0,l.rb=o(ye+1,br),l.sb=1,l.wa=Te?o(Te,Zt):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=G),t(!0),l.oc=q,l.pc=W,W+=832,l.ya=o(Ie,dr),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=G),l.R=16*G,l.B=8*G,G=(Q=Mc[l.L])*l.R,Q=Q/2*l.B,l.sa=q,l.ta=W+G,l.qa=l.sa,l.ra=l.ta+16*x*l.R+Q,l.Ha=l.qa,l.Ia=l.ra+8*x*l.B+Q,l.$c=0,W+=F,l.mb=R?q:null,l.nb=R?W:null,t(W+R<=l.Fc+l.Vb),fa(l),i(l.Ac,l.Bc,0,j),x=1}}if(x){if(u.ka=0,u.y=l.sa,u.O=l.ta,u.f=l.qa,u.N=l.ra,u.ea=l.Ha,u.Vd=l.Ia,u.fa=l.R,u.Rc=l.B,u.F=null,u.J=0,!Lc){for(x=-255;255>=x;++x)Rr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Gi[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)sl[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Xo[255+x]=0>x?0:255<x?255:x;Lc=1}Vo=Ud,Vi=zd,il=fc,pn=Bd,Xn=hc,Ar=dc,Go=Hs,Pc=eo,al=ef,no=Vs,io=Qd,ya=Ro,ao=Gs,Yo=Nc,oo=bc,wa=Pi,ol=Wi,Jn=Kd,fi[0]=Ai,fi[1]=qd,fi[2]=Vd,fi[3]=Gd,fi[4]=gc,fi[5]=Io,fi[6]=vc,fi[7]=qs,fi[8]=Xd,fi[9]=Yd,xa[0]=pc,xa[1]=$d,xa[2]=qi,xa[3]=Do,xa[4]=tn,xa[5]=Hd,xa[6]=mc,Yi[0]=ha,Yi[1]=Wd,Yi[2]=Jd,Yi[3]=Ws,Yi[4]=Qa,Yi[5]=Zd,Yi[6]=$s,x=1}else x=0}x&&(x=function(Pe,Ve){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Ue,xe=Pe.Jc[Pe.M&Pe.Xb],_e=Pe.m,$e=Pe;for(Ue=0;Ue<$e.za;++Ue){var Ze=_e,He=$e,mt=He.Ac,ut=He.Bc+4*Ue,Lt=He.zc,ft=He.ya[He.aa+Ue];if(He.Qa.Bb?ft.$b=oe(Ze,He.Pa.jb[0])?2+oe(Ze,He.Pa.jb[2]):oe(Ze,He.Pa.jb[1]):ft.$b=0,He.kc&&(ft.Ad=oe(Ze,He.Bd)),ft.Za=!oe(Ze,145)+0,ft.Za){var Jt=ft.Ob,Qt=0;for(He=0;4>He;++He){var Yt,$t=Lt[0+He];for(Yt=0;4>Yt;++Yt){$t=V5[mt[ut+Yt]][$t];for(var or=C0[oe(Ze,$t[0])];0<or;)or=C0[2*or+oe(Ze,$t[or])];$t=-or,mt[ut+Yt]=$t}n(Jt,Qt,mt,ut,4),Qt+=4,Lt[0+He]=$t}}else $t=oe(Ze,156)?oe(Ze,128)?1:3:oe(Ze,163)?2:0,ft.Ob[0]=$t,i(mt,ut,$t,4),i(Lt,0,$t,4);ft.Dd=oe(Ze,142)?oe(Ze,114)?oe(Ze,183)?1:3:2:0}if($e.m.Ka)return Kt(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if($e=xe,Ze=(_e=Pe).rb[_e.sb-1],mt=_e.rb[_e.sb+_e.ja],Ue=_e.ya[_e.aa+_e.ja],ut=_e.kc?Ue.Ad:0)Ze.la=mt.la=0,Ue.Za||(Ze.Na=mt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var ar,Mt;if(Ze=mt,mt=$e,ut=_e.Pa.Xc,Lt=_e.ya[_e.aa+_e.ja],ft=_e.pb[Lt.$b],He=Lt.ad,Jt=0,Qt=_e.rb[_e.sb-1],$t=Yt=0,i(He,Jt,0,384),Lt.Za)var Tr=0,_n=ut[3];else{or=a(16);var Ir=Ze.Na+Qt.Na;if(Ir=ll(mt,ut[1],Ir,ft.Eb,0,or,0),Ze.Na=Qt.Na=(0<Ir)+0,1<Ir)Vo(or,0,He,Jt);else{var Sn=or[0]+3>>3;for(or=0;256>or;or+=16)He[Jt+or]=Sn}Tr=1,_n=ut[0]}var er=15&Ze.la,On=15&Qt.la;for(or=0;4>or;++or){var Rn=1&On;for(Sn=Mt=0;4>Sn;++Sn)er=er>>1|(Rn=(Ir=ll(mt,_n,Ir=Rn+(1&er),ft.Sc,Tr,He,Jt))>Tr)<<7,Mt=Mt<<2|(3<Ir?3:1<Ir?2:He[Jt+0]!=0),Jt+=16;er>>=4,On=On>>1|Rn<<7,Yt=(Yt<<8|Mt)>>>0}for(_n=er,Tr=On>>4,ar=0;4>ar;ar+=2){for(Mt=0,er=Ze.la>>4+ar,On=Qt.la>>4+ar,or=0;2>or;++or){for(Rn=1&On,Sn=0;2>Sn;++Sn)Ir=Rn+(1&er),er=er>>1|(Rn=0<(Ir=ll(mt,ut[2],Ir,ft.Qc,0,He,Jt)))<<3,Mt=Mt<<2|(3<Ir?3:1<Ir?2:He[Jt+0]!=0),Jt+=16;er>>=2,On=On>>1|Rn<<5}$t|=Mt<<4*ar,_n|=er<<4<<ar,Tr|=(240&On)<<ar}Ze.la=_n,Qt.la=Tr,Lt.Hc=Yt,Lt.Gc=$t,Lt.ia=43690&$t?0:ft.ia,ut=!(Yt|$t)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Ue.$b][Ue.Za],_e.wa[_e.Y+_e.ja].La|=!ut),$e.Ka)return Kt(Pe,7,"Premature end-of-file encountered.")}if(fa(Pe),_e=Ve,$e=1,Ue=(xe=Pe).D,Ze=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Ue.M=xe.M,Ue.uc=Ze,Qs(xe,Ue),$e=1,Ue=(Mt=xe.D).Nb,Ze=($t=Mc[xe.L])*xe.R,mt=$t/2*xe.B,or=16*Ue*xe.R,Sn=8*Ue*xe.B,ut=xe.sa,Lt=xe.ta-Ze+or,ft=xe.qa,He=xe.ra-mt+Sn,Jt=xe.Ha,Qt=xe.Ia-mt+Sn,On=(er=Mt.M)==0,Yt=er>=xe.Va-1,xe.Aa==2&&Qs(xe,Mt),Mt.uc)for(Rn=(Ir=xe).D.M,t(Ir.D.uc),Mt=Ir.yb;Mt<Ir.Hb;++Mt){Tr=Mt,_n=Rn;var Wr=(Jr=(_r=Ir).D).Nb;ar=_r.R;var Jr=Jr.wa[Jr.Y+Tr],mn=_r.sa,ei=_r.ta+16*Wr*ar+16*Tr,Ci=Jr.dd,$r=Jr.tc;if($r!=0)if(t(3<=$r),_r.L==1)0<Tr&&wa(mn,ei,ar,$r+4),Jr.La&&Jn(mn,ei,ar,$r),0<_n&&oo(mn,ei,ar,$r+4),Jr.La&&ol(mn,ei,ar,$r);else{var Xi=_r.B,so=_r.qa,Jo=_r.ra+8*Wr*Xi+8*Tr,Na=_r.Ha,_r=_r.Ia+8*Wr*Xi+8*Tr;Wr=Jr.ld,0<Tr&&(Pc(mn,ei,ar,$r+4,Ci,Wr),no(so,Jo,Na,_r,Xi,$r+4,Ci,Wr)),Jr.La&&(ya(mn,ei,ar,$r,Ci,Wr),Yo(so,Jo,Na,_r,Xi,$r,Ci,Wr)),0<_n&&(Go(mn,ei,ar,$r+4,Ci,Wr),al(so,Jo,Na,_r,Xi,$r+4,Ci,Wr)),Jr.La&&(io(mn,ei,ar,$r,Ci,Wr),ao(so,Jo,Na,_r,Xi,$r,Ci,Wr))}}if(xe.ia&&alert("todo:DitherRow"),_e.put!=null){if(Mt=16*er,er=16*(er+1),On?(_e.y=xe.sa,_e.O=xe.ta+or,_e.f=xe.qa,_e.N=xe.ra+Sn,_e.ea=xe.Ha,_e.W=xe.Ia+Sn):(Mt-=$t,_e.y=ut,_e.O=Lt,_e.f=ft,_e.N=He,_e.ea=Jt,_e.W=Qt),Yt||(er-=$t),er>_e.o&&(er=_e.o),_e.F=null,_e.J=null,xe.Fa!=null&&0<xe.Fa.length&&Mt<er&&(_e.J=Zs(xe,_e,Mt,er-Mt),_e.F=xe.mb,_e.F==null&&_e.F.length==0)){$e=Kt(xe,3,"Could not decode alpha data.");break e}Mt<_e.j&&($t=_e.j-Mt,Mt=_e.j,t(!(1&$t)),_e.O+=xe.R*$t,_e.N+=xe.B*($t>>1),_e.W+=xe.B*($t>>1),_e.F!=null&&(_e.J+=_e.width*$t)),Mt<er&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Mt-_e.j,_e.U=_e.va-_e.v,_e.T=er-Mt,$e=_e.put(_e))}Ue+1!=xe.Ic||Yt||(n(xe.sa,xe.ta-Ze,ut,Lt+16*xe.R,Ze),n(xe.qa,xe.ra-mt,ft,He+8*xe.B,mt),n(xe.Ha,xe.Ia-mt,Jt,Qt+8*xe.B,mt))}if(!$e)return Kt(Pe,6,"Output aborted.")}return 1}(l,u)),u.bc!=null&&u.bc(u),x&=1}return x?(l.cb=0,x):0}function xn(l,u,x,j,F){F=l[u+x+32*j]+(F>>3),l[u+x+32*j]=-256&F?0>F?0:255:F}function Fo(l,u,x,j,F,R){xn(l,u,0,x,j+F),xn(l,u,1,x,j+R),xn(l,u,2,x,j-R),xn(l,u,3,x,j-F)}function bn(l){return(20091*l>>16)+l}function Bs(l,u,x,j){var F,R=0,q=a(16);for(F=0;4>F;++F){var W=l[u+0]+l[u+8],G=l[u+0]-l[u+8],Q=(35468*l[u+4]>>16)-bn(l[u+12]),ye=bn(l[u+4])+(35468*l[u+12]>>16);q[R+0]=W+ye,q[R+1]=G+Q,q[R+2]=G-Q,q[R+3]=W-ye,R+=4,u++}for(F=R=0;4>F;++F)W=(l=q[R+0]+4)+q[R+8],G=l-q[R+8],Q=(35468*q[R+4]>>16)-bn(q[R+12]),xn(x,j,0,0,W+(ye=bn(q[R+4])+(35468*q[R+12]>>16))),xn(x,j,1,0,G+Q),xn(x,j,2,0,G-Q),xn(x,j,3,0,W-ye),R++,j+=32}function dc(l,u,x,j){var F=l[u+0]+4,R=35468*l[u+4]>>16,q=bn(l[u+4]),W=35468*l[u+1]>>16;Fo(x,j,0,F+q,l=bn(l[u+1]),W),Fo(x,j,1,F+R,l,W),Fo(x,j,2,F-R,l,W),Fo(x,j,3,F-q,l,W)}function zd(l,u,x,j,F){Bs(l,u,x,j),F&&Bs(l,u+16,x,j+4)}function fc(l,u,x,j){Vi(l,u+0,x,j,1),Vi(l,u+32,x,j+128,1)}function Bd(l,u,x,j){var F;for(l=l[u+0]+4,F=0;4>F;++F)for(u=0;4>u;++u)xn(x,j,u,F,l)}function hc(l,u,x,j){l[u+0]&&pn(l,u+0,x,j),l[u+16]&&pn(l,u+16,x,j+4),l[u+32]&&pn(l,u+32,x,j+128),l[u+48]&&pn(l,u+48,x,j+128+4)}function Ud(l,u,x,j){var F,R=a(16);for(F=0;4>F;++F){var q=l[u+0+F]+l[u+12+F],W=l[u+4+F]+l[u+8+F],G=l[u+4+F]-l[u+8+F],Q=l[u+0+F]-l[u+12+F];R[0+F]=q+W,R[8+F]=q-W,R[4+F]=Q+G,R[12+F]=Q-G}for(F=0;4>F;++F)q=(l=R[0+4*F]+3)+R[3+4*F],W=R[1+4*F]+R[2+4*F],G=R[1+4*F]-R[2+4*F],Q=l-R[3+4*F],x[j+0]=q+W>>3,x[j+16]=Q+G>>3,x[j+32]=q-W>>3,x[j+48]=Q-G>>3,j+=64}function Us(l,u,x){var j,F=u-32,R=In,q=255-l[F-1];for(j=0;j<x;++j){var W,G=R,Q=q+l[u-1];for(W=0;W<x;++W)l[u+W]=G[Q+l[F+W]];u+=32}}function qd(l,u){Us(l,u,4)}function Wd(l,u){Us(l,u,8)}function $d(l,u){Us(l,u,16)}function qi(l,u){var x;for(x=0;16>x;++x)n(l,u+32*x,l,u-32,16)}function Do(l,u){var x;for(x=16;0<x;--x)i(l,u,l[u-1],16),u+=32}function To(l,u,x){var j;for(j=0;16>j;++j)i(u,x+32*j,l,16)}function pc(l,u){var x,j=16;for(x=0;16>x;++x)j+=l[u-1+32*x]+l[u+x-32];To(j>>5,l,u)}function tn(l,u){var x,j=8;for(x=0;16>x;++x)j+=l[u-1+32*x];To(j>>4,l,u)}function Hd(l,u){var x,j=8;for(x=0;16>x;++x)j+=l[u+x-32];To(j>>4,l,u)}function mc(l,u){To(128,l,u)}function Tt(l,u,x){return l+2*u+x+2>>2}function Vd(l,u){var x,j=u-32;for(j=new Uint8Array([Tt(l[j-1],l[j+0],l[j+1]),Tt(l[j+0],l[j+1],l[j+2]),Tt(l[j+1],l[j+2],l[j+3]),Tt(l[j+2],l[j+3],l[j+4])]),x=0;4>x;++x)n(l,u+32*x,j,0,j.length)}function Gd(l,u){var x=l[u-1],j=l[u-1+32],F=l[u-1+64],R=l[u-1+96];Se(l,u+0,16843009*Tt(l[u-1-32],x,j)),Se(l,u+32,16843009*Tt(x,j,F)),Se(l,u+64,16843009*Tt(j,F,R)),Se(l,u+96,16843009*Tt(F,R,R))}function Ai(l,u){var x,j=4;for(x=0;4>x;++x)j+=l[u+x-32]+l[u-1+32*x];for(j>>=3,x=0;4>x;++x)i(l,u+32*x,j,4)}function gc(l,u){var x=l[u-1+0],j=l[u-1+32],F=l[u-1+64],R=l[u-1-32],q=l[u+0-32],W=l[u+1-32],G=l[u+2-32],Q=l[u+3-32];l[u+0+96]=Tt(j,F,l[u-1+96]),l[u+1+96]=l[u+0+64]=Tt(x,j,F),l[u+2+96]=l[u+1+64]=l[u+0+32]=Tt(R,x,j),l[u+3+96]=l[u+2+64]=l[u+1+32]=l[u+0+0]=Tt(q,R,x),l[u+3+64]=l[u+2+32]=l[u+1+0]=Tt(W,q,R),l[u+3+32]=l[u+2+0]=Tt(G,W,q),l[u+3+0]=Tt(Q,G,W)}function vc(l,u){var x=l[u+1-32],j=l[u+2-32],F=l[u+3-32],R=l[u+4-32],q=l[u+5-32],W=l[u+6-32],G=l[u+7-32];l[u+0+0]=Tt(l[u+0-32],x,j),l[u+1+0]=l[u+0+32]=Tt(x,j,F),l[u+2+0]=l[u+1+32]=l[u+0+64]=Tt(j,F,R),l[u+3+0]=l[u+2+32]=l[u+1+64]=l[u+0+96]=Tt(F,R,q),l[u+3+32]=l[u+2+64]=l[u+1+96]=Tt(R,q,W),l[u+3+64]=l[u+2+96]=Tt(q,W,G),l[u+3+96]=Tt(W,G,G)}function Io(l,u){var x=l[u-1+0],j=l[u-1+32],F=l[u-1+64],R=l[u-1-32],q=l[u+0-32],W=l[u+1-32],G=l[u+2-32],Q=l[u+3-32];l[u+0+0]=l[u+1+64]=R+q+1>>1,l[u+1+0]=l[u+2+64]=q+W+1>>1,l[u+2+0]=l[u+3+64]=W+G+1>>1,l[u+3+0]=G+Q+1>>1,l[u+0+96]=Tt(F,j,x),l[u+0+64]=Tt(j,x,R),l[u+0+32]=l[u+1+96]=Tt(x,R,q),l[u+1+32]=l[u+2+96]=Tt(R,q,W),l[u+2+32]=l[u+3+96]=Tt(q,W,G),l[u+3+32]=Tt(W,G,Q)}function qs(l,u){var x=l[u+0-32],j=l[u+1-32],F=l[u+2-32],R=l[u+3-32],q=l[u+4-32],W=l[u+5-32],G=l[u+6-32],Q=l[u+7-32];l[u+0+0]=x+j+1>>1,l[u+1+0]=l[u+0+64]=j+F+1>>1,l[u+2+0]=l[u+1+64]=F+R+1>>1,l[u+3+0]=l[u+2+64]=R+q+1>>1,l[u+0+32]=Tt(x,j,F),l[u+1+32]=l[u+0+96]=Tt(j,F,R),l[u+2+32]=l[u+1+96]=Tt(F,R,q),l[u+3+32]=l[u+2+96]=Tt(R,q,W),l[u+3+64]=Tt(q,W,G),l[u+3+96]=Tt(W,G,Q)}function Yd(l,u){var x=l[u-1+0],j=l[u-1+32],F=l[u-1+64],R=l[u-1+96];l[u+0+0]=x+j+1>>1,l[u+2+0]=l[u+0+32]=j+F+1>>1,l[u+2+32]=l[u+0+64]=F+R+1>>1,l[u+1+0]=Tt(x,j,F),l[u+3+0]=l[u+1+32]=Tt(j,F,R),l[u+3+32]=l[u+1+64]=Tt(F,R,R),l[u+3+64]=l[u+2+64]=l[u+0+96]=l[u+1+96]=l[u+2+96]=l[u+3+96]=R}function Xd(l,u){var x=l[u-1+0],j=l[u-1+32],F=l[u-1+64],R=l[u-1+96],q=l[u-1-32],W=l[u+0-32],G=l[u+1-32],Q=l[u+2-32];l[u+0+0]=l[u+2+32]=x+q+1>>1,l[u+0+32]=l[u+2+64]=j+x+1>>1,l[u+0+64]=l[u+2+96]=F+j+1>>1,l[u+0+96]=R+F+1>>1,l[u+3+0]=Tt(W,G,Q),l[u+2+0]=Tt(q,W,G),l[u+1+0]=l[u+3+32]=Tt(x,q,W),l[u+1+32]=l[u+3+64]=Tt(j,x,q),l[u+1+64]=l[u+3+96]=Tt(F,j,x),l[u+1+96]=Tt(R,F,j)}function Jd(l,u){var x;for(x=0;8>x;++x)n(l,u+32*x,l,u-32,8)}function Ws(l,u){var x;for(x=0;8>x;++x)i(l,u,l[u-1],8),u+=32}function Ka(l,u,x){var j;for(j=0;8>j;++j)i(u,x+32*j,l,8)}function ha(l,u){var x,j=8;for(x=0;8>x;++x)j+=l[u+x-32]+l[u-1+32*x];Ka(j>>4,l,u)}function Zd(l,u){var x,j=4;for(x=0;8>x;++x)j+=l[u+x-32];Ka(j>>3,l,u)}function Qa(l,u){var x,j=4;for(x=0;8>x;++x)j+=l[u-1+32*x];Ka(j>>3,l,u)}function $s(l,u){Ka(128,l,u)}function Oo(l,u,x){var j=l[u-x],F=l[u+0],R=3*(F-j)+nf[1020+l[u-2*x]-l[u+x]],q=Cc[112+(R+4>>3)];l[u-x]=In[255+j+Cc[112+(R+3>>3)]],l[u+0]=In[255+F-q]}function yc(l,u,x,j){var F=l[u+0],R=l[u+x];return Kn[255+l[u-2*x]-l[u-x]]>j||Kn[255+R-F]>j}function wc(l,u,x,j){return 4*Kn[255+l[u-x]-l[u+0]]+Kn[255+l[u-2*x]-l[u+x]]<=j}function xc(l,u,x,j,F){var R=l[u-3*x],q=l[u-2*x],W=l[u-x],G=l[u+0],Q=l[u+x],ye=l[u+2*x],Te=l[u+3*x];return 4*Kn[255+W-G]+Kn[255+q-Q]>j?0:Kn[255+l[u-4*x]-R]<=F&&Kn[255+R-q]<=F&&Kn[255+q-W]<=F&&Kn[255+Te-ye]<=F&&Kn[255+ye-Q]<=F&&Kn[255+Q-G]<=F}function bc(l,u,x,j){var F=2*j+1;for(j=0;16>j;++j)wc(l,u+j,x,F)&&Oo(l,u+j,x)}function Pi(l,u,x,j){var F=2*j+1;for(j=0;16>j;++j)wc(l,u+j*x,1,F)&&Oo(l,u+j*x,1)}function Wi(l,u,x,j){var F;for(F=3;0<F;--F)bc(l,u+=4*x,x,j)}function Kd(l,u,x,j){var F;for(F=3;0<F;--F)Pi(l,u+=4,x,j)}function pa(l,u,x,j,F,R,q,W){for(R=2*R+1;0<F--;){if(xc(l,u,x,R,q))if(yc(l,u,x,W))Oo(l,u,x);else{var G=l,Q=u,ye=x,Te=G[Q-2*ye],Ie=G[Q-ye],Pe=G[Q+0],Ve=G[Q+ye],Ue=G[Q+2*ye],xe=27*($e=nf[1020+3*(Pe-Ie)+nf[1020+Te-Ve]])+63>>7,_e=18*$e+63>>7,$e=9*$e+63>>7;G[Q-3*ye]=In[255+G[Q-3*ye]+$e],G[Q-2*ye]=In[255+Te+_e],G[Q-ye]=In[255+Ie+xe],G[Q+0]=In[255+Pe-xe],G[Q+ye]=In[255+Ve-_e],G[Q+2*ye]=In[255+Ue-$e]}u+=j}}function ui(l,u,x,j,F,R,q,W){for(R=2*R+1;0<F--;){if(xc(l,u,x,R,q))if(yc(l,u,x,W))Oo(l,u,x);else{var G=l,Q=u,ye=x,Te=G[Q-ye],Ie=G[Q+0],Pe=G[Q+ye],Ve=Cc[112+((Ue=3*(Ie-Te))+4>>3)],Ue=Cc[112+(Ue+3>>3)],xe=Ve+1>>1;G[Q-2*ye]=In[255+G[Q-2*ye]+xe],G[Q-ye]=In[255+Te+Ue],G[Q+0]=In[255+Ie-Ve],G[Q+ye]=In[255+Pe-xe]}u+=j}}function Hs(l,u,x,j,F,R){pa(l,u,x,1,16,j,F,R)}function eo(l,u,x,j,F,R){pa(l,u,1,x,16,j,F,R)}function Qd(l,u,x,j,F,R){var q;for(q=3;0<q;--q)ui(l,u+=4*x,x,1,16,j,F,R)}function Ro(l,u,x,j,F,R){var q;for(q=3;0<q;--q)ui(l,u+=4,1,x,16,j,F,R)}function ef(l,u,x,j,F,R,q,W){pa(l,u,F,1,8,R,q,W),pa(x,j,F,1,8,R,q,W)}function Vs(l,u,x,j,F,R,q,W){pa(l,u,1,F,8,R,q,W),pa(x,j,1,F,8,R,q,W)}function Gs(l,u,x,j,F,R,q,W){ui(l,u+4*F,F,1,8,R,q,W),ui(x,j+4*F,F,1,8,R,q,W)}function Nc(l,u,x,j,F,R,q,W){ui(l,u+4,1,F,8,R,q,W),ui(x,j+4,1,F,8,R,q,W)}function Mo(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ys(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kc(){this.ua=0,this.Wa=new E,this.vb=new E,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new L}function tf(){this.xb=this.a=0,this.l=new Nr,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kc,this.ab=0,this.gc=o(4,Xs),this.Oc=0}function zo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function to(l,u,x,j,F,R,q){for(l=l==null?0:l[u+0],u=0;u<q;++u)F[R+u]=l+x[j+u]&255,l=F[R+u]}function Js(l,u,x,j,F,R,q){var W;if(l==null)to(null,null,x,j,F,R,q);else for(W=0;W<q;++W)F[R+W]=l[u+W]+x[j+W]&255}function ma(l,u,x,j,F,R,q){if(l==null)to(null,null,x,j,F,R,q);else{var W,G=l[u+0],Q=G,ye=G;for(W=0;W<q;++W)Q=ye+(G=l[u+W])-Q,ye=x[j+W]+(-256&Q?0>Q?0:255:Q)&255,Q=G,F[R+W]=ye}}function Zs(l,u,x,j){var F=u.width,R=u.o;if(t(l!=null&&u!=null),0>x||0>=j||x+j>R)return null;if(!l.Cc){if(l.ga==null){var q;if(l.ga=new zo,(q=l.ga==null)||(q=u.width*u.o,t(l.Gb.length==0),l.Gb=a(q),l.Uc=0,l.Gb==null?q=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,q=1),q=!q),!q){q=l.ga;var W=l.Fa,G=l.P,Q=l.qc,ye=l.mb,Te=l.nb,Ie=G+1,Pe=Q-1,Ve=q.l;if(t(W!=null&&ye!=null&&u!=null),ba[0]=null,ba[1]=to,ba[2]=Js,ba[3]=ma,q.ca=ye,q.tb=Te,q.c=u.width,q.i=u.height,t(0<q.c&&0<q.i),1>=Q)u=0;else if(q.$a=W[G+0]>>0&3,q.Z=W[G+0]>>2&3,q.Lc=W[G+0]>>4&3,G=W[G+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||G)u=0;else if(Ve.put=_t,Ve.ac=jt,Ve.bc=Dt,Ve.ma=q,Ve.width=u.width,Ve.height=u.height,Ve.Da=u.Da,Ve.v=u.v,Ve.va=u.va,Ve.j=u.j,Ve.o=u.o,q.$a)e:{t(q.$a==1),u=it();t:for(;;){if(u==null){u=0;break e}if(t(q!=null),q.mc=u,u.c=q.c,u.i=q.i,u.l=q.l,u.l.ma=q,u.l.width=q.c,u.l.height=q.i,u.a=0,ne(u.m,W,Ie,Pe),!et(q.c,q.i,1,u,null)||(u.ab==1&&u.gc[0].hc==3&&wt(u.s)?(q.ic=1,W=u.c*u.i,u.Ta=null,u.Ua=0,u.V=a(W),u.Ba=0,u.V==null?(u.a=1,u=0):u=1):(q.ic=0,u=vt(u,q.c)),!u))break t;u=1;break e}q.mc=null,u=0}else u=Pe>=q.c*q.i;q=!u}if(q)return null;l.ga.Lc!=1?l.Ga=0:j=R-x}t(l.ga!=null),t(x+j<=R);e:{if(u=(W=l.ga).c,R=W.l.o,W.$a==0){if(Ie=l.rc,Pe=l.Vc,Ve=l.Fa,G=l.P+1+x*u,Q=l.mb,ye=l.nb+x*u,t(G<=l.P+l.qc),W.Z!=0)for(t(ba[W.Z]!=null),q=0;q<j;++q)ba[W.Z](Ie,Pe,Ve,G,Q,ye,u),Ie=Q,Pe=ye,ye+=u,G+=u;else for(q=0;q<j;++q)n(Q,ye,Ve,G,u),Ie=Q,Pe=ye,ye+=u,G+=u;l.rc=Ie,l.Vc=Pe}else{if(t(W.mc!=null),u=x+j,t((q=W.mc)!=null),t(u<=q.i),q.C>=u)u=1;else if(W.ic||Ce(),W.ic){W=q.V,Ie=q.Ba,Pe=q.c;var Ue=q.i,xe=(Ve=1,G=q.$/Pe,Q=q.$%Pe,ye=q.m,Te=q.s,q.$),_e=Pe*Ue,$e=Pe*u,Ze=Te.wc,He=xe<$e?zt(Te,Q,G):null;t(xe<=_e),t(u<=Ue),t(wt(Te));t:for(;;){for(;!ye.h&&xe<$e;){if(Q&Ze||(He=zt(Te,Q,G)),t(He!=null),pe(ye),256>(Ue=ir(He.G[0],He.H[0],ye)))W[Ie+xe]=Ue,++xe,++Q>=Pe&&(Q=0,++G<=u&&!(G%16)&&Re(q,G));else{if(!(280>Ue)){Ve=0;break t}Ue=qt(Ue-256,ye);var mt,ut=ir(He.G[4],He.H[4],ye);if(pe(ye),!(xe>=(ut=nr(Pe,ut=qt(ut,ye)))&&_e-xe>=Ue)){Ve=0;break t}for(mt=0;mt<Ue;++mt)W[Ie+xe+mt]=W[Ie+xe+mt-ut];for(xe+=Ue,Q+=Ue;Q>=Pe;)Q-=Pe,++G<=u&&!(G%16)&&Re(q,G);xe<$e&&Q&Ze&&(He=zt(Te,Q,G))}t(ye.h==Y(ye))}Re(q,G>u?u:G);break t}!Ve||ye.h&&xe<_e?(Ve=0,q.a=ye.h?5:3):q.$=xe,u=Ve}else u=Je(q,q.V,q.Ba,q.c,q.i,u,At);if(!u){j=0;break e}}x+j>=R&&(l.Cc=1),j=1}if(!j)return null;if(l.Cc&&((j=l.ga)!=null&&(j.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+x*F}function g(l,u,x,j,F,R){for(;0<F--;){var q,W=l,G=u+(x?1:0),Q=l,ye=u+(x?0:3);for(q=0;q<j;++q){var Te=Q[ye+4*q];Te!=255&&(Te*=32897,W[G+4*q+0]=W[G+4*q+0]*Te>>23,W[G+4*q+1]=W[G+4*q+1]*Te>>23,W[G+4*q+2]=W[G+4*q+2]*Te>>23)}u+=R}}function D(l,u,x,j,F){for(;0<j--;){var R;for(R=0;R<x;++R){var q=l[u+2*R+0],W=15&(Q=l[u+2*R+1]),G=4369*W,Q=(240&Q|Q>>4)*G>>16;l[u+2*R+0]=(240&q|q>>4)*G>>16&240|(15&q|q<<4)*G>>16>>4&15,l[u+2*R+1]=240&Q|W}u+=F}}function ae(l,u,x,j,F,R,q,W){var G,Q,ye=255;for(Q=0;Q<F;++Q){for(G=0;G<j;++G){var Te=l[u+G];R[q+4*G]=Te,ye&=Te}u+=x,q+=W}return ye!=255}function ge(l,u,x,j,F){var R;for(R=0;R<F;++R)x[j+R]=l[u+R]>>8}function Ce(){Zn=g,lr=D,cr=ae,Pr=ge}function We(l,u,x){B[l]=function(j,F,R,q,W,G,Q,ye,Te,Ie,Pe,Ve,Ue,xe,_e,$e,Ze){var He,mt=Ze-1>>1,ut=W[G+0]|Q[ye+0]<<16,Lt=Te[Ie+0]|Pe[Ve+0]<<16;t(j!=null);var ft=3*ut+Lt+131074>>2;for(u(j[F+0],255&ft,ft>>16,Ue,xe),R!=null&&(ft=3*Lt+ut+131074>>2,u(R[q+0],255&ft,ft>>16,_e,$e)),He=1;He<=mt;++He){var Jt=W[G+He]|Q[ye+He]<<16,Qt=Te[Ie+He]|Pe[Ve+He]<<16,Yt=ut+Jt+Lt+Qt+524296,$t=Yt+2*(Jt+Lt)>>3;ft=$t+ut>>1,ut=(Yt=Yt+2*(ut+Qt)>>3)+Jt>>1,u(j[F+2*He-1],255&ft,ft>>16,Ue,xe+(2*He-1)*x),u(j[F+2*He-0],255&ut,ut>>16,Ue,xe+(2*He-0)*x),R!=null&&(ft=Yt+Lt>>1,ut=$t+Qt>>1,u(R[q+2*He-1],255&ft,ft>>16,_e,$e+(2*He-1)*x),u(R[q+2*He+0],255&ut,ut>>16,_e,$e+(2*He+0)*x)),ut=Jt,Lt=Qt}1&Ze||(ft=3*ut+Lt+131074>>2,u(j[F+Ze-1],255&ft,ft>>16,Ue,xe+(Ze-1)*x),R!=null&&(ft=3*Lt+ut+131074>>2,u(R[q+Ze-1],255&ft,ft>>16,_e,$e+(Ze-1)*x)))}}function Ke(){Qn[Ec]=J5,Qn[Fc]=F0,Qn[A0]=Z5,Qn[Dc]=D0,Qn[Tc]=T0,Qn[af]=I0,Qn[P0]=K5,Qn[of]=F0,Qn[sf]=D0,Qn[Ic]=T0,Qn[lf]=I0}function pt(l){return l&-16384?0>l?0:255:l>>Q5}function St(l,u){return pt((19077*l>>8)+(26149*u>>8)-14234)}function Rt(l,u,x){return pt((19077*l>>8)-(6419*u>>8)-(13320*x>>8)+8708)}function It(l,u){return pt((19077*l>>8)+(33050*u>>8)-17685)}function Gt(l,u,x,j,F){j[F+0]=St(l,x),j[F+1]=Rt(l,u,x),j[F+2]=It(l,u)}function vr(l,u,x,j,F){j[F+0]=It(l,u),j[F+1]=Rt(l,u,x),j[F+2]=St(l,x)}function kr(l,u,x,j,F){var R=Rt(l,u,x);u=R<<3&224|It(l,u)>>3,j[F+0]=248&St(l,x)|R>>5,j[F+1]=u}function Dr(l,u,x,j,F){var R=240&It(l,u)|15;j[F+0]=240&St(l,x)|Rt(l,u,x)>>4,j[F+1]=R}function rn(l,u,x,j,F){j[F+0]=255,Gt(l,u,x,j,F+1)}function qr(l,u,x,j,F){vr(l,u,x,j,F),j[F+3]=255}function di(l,u,x,j,F){Gt(l,u,x,j,F),j[F+3]=255}function Tn(l,u){return 0>l?0:l>u?u:l}function Li(l,u,x){B[l]=function(j,F,R,q,W,G,Q,ye,Te){for(var Ie=ye+(-2&Te)*x;ye!=Ie;)u(j[F+0],R[q+0],W[G+0],Q,ye),u(j[F+1],R[q+0],W[G+0],Q,ye+x),F+=2,++q,++G,ye+=2*x;1&Te&&u(j[F+0],R[q+0],W[G+0],Q,ye)}}function _c(l,u,x){return x==0?l==0?u==0?6:5:u==0?4:0:x}function Ks(l,u,x,j,F){switch(l>>>30){case 3:Vi(u,x,j,F,0);break;case 2:Ar(u,x,j,F);break;case 1:pn(u,x,j,F)}}function Qs(l,u){var x,j,F=u.M,R=u.Nb,q=l.oc,W=l.pc+40,G=l.oc,Q=l.pc+584,ye=l.oc,Te=l.pc+600;for(x=0;16>x;++x)q[W+32*x-1]=129;for(x=0;8>x;++x)G[Q+32*x-1]=129,ye[Te+32*x-1]=129;for(0<F?q[W-1-32]=G[Q-1-32]=ye[Te-1-32]=129:(i(q,W-32-1,127,21),i(G,Q-32-1,127,9),i(ye,Te-32-1,127,9)),j=0;j<l.za;++j){var Ie=u.ya[u.aa+j];if(0<j){for(x=-1;16>x;++x)n(q,W+32*x-4,q,W+32*x+12,4);for(x=-1;8>x;++x)n(G,Q+32*x-4,G,Q+32*x+4,4),n(ye,Te+32*x-4,ye,Te+32*x+4,4)}var Pe=l.Gd,Ve=l.Hd+j,Ue=Ie.ad,xe=Ie.Hc;if(0<F&&(n(q,W-32,Pe[Ve].y,0,16),n(G,Q-32,Pe[Ve].f,0,8),n(ye,Te-32,Pe[Ve].ea,0,8)),Ie.Za){var _e=q,$e=W-32+16;for(0<F&&(j>=l.za-1?i(_e,$e,Pe[Ve].y[15],4):n(_e,$e,Pe[Ve+1].y,0,4)),x=0;4>x;x++)_e[$e+128+x]=_e[$e+256+x]=_e[$e+384+x]=_e[$e+0+x];for(x=0;16>x;++x,xe<<=2)_e=q,$e=W+R0[x],fi[Ie.Ob[x]](_e,$e),Ks(xe,Ue,16*+x,_e,$e)}else if(_e=_c(j,F,Ie.Ob[0]),xa[_e](q,W),xe!=0)for(x=0;16>x;++x,xe<<=2)Ks(xe,Ue,16*+x,q,W+R0[x]);for(x=Ie.Gc,_e=_c(j,F,Ie.Dd),Yi[_e](G,Q),Yi[_e](ye,Te),xe=Ue,_e=G,$e=Q,255&(Ie=x>>0)&&(170&Ie?il(xe,256,_e,$e):Xn(xe,256,_e,$e)),Ie=ye,xe=Te,255&(x>>=8)&&(170&x?il(Ue,320,Ie,xe):Xn(Ue,320,Ie,xe)),F<l.Ub-1&&(n(Pe[Ve].y,0,q,W+480,16),n(Pe[Ve].f,0,G,Q+224,8),n(Pe[Ve].ea,0,ye,Te+224,8)),x=8*R*l.B,Pe=l.sa,Ve=l.ta+16*j+16*R*l.R,Ue=l.qa,Ie=l.ra+8*j+x,xe=l.Ha,_e=l.Ia+8*j+x,x=0;16>x;++x)n(Pe,Ve+x*l.R,q,W+32*x,16);for(x=0;8>x;++x)n(Ue,Ie+x*l.B,G,Q+32*x,8),n(xe,_e+x*l.B,ye,Te+32*x,8)}}function Bo(l,u,x,j,F,R,q,W,G){var Q=[0],ye=[0],Te=0,Ie=G!=null?G.kd:0,Pe=G??new Ys;if(l==null||12>x)return 7;Pe.data=l,Pe.w=u,Pe.ha=x,u=[u],x=[x],Pe.gb=[Pe.gb];e:{var Ve=u,Ue=x,xe=Pe.gb;if(t(l!=null),t(Ue!=null),t(xe!=null),xe[0]=0,12<=Ue[0]&&!r(l,Ve[0],"RIFF")){if(r(l,Ve[0]+8,"WEBP")){xe=3;break e}var _e=Oe(l,Ve[0]+4);if(12>_e||4294967286<_e){xe=3;break e}if(Ie&&_e>Ue[0]-8){xe=7;break e}xe[0]=_e,Ve[0]+=12,Ue[0]-=12}xe=0}if(xe!=0)return xe;for(_e=0<Pe.gb[0],x=x[0];;){e:{var $e=l;Ue=u,xe=x;var Ze=Q,He=ye,mt=Ve=[0];if((ft=Te=[Te])[0]=0,8>xe[0])xe=7;else{if(!r($e,Ue[0],"VP8X")){if(Oe($e,Ue[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ut=Oe($e,Ue[0]+8),Lt=1+De($e,Ue[0]+12);if(2147483648<=Lt*($e=1+De($e,Ue[0]+15))){xe=3;break e}mt!=null&&(mt[0]=ut),Ze!=null&&(Ze[0]=Lt),He!=null&&(He[0]=$e),Ue[0]+=18,xe[0]-=18,ft[0]=1}xe=0}}if(Te=Te[0],Ve=Ve[0],xe!=0)return xe;if(Ue=!!(2&Ve),!_e&&Te)return 3;if(R!=null&&(R[0]=!!(16&Ve)),q!=null&&(q[0]=Ue),W!=null&&(W[0]=0),q=Q[0],Ve=ye[0],Te&&Ue&&G==null){xe=0;break}if(4>x){xe=7;break}if(_e&&Te||!_e&&!Te&&!r(l,u[0],"ALPH")){x=[x],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{ut=l,xe=u,_e=x;var ft=Pe.gb;Ze=Pe.na,He=Pe.P,mt=Pe.Sa,Lt=22,t(ut!=null),t(_e!=null),$e=xe[0];var Jt=_e[0];for(t(Ze!=null),t(mt!=null),Ze[0]=null,He[0]=null,mt[0]=0;;){if(xe[0]=$e,_e[0]=Jt,8>Jt){xe=7;break e}var Qt=Oe(ut,$e+4);if(4294967286<Qt){xe=3;break e}var Yt=8+Qt+1&-2;if(Lt+=Yt,0<ft&&Lt>ft){xe=3;break e}if(!r(ut,$e,"VP8 ")||!r(ut,$e,"VP8L")){xe=0;break e}if(Jt[0]<Yt){xe=7;break e}r(ut,$e,"ALPH")||(Ze[0]=ut,He[0]=$e+8,mt[0]=Qt),$e+=Yt,Jt-=Yt}}if(x=x[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],xe!=0)break}x=[x],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(ft=l,xe=u,_e=x,Ze=Pe.gb[0],He=Pe.Ja,mt=Pe.xa,ut=xe[0],$e=!r(ft,ut,"VP8 "),Lt=!r(ft,ut,"VP8L"),t(ft!=null),t(_e!=null),t(He!=null),t(mt!=null),8>_e[0])xe=7;else{if($e||Lt){if(ft=Oe(ft,ut+4),12<=Ze&&ft>Ze-12){xe=3;break e}if(Ie&&ft>_e[0]-8){xe=7;break e}He[0]=ft,xe[0]+=8,_e[0]-=8,mt[0]=Lt}else mt[0]=5<=_e[0]&&ft[ut+0]==47&&!(ft[ut+4]>>5),He[0]=_e[0];xe=0}if(x=x[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],u=u[0],xe!=0)break;if(4294967286<Pe.Ja)return 3;if(W==null||Ue||(W[0]=Pe.xa?2:1),q=[q],Ve=[Ve],Pe.xa){if(5>x){xe=7;break}W=q,Ie=Ve,Ue=R,l==null||5>x?l=0:5<=x&&l[u+0]==47&&!(l[u+4]>>5)?(_e=[0],ft=[0],Ze=[0],ne(He=new A,l,u,x),dt(He,_e,ft,Ze)?(W!=null&&(W[0]=_e[0]),Ie!=null&&(Ie[0]=ft[0]),Ue!=null&&(Ue[0]=Ze[0]),l=1):l=0):l=0}else{if(10>x){xe=7;break}W=Ve,l==null||10>x||!Dn(l,u+3,x-3)?l=0:(Ie=l[u+0]|l[u+1]<<8|l[u+2]<<16,Ue=16383&(l[u+7]<<8|l[u+6]),l=16383&(l[u+9]<<8|l[u+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Pe.Ja||!Ue||!l?l=0:(q&&(q[0]=Ue),W&&(W[0]=l),l=1))}if(!l||(q=q[0],Ve=Ve[0],Te&&(Q[0]!=q||ye[0]!=Ve)))return 3;G!=null&&(G[0]=Pe,G.offset=u-G.w,t(4294967286>u-G.w),t(G.offset==G.ha-x));break}return xe==0||xe==7&&Te&&G==null?(R!=null&&(R[0]|=Pe.na!=null&&0<Pe.na.length),j!=null&&(j[0]=q),F!=null&&(F[0]=Ve),0):xe}function el(l,u,x){var j=u.width,F=u.height,R=0,q=0,W=j,G=F;if(u.Da=l!=null&&0<l.Da,u.Da&&(W=l.cd,G=l.bd,R=l.v,q=l.j,11>x||(R&=-2,q&=-2),0>R||0>q||0>=W||0>=G||R+W>j||q+G>F))return 0;if(u.v=R,u.j=q,u.va=R+W,u.o=q+G,u.U=W,u.T=G,u.da=l!=null&&0<l.da,u.da){if(!J(W,G,x=[l.ib],R=[l.hb]))return 0;u.ib=x[0],u.hb=R[0]}return u.ob=l!=null&&l.ob,u.Kb=l==null||!l.Sd,u.da&&(u.ob=u.ib<3*j/4&&u.hb<3*F/4,u.Kb=0),1}function tl(l){if(l==null)return 2;if(11>l.S){var u=l.f.RGBA;u.fb+=(l.height-1)*u.A,u.A=-u.A}else u=l.f.kb,l=l.height,u.O+=(l-1)*u.fa,u.fa=-u.fa,u.N+=(l-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(l-1>>1)*u.Db,u.Db=-u.Db,u.F!=null&&(u.J+=(l-1)*u.lb,u.lb=-u.lb);return 0}function Uo(l,u,x,j){if(j==null||0>=l||0>=u)return 2;if(x!=null){if(x.Da){var F=x.cd,R=x.bd,q=-2&x.v,W=-2&x.j;if(0>q||0>W||0>=F||0>=R||q+F>l||W+R>u)return 2;l=F,u=R}if(x.da){if(!J(l,u,F=[x.ib],R=[x.hb]))return 2;l=F[0],u=R[0]}}j.width=l,j.height=u;e:{var G=j.width,Q=j.height;if(l=j.S,0>=G||0>=Q||!(l>=Ec&&13>l))l=2;else{if(0>=j.Rd&&j.sd==null){q=R=F=u=0;var ye=(W=G*M0[l])*Q;if(11>l||(R=(Q+1)/2*(u=(G+1)/2),l==12&&(q=(F=G)*Q)),(Q=a(ye+2*R+q))==null){l=1;break e}j.sd=Q,11>l?((G=j.f.RGBA).eb=Q,G.fb=0,G.A=W,G.size=ye):((G=j.f.kb).y=Q,G.O=0,G.fa=W,G.Fd=ye,G.f=Q,G.N=0+ye,G.Ab=u,G.Cd=R,G.ea=Q,G.W=0+ye+R,G.Db=u,G.Ed=R,l==12&&(G.F=Q,G.J=0+ye+2*R),G.Tc=q,G.lb=F)}if(u=1,F=j.S,R=j.width,q=j.height,F>=Ec&&13>F)if(11>F)l=j.f.RGBA,u&=(W=Math.abs(l.A))*(q-1)+R<=l.size,u&=W>=R*M0[F],u&=l.eb!=null;else{l=j.f.kb,W=(R+1)/2,ye=(q+1)/2,G=Math.abs(l.fa),Q=Math.abs(l.Ab);var Te=Math.abs(l.Db),Ie=Math.abs(l.lb),Pe=Ie*(q-1)+R;u&=G*(q-1)+R<=l.Fd,u&=Q*(ye-1)+W<=l.Cd,u=(u&=Te*(ye-1)+W<=l.Ed)&G>=R&Q>=W&Te>=W,u&=l.y!=null,u&=l.f!=null,u&=l.ea!=null,F==12&&(u&=Ie>=R,u&=Pe<=l.Tc,u&=l.F!=null)}else u=0;l=u?0:2}}return l!=0||x!=null&&x.fd&&(l=tl(j)),l}var Xr=64,qo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wo=24,$o=32,rl=8,Nn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];T("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(l){return l},B.Predictor2=function(l,u,x){return u[x+0]},B.Predictor3=function(l,u,x){return u[x+1]},B.Predictor4=function(l,u,x){return u[x-1]},B.Predictor5=function(l,u,x){return M(M(l,u[x+1]),u[x+0])},B.Predictor6=function(l,u,x){return M(l,u[x-1])},B.Predictor7=function(l,u,x){return M(l,u[x+0])},B.Predictor8=function(l,u,x){return M(u[x-1],u[x+0])},B.Predictor9=function(l,u,x){return M(u[x+0],u[x+1])},B.Predictor10=function(l,u,x){return M(M(l,u[x-1]),M(u[x+0],u[x+1]))},B.Predictor11=function(l,u,x){var j=u[x+0];return 0>=fe(j>>24&255,l>>24&255,(u=u[x-1])>>24&255)+fe(j>>16&255,l>>16&255,u>>16&255)+fe(j>>8&255,l>>8&255,u>>8&255)+fe(255&j,255&l,255&u)?j:l},B.Predictor12=function(l,u,x){var j=u[x+0];return(ie((l>>24&255)+(j>>24&255)-((u=u[x-1])>>24&255))<<24|ie((l>>16&255)+(j>>16&255)-(u>>16&255))<<16|ie((l>>8&255)+(j>>8&255)-(u>>8&255))<<8|ie((255&l)+(255&j)-(255&u)))>>>0},B.Predictor13=function(l,u,x){var j=u[x-1];return(ce((l=M(l,u[x+0]))>>24&255,j>>24&255)<<24|ce(l>>16&255,j>>16&255)<<16|ce(l>>8&255,j>>8&255)<<8|ce(l>>0&255,j>>0&255))>>>0};var rf=B.PredictorAdd0;B.PredictorAdd1=Me,T("Predictor2","PredictorAdd2"),T("Predictor3","PredictorAdd3"),T("Predictor4","PredictorAdd4"),T("Predictor5","PredictorAdd5"),T("Predictor6","PredictorAdd6"),T("Predictor7","PredictorAdd7"),T("Predictor8","PredictorAdd8"),T("Predictor9","PredictorAdd9"),T("Predictor10","PredictorAdd10"),T("Predictor11","PredictorAdd11"),T("Predictor12","PredictorAdd12"),T("Predictor13","PredictorAdd13");var nl=B.PredictorAdd2;Ee("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),Ee("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var Sc,Yn=B.ColorIndexInverseTransform,Ho=B.MapARGB,jc=B.VP8LColorIndexInverseTransformAlpha,Ac=B.MapAlpha,ga=B.VP8LPredictorsAdd=[];ga.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ro,kn,hn,va,$i,Hi,Vo,Vi,Ar,il,pn,Xn,Go,Pc,al,no,io,ya,ao,Yo,oo,wa,ol,Jn,Zn,lr,cr,Pr,Rr=a(511),Gi=a(2041),sl=a(225),Xo=a(767),Lc=0,nf=Gi,Cc=sl,In=Xo,Kn=Rr,Ec=0,Fc=1,A0=2,Dc=3,Tc=4,af=5,P0=6,of=7,sf=8,Ic=9,lf=10,O5=[2,3,7],R5=[3,3,11],L0=[280,256,256,256,40],M5=[0,1,1,1,0],z5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],B5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],U5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],q5=8,cf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ll=null,W5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],C0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],H5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],V5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],G5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Y5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xa=[],fi=[],Yi=[],X5=1,E0=2,ba=[],Qn=[];We("UpsampleRgbLinePair",Gt,3),We("UpsampleBgrLinePair",vr,3),We("UpsampleRgbaLinePair",di,4),We("UpsampleBgraLinePair",qr,4),We("UpsampleArgbLinePair",rn,4),We("UpsampleRgba4444LinePair",Dr,2),We("UpsampleRgb565LinePair",kr,2);var J5=B.UpsampleRgbLinePair,Z5=B.UpsampleBgrLinePair,F0=B.UpsampleRgbaLinePair,D0=B.UpsampleBgraLinePair,T0=B.UpsampleArgbLinePair,I0=B.UpsampleRgba4444LinePair,K5=B.UpsampleRgb565LinePair,Oc=16,Rc=1<<Oc-1,cl=-227,df=482,Q5=6,O0=0,ev=a(256),tv=a(256),rv=a(256),nv=a(256),iv=a(df-cl),av=a(df-cl);Li("YuvToRgbRow",Gt,3),Li("YuvToBgrRow",vr,3),Li("YuvToRgbaRow",di,4),Li("YuvToBgraRow",qr,4),Li("YuvToArgbRow",rn,4),Li("YuvToRgba4444Row",Dr,2),Li("YuvToRgb565Row",kr,2);var R0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mc=[0,2,8],ov=[8,7,6,4,4,2,2,2,1,1,1,1],sv=1;this.WebPDecodeRGBA=function(l,u,x,j,F){var R=Fc,q=new Mo,W=new Pt;q.ba=W,W.S=R,W.width=[W.width],W.height=[W.height];var G=W.width,Q=W.height,ye=new st;if(ye==null||l==null)var Te=2;else t(ye!=null),Te=Bo(l,u,x,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Te!=0?G=0:(G!=null&&(G[0]=ye.width[0]),Q!=null&&(Q[0]=ye.height[0]),G=1),G){W.width=W.width[0],W.height=W.height[0],j!=null&&(j[0]=W.width),F!=null&&(F[0]=W.height);e:{if(j=new Nr,(F=new Ys).data=l,F.w=u,F.ha=x,F.kd=1,u=[0],t(F!=null),((l=Bo(F.data,F.w,F.ha,null,null,null,u,null,F))==0||l==7)&&u[0]&&(l=4),(u=l)==0){if(t(q!=null),j.data=F.data,j.w=F.w+F.offset,j.ha=F.ha-F.offset,j.put=_t,j.ac=jt,j.bc=Dt,j.ma=q,F.xa){if((l=it())==null){q=1;break e}if(function(Ie,Pe){var Ve=[0],Ue=[0],xe=[0];t:for(;;){if(Ie==null)return 0;if(Pe==null)return Ie.a=2,0;if(Ie.l=Pe,Ie.a=0,ne(Ie.m,Pe.data,Pe.w,Pe.ha),!dt(Ie.m,Ve,Ue,xe)){Ie.a=3;break t}if(Ie.xb=E0,Pe.width=Ve[0],Pe.height=Ue[0],!et(Ve[0],Ue[0],1,Ie,null))break t;return 1}return t(Ie.a!=0),0}(l,j)){if(j=(u=Uo(j.width,j.height,q.Oa,q.ba))==0){t:{j=l;r:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((x=j.l)!=null),t((F=x.ma)!=null),j.xb!=0){if(j.ca=F.ba,j.tb=F.tb,t(j.ca!=null),!el(F.Oa,x,Dc)){j.a=2;break r}if(!vt(j,x.width)||x.da)break r;if((x.da||Be(j.ca.S))&&Ce(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Ce()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!P(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!Je(j,j.V,j.Ba,j.c,j.i,x.o,ct))break r;F.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(u=l.a)}else u=l.a}else{if((l=new Yr)==null){q=1;break e}if(l.Fa=F.na,l.P=F.P,l.qc=F.Sa,da(l,j)){if((u=Uo(j.width,j.height,q.Oa,q.ba))==0){if(l.Aa=0,x=q.Oa,t((F=l)!=null),x!=null){if(0<(G=0>(G=x.Md)?0:100<G?255:255*G/100)){for(Q=ye=0;4>Q;++Q)12>(Te=F.pb[Q]).lc&&(Te.ia=G*ov[0>Te.lc?0:Te.lc]>>3),ye|=Te.ia;ye&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=x.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}zs(l,j)||(u=l.a)}}else u=l.a}u==0&&q.Oa!=null&&q.Oa.fd&&(u=tl(q.ba))}q=u}R=q!=0?null:11>R?W.f.RGBA.eb:W.f.kb.y}else R=null;return R};var M0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,Z){for(var se="",U=0;U<4;U++)se+=String.fromCharCode(B[Z++]);return se}function p(B,Z){return(B[Z+0]<<0|B[Z+1]<<8|B[Z+2]<<16)>>>0}function v(B,Z){return(B[Z+0]<<0|B[Z+1]<<8|B[Z+2]<<16|B[Z+3]<<24)>>>0}new c;var y=[0],d=[0],k=[],w=new c,S=e,m=function(B,Z){var se={},U=0,L=!1,H=0,N=0;if(se.frames=[],!function(V,Y,K,pe){for(var je=0;je<pe;je++)if(V[Y+je]!=K.charCodeAt(je))return!0;return!1}(B,Z,"RIFF",4)){var le,ve;for(v(B,Z+=4),Z+=8;Z<B.length;){var de=f(B,Z),ne=v(B,Z+=4);Z+=4;var ee=ne+(1&ne);switch(de){case"VP8 ":case"VP8L":se.frames[U]===void 0&&(se.frames[U]={}),(A=se.frames[U]).src_off=L?N:Z-8,A.src_size=H+ne+8,U++,L&&(L=!1,H=0,N=0);break;case"VP8X":(A=se.header={}).feature_flags=B[Z];var me=Z+4;A.canvas_width=1+p(B,me),me+=3,A.canvas_height=1+p(B,me),me+=3;break;case"ALPH":L=!0,H=ee+8,N=Z-8;break;case"ANIM":(A=se.header).bgcolor=v(B,Z),me=Z+4,A.loop_count=(le=B)[(ve=me)+0]<<0|le[ve+1]<<8,me+=2;break;case"ANMF":var ue,A;(A=se.frames[U]={}).offset_x=2*p(B,Z),Z+=3,A.offset_y=2*p(B,Z),Z+=3,A.width=1+p(B,Z),Z+=3,A.height=1+p(B,Z),Z+=3,A.duration=p(B,Z),Z+=3,ue=B[Z++],A.dispose=1&ue,A.blend=ue>>1&1}de!="ANMF"&&(Z+=ee)}return se}}(S,0);m.response=S,m.rgbaoutput=!0,m.dataurl=!1;var b=m.header?m.header:null,_=m.frames?m.frames:null;if(b){b.loop_counter=b.loop_count,y=[b.canvas_height],d=[b.canvas_width];for(var I=0;I<_.length&&_[I].blend!=0;I++);}var z=_[0],re=w.WebPDecodeRGBA(S,z.src_off,z.src_size,d,y);z.rgba=re,z.imgwidth=d[0],z.imgheight=y[0];for(var $=0;$<d[0]*y[0]*4;$++)k[$]=re[$];return this.width=d,this.height=y,this.data=k,this}(function(e){var t=function(){return typeof bp=="function"},r=function(y,d,k,w){var S=4,m=o;switch(w){case e.image_compression.FAST:S=1,m=a;break;case e.image_compression.MEDIUM:S=6,m=s;break;case e.image_compression.SLOW:S=9,m=c}y=n(y,d,k,m);var b=bp(y,{level:S});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(y,d,k,w){for(var S,m,b,_=y.length/d,I=new Uint8Array(y.length+_),z=p(),re=0;re<_;re+=1){if(b=re*d,S=y.subarray(b,b+d),w)I.set(w(S,k,m),b+re);else{for(var $,B=z.length,Z=[];$<B;$+=1)Z[$]=z[$](S,k,m);var se=v(Z.concat());I.set(Z[se],b+re)}m=S}return I},i=function(y){var d=Array.apply([],y);return d.unshift(0),d},a=function(y,d){var k,w=[],S=y.length;w[0]=1;for(var m=0;m<S;m+=1)k=y[m-d]||0,w[m+1]=y[m]-k+256&255;return w},o=function(y,d,k){var w,S=[],m=y.length;S[0]=2;for(var b=0;b<m;b+=1)w=k&&k[b]||0,S[b+1]=y[b]-w+256&255;return S},s=function(y,d,k){var w,S,m=[],b=y.length;m[0]=3;for(var _=0;_<b;_+=1)w=y[_-d]||0,S=k&&k[_]||0,m[_+1]=y[_]+256-(w+S>>>1)&255;return m},c=function(y,d,k){var w,S,m,b,_=[],I=y.length;_[0]=4;for(var z=0;z<I;z+=1)w=y[z-d]||0,S=k&&k[z]||0,m=k&&k[z-d]||0,b=f(w,S,m),_[z+1]=y[z]-b+256&255;return _},f=function(y,d,k){if(y===d&&d===k)return y;var w=Math.abs(d-k),S=Math.abs(y-k),m=Math.abs(y+d-k-k);return w<=S&&w<=m?y:S<=m?d:k},p=function(){return[i,a,o,s,c]},v=function(y){var d=y.map(function(k){return k.reduce(function(w,S){return w+Math.abs(S)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(y,d,k,w){var S,m,b,_,I,z,re,$,B,Z,se,U,L,H,N,le=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(b=new Db(y)).imgData,m=b.bits,S=b.colorSpace,I=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){B=($=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,se=new Uint8Array(B*b.colors),Z=new Uint8Array(B);var de,ne=b.pixelBitlength-b.bits;for(H=0,N=0;H<B;H++){for(L=$[H],de=0;de<ne;)se[N++]=L>>>de&255,de+=b.bits;Z[H]=L>>>de&255}}if(b.bits===16){B=($=new Uint32Array(b.decodePixels().buffer)).length,se=new Uint8Array(B*(32/b.pixelBitlength)*b.colors),Z=new Uint8Array(B*(32/b.pixelBitlength)),U=b.colors>1,H=0,N=0;for(var ee=0;H<B;)L=$[H++],se[N++]=L>>>0&255,U&&(se[N++]=L>>>16&255,L=$[H++],se[N++]=L>>>0&255),Z[ee++]=L>>>16&255;m=8}w!==e.image_compression.NONE&&t()?(y=r(se,b.width*b.colors,b.colors,w),re=r(Z,b.width,1,w)):(y=se,re=Z,le=void 0)}if(b.colorType===3&&(S=this.color_spaces.INDEXED,z=b.palette,b.transparency.indexed)){var me=b.transparency.indexed,ue=0;for(H=0,B=me.length;H<B;++H)ue+=me[H];if((ue/=255)===B-1&&me.indexOf(0)!==-1)_=[me.indexOf(0)];else if(ue!==B){for($=b.decodePixels(),Z=new Uint8Array($.length),H=0,B=$.length;H<B;H++)Z[H]=me[$[H]];re=r(Z,b.width,1)}}var A=function(V){var Y;switch(V){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(w);return le===this.decode.FLATE_DECODE&&(ve="/Predictor "+A+" "),ve+="/Colors "+I+" /BitsPerComponent "+m+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:k,data:y,index:d,filter:le,decodeParameters:ve,transparency:_,palette:z,sMask:re,predictor:A,width:b.width,height:b.height,bitsPerComponent:m,colorSpace:S}}}})(bt.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new Tb(t),o=a.width,s=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:s},p=new ih(100).encode(f,100);return e.processJPEG.call(this,p,r,n,i)},e.processGIF87A=e.processGIF89A}(bt.API),gi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){sr.log("bit decode error:"+r)}},gi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[a>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},gi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,c=15&a,f=this.palette[s];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},gi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},gi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,f=a>>15?255:0,p=n*this.width*4+4*i;this.data[p]=c,this.data[p+1]=s,this.data[p+2]=o,this.data[p+3]=f}this.pos+=e}},gi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,f=(o>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=s,this.data[p+3]=255}this.pos+=e}},gi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},gi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},gi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new gi(t,!1),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},f=new ih(100).encode(c,100);return e.processJPEG.call(this,f,r,n,i)}}(bt.API),Om.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new Om(t),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},f=new ih(100).encode(c,100);return e.processJPEG.call(this,f,r,n,i)}}(bt.API),bt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,c=0,f=0;f<i;f+=4){var p=n[f],v=n[f+1],y=n[f+2],d=n[f+3];a[s++]=p,a[s++]=v,a[s++]=y,o[c++]=d}var k=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rs=bt.API,vu=rs.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=t.doKerning!==!1,y=0,d=e.length,k=0,w=s[0]||c,S=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(y=v&&tr(f[n])==="object"&&!isNaN(parseInt(f[n][k],10))?f[n][k]/p:0,S.push((s[n]||w)/c+y)),k=n;return S},Fm=rs.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return rs.processArabic&&(e=rs.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:vu.apply(this,arguments).reduce(function(a,o){return a+o},0)},Dm=function(e,t,r,n){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<r;)s+=t[a],a++;i.push(e.slice(0,a));var c=a;for(s=0;a!==o;)s+t[a]>n&&(i.push(e.slice(c,a)),s=0,c=a),s+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},Tm=function(e,t,r){r||(r={});var n,i,a,o,s,c,f,p=[],v=[p],y=r.textIndent||0,d=0,k=0,w=e.split(" "),S=vu.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var m=Array(c).join(" "),b=[];w.map(function(I){(I=I.split(/\s*\n/)).length>1?b=b.concat(I.map(function(z,re){return(re&&z.length?`
`:"")+z})):b.push(I[0])}),w=b,c=Fm.apply(this,[m,r])}for(a=0,o=w.length;a<o;a++){var _=0;if(n=w[a],c&&n[0]==`
`&&(n=n.substr(1),_=1),y+d+(k=(i=vu.apply(this,[n,r])).reduce(function(I,z){return I+z},0))>t||_){if(k>t){for(s=Dm.apply(this,[n,i,t-(y+d),t]),p.push(s.shift()),p=[s.pop()];s.length;)v.push([s.shift()]);k=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(I,z){return I+z},0)}else p=[n];v.push(p),y=k+c,d=S}else p.push(n),y+=d+k,d=S}return f=c?function(I,z){return(z?m:"")+I.join(" ")}:function(I){return I.join(" ")},v.map(f)},rs.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,c,f=[];for(s=0,c=n.length;s<c;s++)f=f.concat(Tm.apply(this,[n[s],o,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=e.__fontmetrics__.compress=function(v){var y,d,k,w,S=["{"];for(var m in v){if(y=v[m],isNaN(parseInt(m,10))?d="'"+m+"'":(m=parseInt(m,10),d=(d=a(m).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof y=="number")y<0?(k=a(y).slice(3),w="-"):(k=a(y).slice(2),w=""),k=w+k.slice(0,-1)+n[k.slice(-1)];else{if(tr(y)!=="object")throw new Error("Don't know what to do with value type "+tr(y)+".");k=o(y)}S.push(d+k)}return S.push("}"),S.join("")},s=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,d,k,w,S={},m=1,b=S,_=[],I="",z="",re=v.length-1,$=1;$<re;$+=1)(w=v[$])=="'"?y?(k=y.join(""),y=void 0):y=[]:y?y.push(w):w=="{"?(_.push([b,k]),b={},k=void 0):w=="}"?((d=_.pop())[0][d[1]]=b,k=void 0,b=d[0]):w=="-"?m=-1:k===void 0?r.hasOwnProperty(w)?(I+=r[w],k=parseInt(I,16)*m,m=1,I=""):I+=w:r.hasOwnProperty(w)?(z+=r[w],b[k]=parseInt(z,16)*m,m=1,k=void 0,z=""):z+=w;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var y=v.font,d=p.Unicode[y.postScriptName];d&&(y.metadata.Unicode={},y.metadata.Unicode.widths=d.widths,y.metadata.Unicode.kerning=d.kerning);var k=f.Unicode[y.postScriptName];k&&(y.metadata.Unicode.encoding=k,y.encoding=k.codePages[0])}])}(bt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(zl(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(bt),function(e){function t(){return(Ft.canvg?Promise.resolve(Ft.canvg):gp(()=>import("./index.es-CtbHPjfd.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}bt.API.addSvgAsImage=function(r,n,i,a,o,s,c,f){if(isNaN(n)||isNaN(i))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=o;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(k){return k.fromString(v,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(y)}).then(function(){d.addImage(p.toDataURL("image/jpeg",1),n,i,a,o,c,f)})}}(),bt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},bt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],f=0,p=0,v=0;function y(k,w){var S,m=!1;for(S=0;S<k.length;S+=1)k[S]===w&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=s.length;for(v=0;v<d;v+=1)r[s[v]].value=r[s[v]].defaultValue,r[s[v]].explicitSet=!1}if(tr(e)==="object"){for(i in e)if(a=e[i],y(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(f=0;f<a.length;f+=1)if(n=!0,a[f].length===1&&typeof a[f][0]=="number")c.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(n=!1);n===!0&&c.push([a[f][0]-1,a[f][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,w=[];for(k in r)r[k].explicitSet===!0&&(r[k].type==="name"?w.push("/"+k+" /"+r[k].value):w.push("/"+k+" "+r[k].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+s.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(bt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var s,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,y=a.length;v<y;++v){if(s=o.metadata.characterToGlyph(a.charCodeAt(v)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(v),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return p.join("");s=s.toString(16),p.push(f[4-s.length],s)}return p.join("")},n=function(a){var o,s,c,f,p,v,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,y=(s=Object.keys(a).sort(function(d,k){return d-k})).length;v<y;v++)o=s[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,f=o.newObject,p=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var v=s.metadata.Unicode.widths,y=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),d="",k=0;k<y.length;k++)d+=String.fromCharCode(y[k]);var w=f();p({data:d,addLength1:!0,objectId:w}),c("endobj");var S=f();p({data:n(s.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var m=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+as(s.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var b=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+as(s.fontName)),c("/FontDescriptor "+m+" 0 R"),c("/W "+e.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+as(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,f=o.newObject,p=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var v=s.metadata.rawData,y="",d=0;d<v.length;d++)y+=String.fromCharCode(v[d]);var k=f();p({data:y,addLength1:!0,objectId:k}),c("endobj");var w=f();p({data:n(s.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var S=f();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+k+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+as(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=f();for(var m=0;m<s.metadata.hmtx.widths.length;m++)s.metadata.hmtx.widths[m]=parseInt(s.metadata.hmtx.widths[m]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+as(s.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",c=a.x,f=a.y,p=a.options||{},v=a.mutex||{},y=v.pdfEscape,d=v.activeFontKey,k=v.fonts,w=d,S="",m=0,b="",_=k[w].encoding;if(k[w].encoding!=="Identity-H")return{text:s,x:c,y:f,options:p,mutex:v};for(b=s,w=d,Array.isArray(s)&&(b=s[0]),m=0;m<b.length;m+=1)k[w].metadata.hasOwnProperty("cmap")&&(o=k[w].metadata.cmap.unicode.codeMap[b[m].charCodeAt(0)]),o||b[m].charCodeAt(0)<256&&k[w].metadata.hasOwnProperty("Unicode")?S+=b[m]:S+="";var I="";return parseInt(w.slice(1))<14||_==="WinAnsiEncoding"?I=y(S,w).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(I=r(S,k[w])),v.isHex=!0,{text:I,x:c,y:f,options:p,mutex:v}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?s.push([i(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):s.push(i(Object.assign({},c,{text:o[f]})).text);a.text=s}else a.text=i(Object.assign({},c,{text:o})).text}])}(bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,s,c,f,p,v=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var I=function(U){var L=U.charCodeAt(),H=L>>8,N=w[H];return N!==void 0?v[256*N+(255&L)]:H===252||H===253?"AL":m.test(H)?"L":H===8?"R":"N"},z=function(U){for(var L,H=0;H<U.length;H++){if((L=I(U.charAt(H)))==="L")return!1;if(L==="R")return!0}return!1},re=function(U,L,H,N){var le,ve,de,ne,ee=L[N];switch(ee){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ee="AN");break;case"AL":b=!0,ee="R";break;case"WS":ee="N";break;case"CS":N<1||N+1>=L.length||(le=H[N-1])!=="EN"&&le!=="AN"||(ve=L[N+1])!=="EN"&&ve!=="AN"?ee="N":b&&(ve="AN"),ee=ve===le?ve:"N";break;case"ES":ee=(le=N>0?H[N-1]:"B")==="EN"&&N+1<L.length&&L[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&H[N-1]==="EN"){ee="EN";break}if(b){ee="N";break}for(de=N+1,ne=L.length;de<ne&&L[de]==="ET";)de++;ee=de<ne&&L[de]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(ne=L.length,de=N+1;de<ne&&L[de]==="NSM";)de++;if(de<ne){var me=U[N],ue=me>=1425&&me<=2303||me===64286;if(le=L[de],ue&&(le==="R"||le==="AL")){ee="R";break}}}ee=N<1||(le=L[N-1])==="B"?"N":H[N-1];break;case"B":b=!1,i=!0,ee=_;break;case"S":a=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ee="N"}return ee},$=function(U,L,H){var N=U.split("");return H&&B(N,H,{hiLevel:_}),N.reverse(),L&&L.reverse(),N.join("")},B=function(U,L,H){var N,le,ve,de,ne,ee=-1,me=U.length,ue=0,A=[],V=_?d:y,Y=[];for(b=!1,i=!1,a=!1,le=0;le<me;le++)Y[le]=I(U[le]);for(ve=0;ve<me;ve++){if(ne=ue,A[ve]=re(U,Y,A,ve),N=240&(ue=V[ne][k[A[ve]]]),ue&=15,L[ve]=de=V[ue][5],N>0)if(N===16){for(le=ee;le<ve;le++)L[le]=1;ee=-1}else ee=-1;if(V[ue][6])ee===-1&&(ee=ve);else if(ee>-1){for(le=ee;le<ve;le++)L[le]=de;ee=-1}Y[ve]==="B"&&(L[ve]=0),H.hiLevel|=de}a&&function(K,pe,je){for(var ke=0;ke<je;ke++)if(K[ke]==="S"){pe[ke]=_;for(var oe=ke-1;oe>=0&&K[oe]==="WS";oe--)pe[oe]=_}}(Y,L,me)},Z=function(U,L,H,N,le){if(!(le.hiLevel<U)){if(U===1&&_===1&&!i)return L.reverse(),void(H&&H.reverse());for(var ve,de,ne,ee,me=L.length,ue=0;ue<me;){if(N[ue]>=U){for(ne=ue+1;ne<me&&N[ne]>=U;)ne++;for(ee=ue,de=ne-1;ee<de;ee++,de--)ve=L[ee],L[ee]=L[de],L[de]=ve,H&&(ve=H[ee],H[ee]=H[de],H[de]=ve);ue=ne}ue++}}},se=function(U,L,H){var N=U.split(""),le={hiLevel:_};return H||(H=[]),B(N,H,le),function(ve,de,ne){if(ne.hiLevel!==0&&p)for(var ee,me=0;me<ve.length;me++)de[me]===1&&(ee=S.indexOf(ve[me]))>=0&&(ve[me]=S[ee+1])}(N,H,le),Z(2,N,L,H,le),Z(1,N,L,H,le),N.join("")};return this.__bidiEngine__.doBidiReorder=function(U,L,H){if(function(le,ve){if(ve)for(var de=0;de<le.length;de++)ve[de]=de;s===void 0&&(s=z(le)),f===void 0&&(f=z(le))}(U,L),o||!c||f)if(o&&c&&s^f)_=s?1:0,U=$(U,L,H);else if(!o&&c&&f)_=s?1:0,U=se(U,L,H),U=$(U,L);else if(!o||s||c||f){if(o&&!c&&s^f)U=$(U,L),s?(_=0,U=se(U,L,H)):(_=1,U=se(U,L,H),U=$(U,L));else if(o&&s&&!c&&f)_=1,U=se(U,L,H),U=$(U,L);else if(!o&&!c&&s^f){var N=p;s?(_=1,U=se(U,L,H),_=0,p=!1,U=se(U,L,H),p=N):(_=0,U=se(U,L,H),U=$(U,L),_=1,p=!1,U=se(U,L,H),p=N,U=$(U,L))}}else _=0,U=se(U,L,H);else _=s?1:0,U=se(U,L,H);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,c=U.isOutputVisual,s=U.isInputRtl,f=U.isOutputRtl,p=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),o=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ya(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Xb(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ib(this.contents),this.head=new Rb(this),this.name=new qb(this),this.cmap=new P5(this),this.toUnicode={},this.hhea=new Mb(this),this.maxp=new Wb(this),this.hmtx=new $b(this),this.post=new Bb(this),this.os2=new zb(this),this.loca=new Yb(this),this.glyf=new Hb(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,f;for(f=[],o=0,s=(c=this.bbox).length;o<s;o++)t=c[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ji,Ya=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,s,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Ib=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,s,c,f,p,v,y,d,k,w;for(w in d=Object.keys(r).length,c=Math.log(2),v=16*Math.floor(Math.log(d)/c),o=Math.floor(v/c),p=16*d-v,(i=new Ya).writeInt(this.scalarType),i.writeShort(d),i.writeShort(v),i.writeShort(o),i.writeShort(p),a=16*d,f=i.pos+a,s=null,k=[],r)for(y=r[w],i.writeString(w),i.writeInt(e(y)),i.writeInt(f),i.writeInt(y.length),k=k.concat(y),w==="head"&&(s=f),f+=y.length;f%4;)k.push(0),f++;return i.write(k),n=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=L5.call(r);r.length%4;)r.push(0);for(a=new Ya(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Ob={}.hasOwnProperty,Bi=function(e,t){for(var r in t)Ob.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ji=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Rb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ya).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Rm=function(){function e(t,r){var n,i,a,o,s,c,f,p,v,y,d,k,w,S,m,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(d=t.readUInt16(),y=d/2,t.pos+=6,a=function(){var I,z;for(z=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)z.push(t.readUInt16());return z}(),t.pos+=2,w=function(){var I,z;for(z=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)z.push(t.readUInt16());return z}(),f=function(){var I,z;for(z=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)z.push(t.readUInt16());return z}(),p=function(){var I,z;for(z=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)z.push(t.readUInt16());return z}(),i=(this.length-t.pos+this.offset)/2,s=function(){var I,z;for(z=[],c=I=0;0<=i?I<i:I>i;c=0<=i?++I:--I)z.push(t.readUInt16());return z}(),c=m=0,_=a.length;m<_;c=++m)for(S=a[c],n=b=k=w[c];k<=S?b<=S:b>=S;n=k<=S?++b:--b)p[c]===0?o=n+f[c]:(o=s[p[c]/2+(n-k)-(y-c)]||0)!==0&&(o+=f[c]),this.codeMap[n]=65535&o}t.pos=v}return e.encode=function(t,r){var n,i,a,o,s,c,f,p,v,y,d,k,w,S,m,b,_,I,z,re,$,B,Z,se,U,L,H,N,le,ve,de,ne,ee,me,ue,A,V,Y,K,pe,je,ke,oe,Se,be,De;switch(N=new Ya,o=Object.keys(t).sort(function(Oe,P){return Oe-P}),r){case"macroman":for(w=0,S=function(){var Oe=[];for(k=0;k<256;++k)Oe.push(0);return Oe}(),b={0:0},a={},le=0,ee=o.length;le<ee;le++)b[oe=t[i=o[le]]]==null&&(b[oe]=++w),a[i]={old:t[i],new:b[t[i]]},S[i]=b[t[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(S),{charMap:a,subtable:N.data,maxGlyphID:w+1};case"unicode":for(L=[],v=[],_=0,b={},n={},m=f=null,ve=0,me=o.length;ve<me;ve++)b[z=t[i=o[ve]]]==null&&(b[z]=++_),n[i]={old:z,new:b[z]},s=b[z]-i,m!=null&&s===f||(m&&v.push(m),L.push(i),f=s),m=i;for(m&&v.push(m),v.push(65535),L.push(65535),se=2*(Z=L.length),B=2*Math.pow(Math.log(Z)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,$=2*Z-B,c=[],re=[],d=[],k=de=0,ue=L.length;de<ue;k=++de){if(U=L[k],p=v[k],U===65535){c.push(0),re.push(0);break}if(U-(H=n[U].new)>=32768)for(c.push(0),re.push(2*(d.length+Z-k)),i=ne=U;U<=p?ne<=p:ne>=p;i=U<=p?++ne:--ne)d.push(n[i].new);else c.push(H-U),re.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*Z+2*d.length),N.writeUInt16(0),N.writeUInt16(se),N.writeUInt16(B),N.writeUInt16(y),N.writeUInt16($),je=0,A=v.length;je<A;je++)i=v[je],N.writeUInt16(i);for(N.writeUInt16(0),ke=0,V=L.length;ke<V;ke++)i=L[ke],N.writeUInt16(i);for(Se=0,Y=c.length;Se<Y;Se++)s=c[Se],N.writeUInt16(s);for(be=0,K=re.length;be<K;be++)I=re[be],N.writeUInt16(I);for(De=0,pe=d.length;De<pe;De++)w=d[De],N.writeUInt16(w);return{charMap:n,subtable:N.data,maxGlyphID:_+1}}},e}(),P5=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new Rm(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=Rm.encode(r,n),(a=new Ya).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),Mb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),zb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Bb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var s,c,f;for(f=[],o=s=0,c=this.file.maxp.numGlyphs;0<=c?s<c:s>c;o=0<=c?++s:--s)f.push(r.readUInt32());return f}).call(this)}},t}(),Ub=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,o,s,c,f,p,v,y,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(f={},o=v=0,y=i.length;v<y;o=++v)a=i[o],r.pos=a.offset,p=r.readString(a.length),s=new Ub(p,a),f[d=a.nameID]==null&&(f[d]=[]),f[a.nameID].push(s);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),Wb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),$b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,o,s,c,f;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],n=p=0;0<=a?p<a:p>a;n=0<=a?++p:--p)v.push(r.readInt16());return v}(),this.widths=(function(){var p,v,y,d;for(d=[],p=0,v=(y=this.metrics).length;p<v;p++)o=y[p],d.push(o.advance);return d}).call(this),i=this.widths[this.widths.length-1],f=[],n=s=0;0<=a?s<a:s>a;n=0<=a?++s:--s)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),L5=[].slice,Hb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,o,s,c,f,p,v,y;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,s=(c=new Ya(n.read(a))).readShort(),p=c.readShort(),y=c.readShort(),f=c.readShort(),v=c.readShort(),this.cache[r]=s===-1?new Gb(c,p,y,f,v):new Vb(c,s,p,y,f,v),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,o,s,c,f;for(s=[],o=[],c=0,f=n.length;c<f;c++)a=r[n[c]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),Vb=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Gb=function(){function e(t,r,n,i,a){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ya(L5.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Yb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Bi(t,ji),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<n.length&&n[o]==s){++o,i[s]=a;var c=this.offsets[s],f=this.offsets[s+1]-c;f>0&&(a+=f)}for(var p=new Array(4*i.length),v=0;v<i.length;++v)p[4*v+3]=255&i[v],p[4*v+2]=(65280&i[v])>>8,p[4*v+1]=(16711680&i[v])>>16,p[4*v]=(4278190080&i[v])>>24;return p},t}(),Xb=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,s,c;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,s,c,f,p,v,y,d,k,w,S,m;for(i in n=P5.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},m=n.charMap)d[(c=m[i]).old]=c.new;for(k in y=n.maxGlyphID,o)k in d||(d[k]=y++);return p=function(b){var _,I;for(_ in I={},b)I[b[_]]=_;return I}(d),v=Object.keys(p).sort(function(b,_){return b-_}),w=function(){var b,_,I;for(I=[],b=0,_=v.length;b<_;b++)s=v[b],I.push(p[s]);return I}(),a=this.font.glyf.encode(o,w,d),f=this.font.loca.encode(a.offsets,w),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();bt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,c,f;for(f=[],s=0,c=r.length;s<c;s++)n=r[s],f.push(t.convert(n));return f}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function yu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function o(f,p){if(!i[f]){if(!n[f]){var v=typeof yu=="function"&&yu;if(!p&&v)return v(f,!0);if(s)return s(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var d=i[f]={exports:{}};n[f][0].call(d.exports,function(k){var w=n[f][1][k];return o(w||k)},d,d.exports,r,n,i,a)}return i[f].exports}for(var s=typeof yu=="function"&&yu,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var f,p,v,y,d,k,w,S=[],m=0,b=c.length,_=b,I=a.getTypeOf(c)!=="string";m<c.length;)_=b-m,v=I?(f=c[m++],p=m<b?c[m++]:0,m<b?c[m++]:0):(f=c.charCodeAt(m++),p=m<b?c.charCodeAt(m++):0,m<b?c.charCodeAt(m++):0),y=f>>2,d=(3&f)<<4|p>>4,k=1<_?(15&p)<<2|v>>6:64,w=2<_?63&v:64,S.push(s.charAt(y)+s.charAt(d)+s.charAt(k)+s.charAt(w));return S.join("")},i.decode=function(c){var f,p,v,y,d,k,w=0,S=0,m="data:";if(c.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var b,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===s.charAt(64)&&_--,c.charAt(c.length-2)===s.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|_):new Array(0|_);w<c.length;)f=s.indexOf(c.charAt(w++))<<2|(y=s.indexOf(c.charAt(w++)))>>4,p=(15&y)<<4|(d=s.indexOf(c.charAt(w++)))>>2,v=(3&d)<<6|(k=s.indexOf(c.charAt(w++))),b[S++]=f,d!==64&&(b[S++]=p),k!==64&&(b[S++]=v);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function f(p,v,y,d,k){this.compressedSize=p,this.uncompressedSize=v,this.crc32=y,this.compression=d,this.compressedContent=k}f.prototype={getContentWorker:function(){var p=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,v,y){return p.pipe(new s).pipe(new c("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",v)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=function(){for(var s,c=[],f=0;f<256;f++){s=f;for(var p=0;p<8;p++)s=1&s?3988292384^s>>>1:s>>>1;c[f]=s}return c}();n.exports=function(s,c){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(f,p,v,y){var d=o,k=y+v;f^=-1;for(var w=y;w<k;w++)f=f>>>8^d[255&(f^p[w])];return-1^f}(0|c,s,s.length,0):function(f,p,v,y){var d=o,k=y+v;f^=-1;for(var w=y;w<k;w++)f=f>>>8^d[255&(f^p.charCodeAt(w))];return-1^f}(0|c,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),c=r("./stream/GenericWorker"),f=a?"uint8array":"array";function p(v,y){c.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}i.magic="\b\0",s.inherits(p,c),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(f,v.data),!1)},p.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},i.compressWorker=function(v){return new p("Deflate",v)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(d,k){var w,S="";for(w=0;w<k;w++)S+=String.fromCharCode(255&d),d>>>=8;return S}function o(d,k,w,S,m,b){var _,I,z=d.file,re=d.compression,$=b!==f.utf8encode,B=s.transformTo("string",b(z.name)),Z=s.transformTo("string",f.utf8encode(z.name)),se=z.comment,U=s.transformTo("string",b(se)),L=s.transformTo("string",f.utf8encode(se)),H=Z.length!==z.name.length,N=L.length!==se.length,le="",ve="",de="",ne=z.dir,ee=z.date,me={crc32:0,compressedSize:0,uncompressedSize:0};k&&!w||(me.crc32=d.crc32,me.compressedSize=d.compressedSize,me.uncompressedSize=d.uncompressedSize);var ue=0;k&&(ue|=8),$||!H&&!N||(ue|=2048);var A=0,V=0;ne&&(A|=16),m==="UNIX"?(V=798,A|=function(K,pe){var je=K;return K||(je=pe?16893:33204),(65535&je)<<16}(z.unixPermissions,ne)):(V=20,A|=function(K){return 63&(K||0)}(z.dosPermissions)),_=ee.getUTCHours(),_<<=6,_|=ee.getUTCMinutes(),_<<=5,_|=ee.getUTCSeconds()/2,I=ee.getUTCFullYear()-1980,I<<=4,I|=ee.getUTCMonth()+1,I<<=5,I|=ee.getUTCDate(),H&&(ve=a(1,1)+a(p(B),4)+Z,le+="up"+a(ve.length,2)+ve),N&&(de=a(1,1)+a(p(U),4)+L,le+="uc"+a(de.length,2)+de);var Y="";return Y+=`
\0`,Y+=a(ue,2),Y+=re.magic,Y+=a(_,2),Y+=a(I,2),Y+=a(me.crc32,4),Y+=a(me.compressedSize,4),Y+=a(me.uncompressedSize,4),Y+=a(B.length,2),Y+=a(le.length,2),{fileRecord:v.LOCAL_FILE_HEADER+Y+B+le,dirRecord:v.CENTRAL_FILE_HEADER+a(V,2)+Y+a(U.length,2)+"\0\0\0\0"+a(A,4)+a(S,4)+B+le+U}}var s=r("../utils"),c=r("../stream/GenericWorker"),f=r("../utf8"),p=r("../crc32"),v=r("../signature");function y(d,k,w,S){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=w,this.encodeFileName=S,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(y,c),y.prototype.push=function(d){var k=d.meta.percent||0,w=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,c.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:w?(k+100*(w-S-1))/w:100}}))},y.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var k=this.streamFiles&&!d.file.dir;if(k){var w=o(d,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(d){this.accumulate=!1;var k=this.streamFiles&&!d.file.dir,w=o(d,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),k)this.push({data:function(S){return v.DATA_DESCRIPTOR+a(S.crc32,4)+a(S.compressedSize,4)+a(S.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var d=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var w=this.bytesWritten-d,S=function(m,b,_,I,z){var re=s.transformTo("string",z(I));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(m,2)+a(m,2)+a(b,4)+a(_,4)+a(re.length,2)+re}(this.dirRecords.length,w,d,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(d){this._sources.push(d);var k=this;return d.on("data",function(w){k.processChunk(w)}),d.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),d.on("error",function(w){k.error(w)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(d){var k=this._sources;if(!c.prototype.error.call(this,d))return!1;for(var w=0;w<k.length;w++)try{k[w].error(d)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var d=this._sources,k=0;k<d.length;k++)d[k].lock()},n.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,c,f){var p=new o(c.streamFiles,f,c.platform,c.encodeFileName),v=0;try{s.forEach(function(y,d){v++;var k=function(b,_){var I=b||_,z=a[I];if(!z)throw new Error(I+" is not a valid compression method !");return z}(d.options.compression,c.compression),w=d.options.compressionOptions||c.compressionOptions||{},S=d.dir,m=d.date;d._compressWorker(k,w).withStreamInfo("file",{name:y,dir:S,date:m,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(y){p.error(y)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),c=r("./zipEntries"),f=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function v(y){return new o.Promise(function(d,k){var w=y.decompressed.getContentWorker().pipe(new f);w.on("error",function(S){k(S)}).on("end",function(){w.streamInfo.crc32!==y.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(y,d){var k=this;return d=a.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),p.isNode&&p.isStream(y)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",y,!0,d.optimizedBinaryString,d.base64).then(function(w){var S=new c(d);return S.load(w),S}).then(function(w){var S=[o.Promise.resolve(w)],m=w.files;if(d.checkCRC32)for(var b=0;b<m.length;b++)S.push(v(m[b]));return o.Promise.all(S)}).then(function(w){for(var S=w.shift(),m=S.files,b=0;b<m.length;b++){var _=m[b],I=_.fileNameStr,z=a.resolve(_.fileNameStr);k.file(z,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:d.createFolders}),_.dir||(k.file(z).unsafeOriginalName=I)}return S.zipComment.length&&(k.comment=S.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(c,f){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(s,o),s.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,c,f){a.call(this,c),this._helper=s;var p=this;s.on("data",function(v,y){p.push(v)||p._helper.pause(),f&&f(y)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(z,re,$){var B,Z=s.getTypeOf(re),se=s.extend($||{},p);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(z=m(z)),se.createFolders&&(B=S(z))&&b.call(this,B,!0);var U=Z==="string"&&se.binary===!1&&se.base64===!1;$&&$.binary!==void 0||(se.binary=!U),(re instanceof v&&re.uncompressedSize===0||se.dir||!re||re.length===0)&&(se.base64=!1,se.binary=!0,re="",se.compression="STORE",Z="string");var L=null;L=re instanceof v||re instanceof c?re:k.isNode&&k.isStream(re)?new w(z,re):s.prepareContent(z,re,se.binary,se.optimizedBinaryString,se.base64);var H=new y(z,L,se);this.files[z]=H}var o=r("./utf8"),s=r("./utils"),c=r("./stream/GenericWorker"),f=r("./stream/StreamHelper"),p=r("./defaults"),v=r("./compressedObject"),y=r("./zipObject"),d=r("./generate"),k=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),S=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var re=z.lastIndexOf("/");return 0<re?z.substring(0,re):""},m=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},b=function(z,re){return re=re!==void 0?re:p.createFolders,z=m(z),this.files[z]||a.call(this,z,null,{dir:!0,createFolders:re}),this.files[z]};function _(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var re,$,B;for(re in this.files)B=this.files[re],($=re.slice(this.root.length,re.length))&&re.slice(0,this.root.length)===this.root&&z($,B)},filter:function(z){var re=[];return this.forEach(function($,B){z($,B)&&re.push(B)}),re},file:function(z,re,$){if(arguments.length!==1)return z=this.root+z,a.call(this,z,re,$),this;if(_(z)){var B=z;return this.filter(function(se,U){return!U.dir&&B.test(se)})}var Z=this.files[this.root+z];return Z&&!Z.dir?Z:null},folder:function(z){if(!z)return this;if(_(z))return this.filter(function(Z,se){return se.dir&&z.test(Z)});var re=this.root+z,$=b.call(this,re),B=this.clone();return B.root=$.name,B},remove:function(z){z=this.root+z;var re=this.files[z];if(re||(z.slice(-1)!=="/"&&(z+="/"),re=this.files[z]),re&&!re.dir)delete this.files[z];else for(var $=this.filter(function(Z,se){return se.name.slice(0,z.length)===z}),B=0;B<$.length;B++)delete this.files[$[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var re,$={};try{if(($=s.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");s.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var B=$.comment||this.comment||"";re=d.generateWorker(this,$,B)}catch(Z){(re=new c("error")).error(Z)}return new f(re,$.type||"string",$.mimeType)},generateAsync:function(z,re){return this.generateInternalStream(z).accumulate(re)},generateNodeStream:function(z,re){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(re)}};n.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var c=0;c<this.data.length;c++)s[c]=255&s[c]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var c=s.charCodeAt(0),f=s.charCodeAt(1),p=s.charCodeAt(2),v=s.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===f&&this.data[y+2]===p&&this.data[y+3]===v)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var c=s.charCodeAt(0),f=s.charCodeAt(1),p=s.charCodeAt(2),v=s.charCodeAt(3),y=this.readData(4);return c===y[0]&&f===y[1]&&p===y[2]&&v===y[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var c,f=0;for(this.checkOffset(s),c=this.index+s-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=s,f},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),c=r("./StringReader"),f=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");n.exports=function(v){var y=a.getTypeOf(v);return a.checkSupport(y),y!=="string"||o.uint8array?y==="nodebuffer"?new f(v):o.uint8array?new p(a.transformTo("uint8array",v)):new s(a.transformTo("array",v)):new c(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(c){a.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(s,a),s.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(s,o),s.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(c){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=a.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(c){s.processChunk(c)}),o.on("end",function(){s.end()}),o.on("error",function(c){s.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),c=r("../base64"),f=r("../support"),p=r("../external"),v=null;if(f.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(k,w){return new p.Promise(function(S,m){var b=[],_=k._internalType,I=k._outputType,z=k._mimeType;k.on("data",function(re,$){b.push(re),w&&w($)}).on("error",function(re){b=[],m(re)}).on("end",function(){try{var re=function($,B,Z){switch($){case"blob":return a.newBlob(a.transformTo("arraybuffer",B),Z);case"base64":return c.encode(B);default:return a.transformTo($,B)}}(I,function($,B){var Z,se=0,U=null,L=0;for(Z=0;Z<B.length;Z++)L+=B[Z].length;switch($){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(U=new Uint8Array(L),Z=0;Z<B.length;Z++)U.set(B[Z],se),se+=B[Z].length;return U;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+$+"'")}}(_,b),z);S(re)}catch($){m($)}b=[]}).resume()})}function d(k,w,S){var m=w;switch(w){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=w,this._mimeType=S,a.checkSupport(m),this._worker=k.pipe(new o(m)),k.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}d.prototype={accumulate:function(k){return y(this,k)},on:function(k,w){var S=this;return k==="data"?this._worker.on(k,function(m){w.call(S,m.data,m.meta)}):this._worker.on(k,function(){a.delay(w,arguments,S)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},k)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),c=r("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function v(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?s.newBufferFrom(d,"utf-8"):function(k){var w,S,m,b,_,I=k.length,z=0;for(b=0;b<I;b++)(64512&(S=k.charCodeAt(b)))==55296&&b+1<I&&(64512&(m=k.charCodeAt(b+1)))==56320&&(S=65536+(S-55296<<10)+(m-56320),b++),z+=S<128?1:S<2048?2:S<65536?3:4;for(w=o.uint8array?new Uint8Array(z):new Array(z),b=_=0;_<z;b++)(64512&(S=k.charCodeAt(b)))==55296&&b+1<I&&(64512&(m=k.charCodeAt(b+1)))==56320&&(S=65536+(S-55296<<10)+(m-56320),b++),S<128?w[_++]=S:(S<2048?w[_++]=192|S>>>6:(S<65536?w[_++]=224|S>>>12:(w[_++]=240|S>>>18,w[_++]=128|S>>>12&63),w[_++]=128|S>>>6&63),w[_++]=128|63&S);return w}(d)},i.utf8decode=function(d){return o.nodebuffer?a.transformTo("nodebuffer",d).toString("utf-8"):function(k){var w,S,m,b,_=k.length,I=new Array(2*_);for(w=S=0;w<_;)if((m=k[w++])<128)I[S++]=m;else if(4<(b=f[m]))I[S++]=65533,w+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&w<_;)m=m<<6|63&k[w++],b--;1<b?I[S++]=65533:m<65536?I[S++]=m:(m-=65536,I[S++]=55296|m>>10&1023,I[S++]=56320|1023&m)}return I.length!==S&&(I.subarray?I=I.subarray(0,S):I.length=S),a.applyFromCharCode(I)}(d=a.transformTo(o.uint8array?"uint8array":"array",d))},a.inherits(v,c),v.prototype.processChunk=function(d){var k=a.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=k;(k=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),k.set(w,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var S=function(b,_){var I;for((_=_||b.length)>b.length&&(_=b.length),I=_-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?_:I+f[b[I]]>_?I:_}(k),m=k;S!==k.length&&(o.uint8array?(m=k.subarray(0,S),this.leftOver=k.subarray(S,k.length)):(m=k.slice(0,S),this.leftOver=k.slice(S,k.length))),this.push({data:i.utf8decode(m),meta:d.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,a.inherits(y,c),y.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),c=r("./external");function f(w){return w}function p(w,S){for(var m=0;m<w.length;++m)S[m]=255&w.charCodeAt(m);return S}r("setimmediate"),i.newBlob=function(w,S){i.checkSupport("blob");try{return new Blob([w],{type:S})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(w),m.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(w,S,m){var b=[],_=0,I=w.length;if(I<=m)return String.fromCharCode.apply(null,w);for(;_<I;)S==="array"||S==="nodebuffer"?b.push(String.fromCharCode.apply(null,w.slice(_,Math.min(_+m,I)))):b.push(String.fromCharCode.apply(null,w.subarray(_,Math.min(_+m,I)))),_+=m;return b.join("")},stringifyByChar:function(w){for(var S="",m=0;m<w.length;m++)S+=String.fromCharCode(w[m]);return S},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function y(w){var S=65536,m=i.getTypeOf(w),b=!0;if(m==="uint8array"?b=v.applyCanBeUsed.uint8array:m==="nodebuffer"&&(b=v.applyCanBeUsed.nodebuffer),b)for(;1<S;)try{return v.stringifyByChunk(w,m,S)}catch{S=Math.floor(S/2)}return v.stringifyByChar(w)}function d(w,S){for(var m=0;m<w.length;m++)S[m]=w[m];return S}i.applyFromCharCode=y;var k={};k.string={string:f,array:function(w){return p(w,new Array(w.length))},arraybuffer:function(w){return k.string.uint8array(w).buffer},uint8array:function(w){return p(w,new Uint8Array(w.length))},nodebuffer:function(w){return p(w,s.allocBuffer(w.length))}},k.array={string:y,array:f,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return s.newBufferFrom(w)}},k.arraybuffer={string:function(w){return y(new Uint8Array(w))},array:function(w){return d(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:f,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return s.newBufferFrom(new Uint8Array(w))}},k.uint8array={string:y,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:f,nodebuffer:function(w){return s.newBufferFrom(w)}},k.nodebuffer={string:y,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return k.nodebuffer.uint8array(w).buffer},uint8array:function(w){return d(w,new Uint8Array(w.length))},nodebuffer:f},i.transformTo=function(w,S){if(S=S||"",!w)return S;i.checkSupport(w);var m=i.getTypeOf(S);return k[m][w](S)},i.resolve=function(w){for(var S=w.split("/"),m=[],b=0;b<S.length;b++){var _=S[b];_==="."||_===""&&b!==0&&b!==S.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(w)?"nodebuffer":a.uint8array&&w instanceof Uint8Array?"uint8array":a.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!a[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var S,m,b="";for(m=0;m<(w||"").length;m++)b+="\\x"+((S=w.charCodeAt(m))<16?"0":"")+S.toString(16).toUpperCase();return b},i.delay=function(w,S,m){setImmediate(function(){w.apply(m||null,S||[])})},i.inherits=function(w,S){function m(){}m.prototype=S.prototype,w.prototype=new m},i.extend=function(){var w,S,m={};for(w=0;w<arguments.length;w++)for(S in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],S)&&m[S]===void 0&&(m[S]=arguments[w][S]);return m},i.prepareContent=function(w,S,m,b,_){return c.Promise.resolve(S).then(function(I){return a.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new c.Promise(function(z,re){var $=new FileReader;$.onload=function(B){z(B.target.result)},$.onerror=function(B){re(B.target.error)},$.readAsArrayBuffer(I)}):I}).then(function(I){var z=i.getTypeOf(I);return z?(z==="arraybuffer"?I=i.transformTo("uint8array",I):z==="string"&&(_?I=o.decode(I):m&&b!==!0&&(I=function(re){return p(re,a.uint8array?new Uint8Array(re.length):new Array(re.length))}(I))),I):c.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),c=r("./zipEntry"),f=r("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(y)+", expected "+o.pretty(v)+")")}},isSignature:function(v,y){var d=this.reader.index;this.reader.setIndex(v);var k=this.reader.readString(4)===y;return this.reader.setIndex(d),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",d=o.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,d,k=this.zip64EndOfCentralSize-44;0<k;)v=this.reader.readInt(2),y=this.reader.readInt(4),d=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(v=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var k=y-d;if(0<k)this.isSignature(y,s.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(v){this.reader=a(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),c=r("./crc32"),f=r("./utf8"),p=r("./compressions"),v=r("./support");function y(d,k){this.options=d,this.loadOptions=k}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var k,w;if(d.skip(22),this.fileNameLength=d.readInt(2),w=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(S){for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)&&p[m].magic===S)return p[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,k,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var k=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(k),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var k,w,S,m=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<m;)k=d.readInt(2),w=d.readInt(2),S=d.readData(w),this.extraFields[k]={id:k,length:w,value:S};d.setIndex(m)},handleUTF8:function(){var d=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var w=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var m=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var k=a(d.value);return k.readInt(1)!==1||c(this.fileName)!==k.readInt(4)?null:f.utf8decode(k.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var k=a(d.value);return k.readInt(1)!==1||c(this.fileComment)!==k.readInt(4)?null:f.utf8decode(k.readData(d.length-5))}return null}},n.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(k,w,S){this.name=k,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=w,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),c=r("./utf8"),f=r("./compressedObject"),p=r("./stream/GenericWorker");a.prototype={internalStream:function(k){var w=null,S="string";try{if(!k)throw new Error("No output type specified.");var m=(S=k.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),w=this._decompressWorker();var b=!this._dataBinary;b&&!m&&(w=w.pipe(new c.Utf8EncodeWorker)),!b&&m&&(w=w.pipe(new c.Utf8DecodeWorker))}catch(_){(w=new p("error")).error(_)}return new o(w,S,"")},async:function(k,w){return this.internalStream(k).accumulate(w)},nodeStream:function(k,w){return this.internalStream(k||"nodebuffer").toNodejsStream(w)},_compressWorker:function(k,w){if(this._data instanceof f&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(S,k,w)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new s(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<v.length;d++)a.prototype[v[d]]=y;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var f=0,p=new c(k),v=a.document.createTextNode("");p.observe(v,{characterData:!0}),o=function(){v.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var w=a.document.createElement("script");w.onreadystatechange=function(){k(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},a.document.documentElement.appendChild(w)}:function(){setTimeout(k,0)};else{var y=new a.MessageChannel;y.port1.onmessage=k,o=function(){y.port2.postMessage(0)}}var d=[];function k(){var w,S;s=!0;for(var m=d.length;m;){for(S=d,d=[],w=-1;++w<m;)S[w]();m=d.length}s=!1}n.exports=function(w){d.push(w)!==1||s||o()}}).call(this,typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},c=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function v(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,m!==o&&w(this,m)}function y(m,b,_){this.promise=m,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function d(m,b,_){a(function(){var I;try{I=b(_)}catch(z){return s.reject(m,z)}I===m?s.reject(m,new TypeError("Cannot resolve promise with itself")):s.resolve(m,I)})}function k(m){var b=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof b=="function")return function(){b.apply(m,arguments)}}function w(m,b){var _=!1;function I($){_||(_=!0,s.reject(m,$))}function z($){_||(_=!0,s.resolve(m,$))}var re=S(function(){b(z,I)});re.status==="error"&&I(re.value)}function S(m,b){var _={};try{_.value=m(b),_.status="success"}catch(I){_.status="error",_.value=I}return _}(n.exports=v).prototype.finally=function(m){if(typeof m!="function")return this;var b=this.constructor;return this.then(function(_){return b.resolve(m()).then(function(){return _})},function(_){return b.resolve(m()).then(function(){throw _})})},v.prototype.catch=function(m){return this.then(null,m)},v.prototype.then=function(m,b){if(typeof m!="function"&&this.state===f||typeof b!="function"&&this.state===c)return this;var _=new this.constructor(o);return this.state!==p?d(_,this.state===f?m:b,this.outcome):this.queue.push(new y(_,m,b)),_},y.prototype.callFulfilled=function(m){s.resolve(this.promise,m)},y.prototype.otherCallFulfilled=function(m){d(this.promise,this.onFulfilled,m)},y.prototype.callRejected=function(m){s.reject(this.promise,m)},y.prototype.otherCallRejected=function(m){d(this.promise,this.onRejected,m)},s.resolve=function(m,b){var _=S(k,b);if(_.status==="error")return s.reject(m,_.value);var I=_.value;if(I)w(m,I);else{m.state=f,m.outcome=b;for(var z=-1,re=m.queue.length;++z<re;)m.queue[z].callFulfilled(b)}return m},s.reject=function(m,b){m.state=c,m.outcome=b;for(var _=-1,I=m.queue.length;++_<I;)m.queue[_].callRejected(b);return m},v.resolve=function(m){return m instanceof this?m:s.resolve(new this(o),m)},v.reject=function(m){var b=new this(o);return s.reject(b,m)},v.all=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,I=!1;if(!_)return this.resolve([]);for(var z=new Array(_),re=0,$=-1,B=new this(o);++$<_;)Z(m[$],$);return B;function Z(se,U){b.resolve(se).then(function(L){z[U]=L,++re!==_||I||(I=!0,s.resolve(B,z))},function(L){I||(I=!0,s.reject(B,L))})}},v.race=function(m){var b=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,I=!1;if(!_)return this.resolve([]);for(var z=-1,re=new this(o);++z<_;)$=m[z],b.resolve($).then(function(B){I||(I=!0,s.resolve(re,B))},function(B){I||(I=!0,s.reject(re,B))});var $;return re}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),c=r("./zlib/messages"),f=r("./zlib/zstream"),p=Object.prototype.toString,v=0,y=-1,d=0,k=8;function w(m){if(!(this instanceof w))return new w(m);this.options=o.assign({level:y,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},m||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(_!==v)throw new Error(c[_]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?s.string2buf(b.dictionary):p.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(_=a.deflateSetDictionary(this.strm,I))!==v)throw new Error(c[_]);this._dict_set=!0}}function S(m,b){var _=new w(b);if(_.push(m,!0),_.err)throw _.msg||c[_.err];return _.result}w.prototype.push=function(m,b){var _,I,z=this.strm,re=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof m=="string"?z.input=s.string2buf(m):p.call(m)==="[object ArrayBuffer]"?z.input=new Uint8Array(m):z.input=m,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new o.Buf8(re),z.next_out=0,z.avail_out=re),(_=a.deflate(z,I))!==1&&_!==v)return this.onEnd(_),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(z.output,z.next_out))):this.onData(o.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&_!==1);return I===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===v):I!==2||(this.onEnd(v),!(z.avail_out=0))},w.prototype.onData=function(m){this.chunks.push(m)},w.prototype.onEnd=function(m){m===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=w,i.deflate=S,i.deflateRaw=function(m,b){return(b=b||{}).raw=!0,S(m,b)},i.gzip=function(m,b){return(b=b||{}).gzip=!0,S(m,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),c=r("./zlib/constants"),f=r("./zlib/messages"),p=r("./zlib/zstream"),v=r("./zlib/gzheader"),y=Object.prototype.toString;function d(w){if(!(this instanceof d))return new d(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||w&&w.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&!(15&S.windowBits)&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=a.inflateInit2(this.strm,S.windowBits);if(m!==c.Z_OK)throw new Error(f[m]);this.header=new v,a.inflateGetHeader(this.strm,this.header)}function k(w,S){var m=new d(S);if(m.push(w,!0),m.err)throw m.msg||f[m.err];return m.result}d.prototype.push=function(w,S){var m,b,_,I,z,re,$=this.strm,B=this.options.chunkSize,Z=this.options.dictionary,se=!1;if(this.ended)return!1;b=S===~~S?S:S===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof w=="string"?$.input=s.binstring2buf(w):y.call(w)==="[object ArrayBuffer]"?$.input=new Uint8Array(w):$.input=w,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new o.Buf8(B),$.next_out=0,$.avail_out=B),(m=a.inflate($,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&Z&&(re=typeof Z=="string"?s.string2buf(Z):y.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,m=a.inflateSetDictionary(this.strm,re)),m===c.Z_BUF_ERROR&&se===!0&&(m=c.Z_OK,se=!1),m!==c.Z_STREAM_END&&m!==c.Z_OK)return this.onEnd(m),!(this.ended=!0);$.next_out&&($.avail_out!==0&&m!==c.Z_STREAM_END&&($.avail_in!==0||b!==c.Z_FINISH&&b!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=s.utf8border($.output,$.next_out),I=$.next_out-_,z=s.buf2string($.output,_),$.next_out=I,$.avail_out=B-I,I&&o.arraySet($.output,$.output,_,I,0),this.onData(z)):this.onData(o.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(se=!0)}while((0<$.avail_in||$.avail_out===0)&&m!==c.Z_STREAM_END);return m===c.Z_STREAM_END&&(b=c.Z_FINISH),b===c.Z_FINISH?(m=a.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===c.Z_OK):b!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!($.avail_out=0))},d.prototype.onData=function(w){this.chunks.push(w)},d.prototype.onEnd=function(w){w===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=d,i.inflate=k,i.inflateRaw=function(w,S){return(S=S||{}).raw=!0,k(w,S)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(c[v]=p[v])}}return c},i.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var o={arraySet:function(c,f,p,v,y){if(f.subarray&&c.subarray)c.set(f.subarray(p,p+v),y);else for(var d=0;d<v;d++)c[y+d]=f[p+d]},flattenChunks:function(c){var f,p,v,y,d,k;for(f=v=0,p=c.length;f<p;f++)v+=c[f].length;for(k=new Uint8Array(v),f=y=0,p=c.length;f<p;f++)d=c[f],k.set(d,y),y+=d.length;return k}},s={arraySet:function(c,f,p,v,y){for(var d=0;d<v;d++)c[y+d]=f[p+d]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var c=new a.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(v,y){if(y<65537&&(v.subarray&&s||!v.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(v,y));for(var d="",k=0;k<y;k++)d+=String.fromCharCode(v[k]);return d}c[254]=c[254]=1,i.string2buf=function(v){var y,d,k,w,S,m=v.length,b=0;for(w=0;w<m;w++)(64512&(d=v.charCodeAt(w)))==55296&&w+1<m&&(64512&(k=v.charCodeAt(w+1)))==56320&&(d=65536+(d-55296<<10)+(k-56320),w++),b+=d<128?1:d<2048?2:d<65536?3:4;for(y=new a.Buf8(b),w=S=0;S<b;w++)(64512&(d=v.charCodeAt(w)))==55296&&w+1<m&&(64512&(k=v.charCodeAt(w+1)))==56320&&(d=65536+(d-55296<<10)+(k-56320),w++),d<128?y[S++]=d:(d<2048?y[S++]=192|d>>>6:(d<65536?y[S++]=224|d>>>12:(y[S++]=240|d>>>18,y[S++]=128|d>>>12&63),y[S++]=128|d>>>6&63),y[S++]=128|63&d);return y},i.buf2binstring=function(v){return p(v,v.length)},i.binstring2buf=function(v){for(var y=new a.Buf8(v.length),d=0,k=y.length;d<k;d++)y[d]=v.charCodeAt(d);return y},i.buf2string=function(v,y){var d,k,w,S,m=y||v.length,b=new Array(2*m);for(d=k=0;d<m;)if((w=v[d++])<128)b[k++]=w;else if(4<(S=c[w]))b[k++]=65533,d+=S-1;else{for(w&=S===2?31:S===3?15:7;1<S&&d<m;)w=w<<6|63&v[d++],S--;1<S?b[k++]=65533:w<65536?b[k++]=w:(w-=65536,b[k++]=55296|w>>10&1023,b[k++]=56320|1023&w)}return p(b,k)},i.utf8border=function(v,y){var d;for((y=y||v.length)>v.length&&(y=v.length),d=y-1;0<=d&&(192&v[d])==128;)d--;return d<0||d===0?y:d+c[v[d]]>y?d:y}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,c){for(var f=65535&a|0,p=a>>>16&65535|0,v=0;s!==0;){for(s-=v=2e3<s?2e3:s;p=p+(f=f+o[c++]|0)|0,--v;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var o,s=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;s[c]=o}return s}();n.exports=function(o,s,c,f){var p=a,v=f+c;o^=-1;for(var y=f;y<v;y++)o=o>>>8^p[255&(o^s[y])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),c=r("./adler32"),f=r("./crc32"),p=r("./messages"),v=0,y=4,d=0,k=-2,w=-1,S=4,m=2,b=8,_=9,I=286,z=30,re=19,$=2*I+1,B=15,Z=3,se=258,U=se+Z+1,L=42,H=113,N=1,le=2,ve=3,de=4;function ne(P,te){return P.msg=p[te],te}function ee(P){return(P<<1)-(4<P?9:0)}function me(P){for(var te=P.length;0<=--te;)P[te]=0}function ue(P){var te=P.state,E=te.pending;E>P.avail_out&&(E=P.avail_out),E!==0&&(o.arraySet(P.output,te.pending_buf,te.pending_out,E,P.next_out),P.next_out+=E,te.pending_out+=E,P.total_out+=E,P.avail_out-=E,te.pending-=E,te.pending===0&&(te.pending_out=0))}function A(P,te){s._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,te),P.block_start=P.strstart,ue(P.strm)}function V(P,te){P.pending_buf[P.pending++]=te}function Y(P,te){P.pending_buf[P.pending++]=te>>>8&255,P.pending_buf[P.pending++]=255&te}function K(P,te){var E,J,C=P.max_chain_length,O=P.strstart,T=P.prev_length,X=P.nice_match,M=P.strstart>P.w_size-U?P.strstart-(P.w_size-U):0,ie=P.window,ce=P.w_mask,fe=P.prev,Me=P.strstart+se,ze=ie[O+T-1],he=ie[O+T];P.prev_length>=P.good_match&&(C>>=2),X>P.lookahead&&(X=P.lookahead);do if(ie[(E=te)+T]===he&&ie[E+T-1]===ze&&ie[E]===ie[O]&&ie[++E]===ie[O+1]){O+=2,E++;do;while(ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&ie[++O]===ie[++E]&&O<Me);if(J=se-(Me-O),O=Me-se,T<J){if(P.match_start=te,X<=(T=J))break;ze=ie[O+T-1],he=ie[O+T]}}while((te=fe[te&ce])>M&&--C!=0);return T<=P.lookahead?T:P.lookahead}function pe(P){var te,E,J,C,O,T,X,M,ie,ce,fe=P.w_size;do{if(C=P.window_size-P.lookahead-P.strstart,P.strstart>=fe+(fe-U)){for(o.arraySet(P.window,P.window,fe,fe,0),P.match_start-=fe,P.strstart-=fe,P.block_start-=fe,te=E=P.hash_size;J=P.head[--te],P.head[te]=fe<=J?J-fe:0,--E;);for(te=E=fe;J=P.prev[--te],P.prev[te]=fe<=J?J-fe:0,--E;);C+=fe}if(P.strm.avail_in===0)break;if(T=P.strm,X=P.window,M=P.strstart+P.lookahead,ie=C,ce=void 0,ce=T.avail_in,ie<ce&&(ce=ie),E=ce===0?0:(T.avail_in-=ce,o.arraySet(X,T.input,T.next_in,ce,M),T.state.wrap===1?T.adler=c(T.adler,X,ce,M):T.state.wrap===2&&(T.adler=f(T.adler,X,ce,M)),T.next_in+=ce,T.total_in+=ce,ce),P.lookahead+=E,P.lookahead+P.insert>=Z)for(O=P.strstart-P.insert,P.ins_h=P.window[O],P.ins_h=(P.ins_h<<P.hash_shift^P.window[O+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[O+Z-1])&P.hash_mask,P.prev[O&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=O,O++,P.insert--,!(P.lookahead+P.insert<Z)););}while(P.lookahead<U&&P.strm.avail_in!==0)}function je(P,te){for(var E,J;;){if(P.lookahead<U){if(pe(P),P.lookahead<U&&te===v)return N;if(P.lookahead===0)break}if(E=0,P.lookahead>=Z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+Z-1])&P.hash_mask,E=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),E!==0&&P.strstart-E<=P.w_size-U&&(P.match_length=K(P,E)),P.match_length>=Z)if(J=s._tr_tally(P,P.strstart-P.match_start,P.match_length-Z),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=Z){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+Z-1])&P.hash_mask,E=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else J=s._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(J&&(A(P,!1),P.strm.avail_out===0))return N}return P.insert=P.strstart<Z-1?P.strstart:Z-1,te===y?(A(P,!0),P.strm.avail_out===0?ve:de):P.last_lit&&(A(P,!1),P.strm.avail_out===0)?N:le}function ke(P,te){for(var E,J,C;;){if(P.lookahead<U){if(pe(P),P.lookahead<U&&te===v)return N;if(P.lookahead===0)break}if(E=0,P.lookahead>=Z&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+Z-1])&P.hash_mask,E=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=Z-1,E!==0&&P.prev_length<P.max_lazy_match&&P.strstart-E<=P.w_size-U&&(P.match_length=K(P,E),P.match_length<=5&&(P.strategy===1||P.match_length===Z&&4096<P.strstart-P.match_start)&&(P.match_length=Z-1)),P.prev_length>=Z&&P.match_length<=P.prev_length){for(C=P.strstart+P.lookahead-Z,J=s._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-Z),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=C&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+Z-1])&P.hash_mask,E=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=Z-1,P.strstart++,J&&(A(P,!1),P.strm.avail_out===0))return N}else if(P.match_available){if((J=s._tr_tally(P,0,P.window[P.strstart-1]))&&A(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return N}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(J=s._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<Z-1?P.strstart:Z-1,te===y?(A(P,!0),P.strm.avail_out===0?ve:de):P.last_lit&&(A(P,!1),P.strm.avail_out===0)?N:le}function oe(P,te,E,J,C){this.good_length=P,this.max_lazy=te,this.nice_length=E,this.max_chain=J,this.func=C}function Se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*$),this.dyn_dtree=new o.Buf16(2*(2*z+1)),this.bl_tree=new o.Buf16(2*(2*re+1)),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(B+1),this.heap=new o.Buf16(2*I+1),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*I+1),me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(P){var te;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=m,(te=P.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?L:H,P.adler=te.wrap===2?0:1,te.last_flush=v,s._tr_init(te),d):ne(P,k)}function De(P){var te=be(P);return te===d&&function(E){E.window_size=2*E.w_size,me(E.head),E.max_lazy_match=a[E.level].max_lazy,E.good_match=a[E.level].good_length,E.nice_match=a[E.level].nice_length,E.max_chain_length=a[E.level].max_chain,E.strstart=0,E.block_start=0,E.lookahead=0,E.insert=0,E.match_length=E.prev_length=Z-1,E.match_available=0,E.ins_h=0}(P.state),te}function Oe(P,te,E,J,C,O){if(!P)return k;var T=1;if(te===w&&(te=6),J<0?(T=0,J=-J):15<J&&(T=2,J-=16),C<1||_<C||E!==b||J<8||15<J||te<0||9<te||O<0||S<O)return ne(P,k);J===8&&(J=9);var X=new Se;return(P.state=X).strm=P,X.wrap=T,X.gzhead=null,X.w_bits=J,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=C+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+Z-1)/Z),X.window=new o.Buf8(2*X.w_size),X.head=new o.Buf16(X.hash_size),X.prev=new o.Buf16(X.w_size),X.lit_bufsize=1<<C+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new o.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=te,X.strategy=O,X.method=E,De(P)}a=[new oe(0,0,0,0,function(P,te){var E=65535;for(E>P.pending_buf_size-5&&(E=P.pending_buf_size-5);;){if(P.lookahead<=1){if(pe(P),P.lookahead===0&&te===v)return N;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var J=P.block_start+E;if((P.strstart===0||P.strstart>=J)&&(P.lookahead=P.strstart-J,P.strstart=J,A(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-U&&(A(P,!1),P.strm.avail_out===0))return N}return P.insert=0,te===y?(A(P,!0),P.strm.avail_out===0?ve:de):(P.strstart>P.block_start&&(A(P,!1),P.strm.avail_out),N)}),new oe(4,4,8,4,je),new oe(4,5,16,8,je),new oe(4,6,32,32,je),new oe(4,4,16,16,ke),new oe(8,16,32,32,ke),new oe(8,16,128,128,ke),new oe(8,32,128,256,ke),new oe(32,128,258,1024,ke),new oe(32,258,258,4096,ke)],i.deflateInit=function(P,te){return Oe(P,te,b,15,8,0)},i.deflateInit2=Oe,i.deflateReset=De,i.deflateResetKeep=be,i.deflateSetHeader=function(P,te){return P&&P.state?P.state.wrap!==2?k:(P.state.gzhead=te,d):k},i.deflate=function(P,te){var E,J,C,O;if(!P||!P.state||5<te||te<0)return P?ne(P,k):k;if(J=P.state,!P.output||!P.input&&P.avail_in!==0||J.status===666&&te!==y)return ne(P,P.avail_out===0?-5:k);if(J.strm=P,E=J.last_flush,J.last_flush=te,J.status===L)if(J.wrap===2)P.adler=0,V(J,31),V(J,139),V(J,8),J.gzhead?(V(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),V(J,255&J.gzhead.time),V(J,J.gzhead.time>>8&255),V(J,J.gzhead.time>>16&255),V(J,J.gzhead.time>>24&255),V(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),V(J,255&J.gzhead.os),J.gzhead.extra&&J.gzhead.extra.length&&(V(J,255&J.gzhead.extra.length),V(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(P.adler=f(P.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=69):(V(J,0),V(J,0),V(J,0),V(J,0),V(J,0),V(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),V(J,3),J.status=H);else{var T=b+(J.w_bits-8<<4)<<8;T|=(2<=J.strategy||J.level<2?0:J.level<6?1:J.level===6?2:3)<<6,J.strstart!==0&&(T|=32),T+=31-T%31,J.status=H,Y(J,T),J.strstart!==0&&(Y(J,P.adler>>>16),Y(J,65535&P.adler)),P.adler=1}if(J.status===69)if(J.gzhead.extra){for(C=J.pending;J.gzindex<(65535&J.gzhead.extra.length)&&(J.pending!==J.pending_buf_size||(J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),ue(P),C=J.pending,J.pending!==J.pending_buf_size));)V(J,255&J.gzhead.extra[J.gzindex]),J.gzindex++;J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),J.gzindex===J.gzhead.extra.length&&(J.gzindex=0,J.status=73)}else J.status=73;if(J.status===73)if(J.gzhead.name){C=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),ue(P),C=J.pending,J.pending===J.pending_buf_size)){O=1;break}O=J.gzindex<J.gzhead.name.length?255&J.gzhead.name.charCodeAt(J.gzindex++):0,V(J,O)}while(O!==0);J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),O===0&&(J.gzindex=0,J.status=91)}else J.status=91;if(J.status===91)if(J.gzhead.comment){C=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),ue(P),C=J.pending,J.pending===J.pending_buf_size)){O=1;break}O=J.gzindex<J.gzhead.comment.length?255&J.gzhead.comment.charCodeAt(J.gzindex++):0,V(J,O)}while(O!==0);J.gzhead.hcrc&&J.pending>C&&(P.adler=f(P.adler,J.pending_buf,J.pending-C,C)),O===0&&(J.status=103)}else J.status=103;if(J.status===103&&(J.gzhead.hcrc?(J.pending+2>J.pending_buf_size&&ue(P),J.pending+2<=J.pending_buf_size&&(V(J,255&P.adler),V(J,P.adler>>8&255),P.adler=0,J.status=H)):J.status=H),J.pending!==0){if(ue(P),P.avail_out===0)return J.last_flush=-1,d}else if(P.avail_in===0&&ee(te)<=ee(E)&&te!==y)return ne(P,-5);if(J.status===666&&P.avail_in!==0)return ne(P,-5);if(P.avail_in!==0||J.lookahead!==0||te!==v&&J.status!==666){var X=J.strategy===2?function(M,ie){for(var ce;;){if(M.lookahead===0&&(pe(M),M.lookahead===0)){if(ie===v)return N;break}if(M.match_length=0,ce=s._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,ce&&(A(M,!1),M.strm.avail_out===0))return N}return M.insert=0,ie===y?(A(M,!0),M.strm.avail_out===0?ve:de):M.last_lit&&(A(M,!1),M.strm.avail_out===0)?N:le}(J,te):J.strategy===3?function(M,ie){for(var ce,fe,Me,ze,he=M.window;;){if(M.lookahead<=se){if(pe(M),M.lookahead<=se&&ie===v)return N;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=Z&&0<M.strstart&&(fe=he[Me=M.strstart-1])===he[++Me]&&fe===he[++Me]&&fe===he[++Me]){ze=M.strstart+se;do;while(fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&fe===he[++Me]&&Me<ze);M.match_length=se-(ze-Me),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=Z?(ce=s._tr_tally(M,1,M.match_length-Z),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(ce=s._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),ce&&(A(M,!1),M.strm.avail_out===0))return N}return M.insert=0,ie===y?(A(M,!0),M.strm.avail_out===0?ve:de):M.last_lit&&(A(M,!1),M.strm.avail_out===0)?N:le}(J,te):a[J.level].func(J,te);if(X!==ve&&X!==de||(J.status=666),X===N||X===ve)return P.avail_out===0&&(J.last_flush=-1),d;if(X===le&&(te===1?s._tr_align(J):te!==5&&(s._tr_stored_block(J,0,0,!1),te===3&&(me(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),ue(P),P.avail_out===0))return J.last_flush=-1,d}return te!==y?d:J.wrap<=0?1:(J.wrap===2?(V(J,255&P.adler),V(J,P.adler>>8&255),V(J,P.adler>>16&255),V(J,P.adler>>24&255),V(J,255&P.total_in),V(J,P.total_in>>8&255),V(J,P.total_in>>16&255),V(J,P.total_in>>24&255)):(Y(J,P.adler>>>16),Y(J,65535&P.adler)),ue(P),0<J.wrap&&(J.wrap=-J.wrap),J.pending!==0?d:1)},i.deflateEnd=function(P){var te;return P&&P.state?(te=P.state.status)!==L&&te!==69&&te!==73&&te!==91&&te!==103&&te!==H&&te!==666?ne(P,k):(P.state=null,te===H?ne(P,-3):d):k},i.deflateSetDictionary=function(P,te){var E,J,C,O,T,X,M,ie,ce=te.length;if(!P||!P.state||(O=(E=P.state).wrap)===2||O===1&&E.status!==L||E.lookahead)return k;for(O===1&&(P.adler=c(P.adler,te,ce,0)),E.wrap=0,ce>=E.w_size&&(O===0&&(me(E.head),E.strstart=0,E.block_start=0,E.insert=0),ie=new o.Buf8(E.w_size),o.arraySet(ie,te,ce-E.w_size,E.w_size,0),te=ie,ce=E.w_size),T=P.avail_in,X=P.next_in,M=P.input,P.avail_in=ce,P.next_in=0,P.input=te,pe(E);E.lookahead>=Z;){for(J=E.strstart,C=E.lookahead-(Z-1);E.ins_h=(E.ins_h<<E.hash_shift^E.window[J+Z-1])&E.hash_mask,E.prev[J&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=J,J++,--C;);E.strstart=J,E.lookahead=Z-1,pe(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=Z-1,E.match_available=0,P.next_in=X,P.input=M,P.avail_in=T,E.wrap=O,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,c,f,p,v,y,d,k,w,S,m,b,_,I,z,re,$,B,Z,se,U,L,H,N,le;s=a.state,c=a.next_in,N=a.input,f=c+(a.avail_in-5),p=a.next_out,le=a.output,v=p-(o-a.avail_out),y=p+(a.avail_out-257),d=s.dmax,k=s.wsize,w=s.whave,S=s.wnext,m=s.window,b=s.hold,_=s.bits,I=s.lencode,z=s.distcode,re=(1<<s.lenbits)-1,$=(1<<s.distbits)-1;e:do{_<15&&(b+=N[c++]<<_,_+=8,b+=N[c++]<<_,_+=8),B=I[b&re];t:for(;;){if(b>>>=Z=B>>>24,_-=Z,(Z=B>>>16&255)===0)le[p++]=65535&B;else{if(!(16&Z)){if(!(64&Z)){B=I[(65535&B)+(b&(1<<Z)-1)];continue t}if(32&Z){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}se=65535&B,(Z&=15)&&(_<Z&&(b+=N[c++]<<_,_+=8),se+=b&(1<<Z)-1,b>>>=Z,_-=Z),_<15&&(b+=N[c++]<<_,_+=8,b+=N[c++]<<_,_+=8),B=z[b&$];r:for(;;){if(b>>>=Z=B>>>24,_-=Z,!(16&(Z=B>>>16&255))){if(!(64&Z)){B=z[(65535&B)+(b&(1<<Z)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(U=65535&B,_<(Z&=15)&&(b+=N[c++]<<_,(_+=8)<Z&&(b+=N[c++]<<_,_+=8)),d<(U+=b&(1<<Z)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=Z,_-=Z,(Z=p-v)<U){if(w<(Z=U-Z)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(H=m,(L=0)===S){if(L+=k-Z,Z<se){for(se-=Z;le[p++]=m[L++],--Z;);L=p-U,H=le}}else if(S<Z){if(L+=k+S-Z,(Z-=S)<se){for(se-=Z;le[p++]=m[L++],--Z;);if(L=0,S<se){for(se-=Z=S;le[p++]=m[L++],--Z;);L=p-U,H=le}}}else if(L+=S-Z,Z<se){for(se-=Z;le[p++]=m[L++],--Z;);L=p-U,H=le}for(;2<se;)le[p++]=H[L++],le[p++]=H[L++],le[p++]=H[L++],se-=3;se&&(le[p++]=H[L++],1<se&&(le[p++]=H[L++]))}else{for(L=p-U;le[p++]=le[L++],le[p++]=le[L++],le[p++]=le[L++],2<(se-=3););se&&(le[p++]=le[L++],1<se&&(le[p++]=le[L++]))}break}}break}}while(c<f&&p<y);c-=se=_>>3,b&=(1<<(_-=se<<3))-1,a.next_in=c,a.next_out=p,a.avail_in=c<f?f-c+5:5-(c-f),a.avail_out=p<y?y-p+257:257-(p-y),s.hold=b,s.bits=_}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),c=r("./inffast"),f=r("./inftrees"),p=1,v=2,y=0,d=-2,k=1,w=852,S=592;function m(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(L){var H;return L&&L.state?(H=L.state,L.total_in=L.total_out=H.total=0,L.msg="",H.wrap&&(L.adler=1&H.wrap),H.mode=k,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new a.Buf32(w),H.distcode=H.distdyn=new a.Buf32(S),H.sane=1,H.back=-1,y):d}function I(L){var H;return L&&L.state?((H=L.state).wsize=0,H.whave=0,H.wnext=0,_(L)):d}function z(L,H){var N,le;return L&&L.state?(le=L.state,H<0?(N=0,H=-H):(N=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?d:(le.window!==null&&le.wbits!==H&&(le.window=null),le.wrap=N,le.wbits=H,I(L))):d}function re(L,H){var N,le;return L?(le=new b,(L.state=le).window=null,(N=z(L,H))!==y&&(L.state=null),N):d}var $,B,Z=!0;function se(L){if(Z){var H;for($=new a.Buf32(512),B=new a.Buf32(32),H=0;H<144;)L.lens[H++]=8;for(;H<256;)L.lens[H++]=9;for(;H<280;)L.lens[H++]=7;for(;H<288;)L.lens[H++]=8;for(f(p,L.lens,0,288,$,0,L.work,{bits:9}),H=0;H<32;)L.lens[H++]=5;f(v,L.lens,0,32,B,0,L.work,{bits:5}),Z=!1}L.lencode=$,L.lenbits=9,L.distcode=B,L.distbits=5}function U(L,H,N,le){var ve,de=L.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new a.Buf8(de.wsize)),le>=de.wsize?(a.arraySet(de.window,H,N-de.wsize,de.wsize,0),de.wnext=0,de.whave=de.wsize):(le<(ve=de.wsize-de.wnext)&&(ve=le),a.arraySet(de.window,H,N-le,ve,de.wnext),(le-=ve)?(a.arraySet(de.window,H,N-le,le,0),de.wnext=le,de.whave=de.wsize):(de.wnext+=ve,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=ve))),0}i.inflateReset=I,i.inflateReset2=z,i.inflateResetKeep=_,i.inflateInit=function(L){return re(L,15)},i.inflateInit2=re,i.inflate=function(L,H){var N,le,ve,de,ne,ee,me,ue,A,V,Y,K,pe,je,ke,oe,Se,be,De,Oe,P,te,E,J,C=0,O=new a.Buf8(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return d;(N=L.state).mode===12&&(N.mode=13),ne=L.next_out,ve=L.output,me=L.avail_out,de=L.next_in,le=L.input,ee=L.avail_in,ue=N.hold,A=N.bits,V=ee,Y=me,te=y;e:for(;;)switch(N.mode){case k:if(N.wrap===0){N.mode=13;break}for(;A<16;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(2&N.wrap&&ue===35615){O[N.check=0]=255&ue,O[1]=ue>>>8&255,N.check=s(N.check,O,2,0),A=ue=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&ue)<<8)+(ue>>8))%31){L.msg="incorrect header check",N.mode=30;break}if((15&ue)!=8){L.msg="unknown compression method",N.mode=30;break}if(A-=4,P=8+(15&(ue>>>=4)),N.wbits===0)N.wbits=P;else if(P>N.wbits){L.msg="invalid window size",N.mode=30;break}N.dmax=1<<P,L.adler=N.check=1,N.mode=512&ue?10:12,A=ue=0;break;case 2:for(;A<16;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(N.flags=ue,(255&N.flags)!=8){L.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){L.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=ue>>8&1),512&N.flags&&(O[0]=255&ue,O[1]=ue>>>8&255,N.check=s(N.check,O,2,0)),A=ue=0,N.mode=3;case 3:for(;A<32;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.head&&(N.head.time=ue),512&N.flags&&(O[0]=255&ue,O[1]=ue>>>8&255,O[2]=ue>>>16&255,O[3]=ue>>>24&255,N.check=s(N.check,O,4,0)),A=ue=0,N.mode=4;case 4:for(;A<16;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.head&&(N.head.xflags=255&ue,N.head.os=ue>>8),512&N.flags&&(O[0]=255&ue,O[1]=ue>>>8&255,N.check=s(N.check,O,2,0)),A=ue=0,N.mode=5;case 5:if(1024&N.flags){for(;A<16;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.length=ue,N.head&&(N.head.extra_len=ue),512&N.flags&&(O[0]=255&ue,O[1]=ue>>>8&255,N.check=s(N.check,O,2,0)),A=ue=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(ee<(K=N.length)&&(K=ee),K&&(N.head&&(P=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),a.arraySet(N.head.extra,le,de,K,P)),512&N.flags&&(N.check=s(N.check,le,K,de)),ee-=K,de+=K,N.length-=K),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(ee===0)break e;for(K=0;P=le[de+K++],N.head&&P&&N.length<65536&&(N.head.name+=String.fromCharCode(P)),P&&K<ee;);if(512&N.flags&&(N.check=s(N.check,le,K,de)),ee-=K,de+=K,P)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(ee===0)break e;for(K=0;P=le[de+K++],N.head&&P&&N.length<65536&&(N.head.comment+=String.fromCharCode(P)),P&&K<ee;);if(512&N.flags&&(N.check=s(N.check,le,K,de)),ee-=K,de+=K,P)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;A<16;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(ue!==(65535&N.check)){L.msg="header crc mismatch",N.mode=30;break}A=ue=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),L.adler=N.check=0,N.mode=12;break;case 10:for(;A<32;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}L.adler=N.check=m(ue),A=ue=0,N.mode=11;case 11:if(N.havedict===0)return L.next_out=ne,L.avail_out=me,L.next_in=de,L.avail_in=ee,N.hold=ue,N.bits=A,2;L.adler=N.check=1,N.mode=12;case 12:if(H===5||H===6)break e;case 13:if(N.last){ue>>>=7&A,A-=7&A,N.mode=27;break}for(;A<3;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}switch(N.last=1&ue,A-=1,3&(ue>>>=1)){case 0:N.mode=14;break;case 1:if(se(N),N.mode=20,H!==6)break;ue>>>=2,A-=2;break e;case 2:N.mode=17;break;case 3:L.msg="invalid block type",N.mode=30}ue>>>=2,A-=2;break;case 14:for(ue>>>=7&A,A-=7&A;A<32;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if((65535&ue)!=(ue>>>16^65535)){L.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&ue,A=ue=0,N.mode=15,H===6)break e;case 15:N.mode=16;case 16:if(K=N.length){if(ee<K&&(K=ee),me<K&&(K=me),K===0)break e;a.arraySet(ve,le,de,K,ne),ee-=K,de+=K,me-=K,ne+=K,N.length-=K;break}N.mode=12;break;case 17:for(;A<14;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(N.nlen=257+(31&ue),ue>>>=5,A-=5,N.ndist=1+(31&ue),ue>>>=5,A-=5,N.ncode=4+(15&ue),ue>>>=4,A-=4,286<N.nlen||30<N.ndist){L.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;A<3;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.lens[T[N.have++]]=7&ue,ue>>>=3,A-=3}for(;N.have<19;)N.lens[T[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,E={bits:N.lenbits},te=f(0,N.lens,0,19,N.lencode,0,N.work,E),N.lenbits=E.bits,te){L.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;oe=(C=N.lencode[ue&(1<<N.lenbits)-1])>>>16&255,Se=65535&C,!((ke=C>>>24)<=A);){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(Se<16)ue>>>=ke,A-=ke,N.lens[N.have++]=Se;else{if(Se===16){for(J=ke+2;A<J;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(ue>>>=ke,A-=ke,N.have===0){L.msg="invalid bit length repeat",N.mode=30;break}P=N.lens[N.have-1],K=3+(3&ue),ue>>>=2,A-=2}else if(Se===17){for(J=ke+3;A<J;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}A-=ke,P=0,K=3+(7&(ue>>>=ke)),ue>>>=3,A-=3}else{for(J=ke+7;A<J;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}A-=ke,P=0,K=11+(127&(ue>>>=ke)),ue>>>=7,A-=7}if(N.have+K>N.nlen+N.ndist){L.msg="invalid bit length repeat",N.mode=30;break}for(;K--;)N.lens[N.have++]=P}}if(N.mode===30)break;if(N.lens[256]===0){L.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,E={bits:N.lenbits},te=f(p,N.lens,0,N.nlen,N.lencode,0,N.work,E),N.lenbits=E.bits,te){L.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,E={bits:N.distbits},te=f(v,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,E),N.distbits=E.bits,te){L.msg="invalid distances set",N.mode=30;break}if(N.mode=20,H===6)break e;case 20:N.mode=21;case 21:if(6<=ee&&258<=me){L.next_out=ne,L.avail_out=me,L.next_in=de,L.avail_in=ee,N.hold=ue,N.bits=A,c(L,Y),ne=L.next_out,ve=L.output,me=L.avail_out,de=L.next_in,le=L.input,ee=L.avail_in,ue=N.hold,A=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;oe=(C=N.lencode[ue&(1<<N.lenbits)-1])>>>16&255,Se=65535&C,!((ke=C>>>24)<=A);){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(oe&&!(240&oe)){for(be=ke,De=oe,Oe=Se;oe=(C=N.lencode[Oe+((ue&(1<<be+De)-1)>>be)])>>>16&255,Se=65535&C,!(be+(ke=C>>>24)<=A);){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}ue>>>=be,A-=be,N.back+=be}if(ue>>>=ke,A-=ke,N.back+=ke,N.length=Se,oe===0){N.mode=26;break}if(32&oe){N.back=-1,N.mode=12;break}if(64&oe){L.msg="invalid literal/length code",N.mode=30;break}N.extra=15&oe,N.mode=22;case 22:if(N.extra){for(J=N.extra;A<J;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.length+=ue&(1<<N.extra)-1,ue>>>=N.extra,A-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;oe=(C=N.distcode[ue&(1<<N.distbits)-1])>>>16&255,Se=65535&C,!((ke=C>>>24)<=A);){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(!(240&oe)){for(be=ke,De=oe,Oe=Se;oe=(C=N.distcode[Oe+((ue&(1<<be+De)-1)>>be)])>>>16&255,Se=65535&C,!(be+(ke=C>>>24)<=A);){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}ue>>>=be,A-=be,N.back+=be}if(ue>>>=ke,A-=ke,N.back+=ke,64&oe){L.msg="invalid distance code",N.mode=30;break}N.offset=Se,N.extra=15&oe,N.mode=24;case 24:if(N.extra){for(J=N.extra;A<J;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}N.offset+=ue&(1<<N.extra)-1,ue>>>=N.extra,A-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){L.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(me===0)break e;if(K=Y-me,N.offset>K){if((K=N.offset-K)>N.whave&&N.sane){L.msg="invalid distance too far back",N.mode=30;break}pe=K>N.wnext?(K-=N.wnext,N.wsize-K):N.wnext-K,K>N.length&&(K=N.length),je=N.window}else je=ve,pe=ne-N.offset,K=N.length;for(me<K&&(K=me),me-=K,N.length-=K;ve[ne++]=je[pe++],--K;);N.length===0&&(N.mode=21);break;case 26:if(me===0)break e;ve[ne++]=N.length,me--,N.mode=21;break;case 27:if(N.wrap){for(;A<32;){if(ee===0)break e;ee--,ue|=le[de++]<<A,A+=8}if(Y-=me,L.total_out+=Y,N.total+=Y,Y&&(L.adler=N.check=N.flags?s(N.check,ve,Y,ne-Y):o(N.check,ve,Y,ne-Y)),Y=me,(N.flags?ue:m(ue))!==N.check){L.msg="incorrect data check",N.mode=30;break}A=ue=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;A<32;){if(ee===0)break e;ee--,ue+=le[de++]<<A,A+=8}if(ue!==(4294967295&N.total)){L.msg="incorrect length check",N.mode=30;break}A=ue=0}N.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return d}return L.next_out=ne,L.avail_out=me,L.next_in=de,L.avail_in=ee,N.hold=ue,N.bits=A,(N.wsize||Y!==L.avail_out&&N.mode<30&&(N.mode<27||H!==4))&&U(L,L.output,L.next_out,Y-L.avail_out)?(N.mode=31,-4):(V-=L.avail_in,Y-=L.avail_out,L.total_in+=V,L.total_out+=Y,N.total+=Y,N.wrap&&Y&&(L.adler=N.check=N.flags?s(N.check,ve,Y,L.next_out-Y):o(N.check,ve,Y,L.next_out-Y)),L.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(V==0&&Y===0||H===4)&&te===y&&(te=-5),te)},i.inflateEnd=function(L){if(!L||!L.state)return d;var H=L.state;return H.window&&(H.window=null),L.state=null,y},i.inflateGetHeader=function(L,H){var N;return L&&L.state&&2&(N=L.state).wrap?((N.head=H).done=!1,y):d},i.inflateSetDictionary=function(L,H){var N,le=H.length;return L&&L.state?(N=L.state).wrap!==0&&N.mode!==11?d:N.mode===11&&o(1,H,le,0)!==N.check?-3:U(L,H,le,le)?(N.mode=31,-4):(N.havedict=1,y):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(p,v,y,d,k,w,S,m){var b,_,I,z,re,$,B,Z,se,U=m.bits,L=0,H=0,N=0,le=0,ve=0,de=0,ne=0,ee=0,me=0,ue=0,A=null,V=0,Y=new a.Buf16(16),K=new a.Buf16(16),pe=null,je=0;for(L=0;L<=15;L++)Y[L]=0;for(H=0;H<d;H++)Y[v[y+H]]++;for(ve=U,le=15;1<=le&&Y[le]===0;le--);if(le<ve&&(ve=le),le===0)return k[w++]=20971520,k[w++]=20971520,m.bits=1,0;for(N=1;N<le&&Y[N]===0;N++);for(ve<N&&(ve=N),L=ee=1;L<=15;L++)if(ee<<=1,(ee-=Y[L])<0)return-1;if(0<ee&&(p===0||le!==1))return-1;for(K[1]=0,L=1;L<15;L++)K[L+1]=K[L]+Y[L];for(H=0;H<d;H++)v[y+H]!==0&&(S[K[v[y+H]]++]=H);if($=p===0?(A=pe=S,19):p===1?(A=o,V-=257,pe=s,je-=257,256):(A=c,pe=f,-1),L=N,re=w,ne=H=ue=0,I=-1,z=(me=1<<(de=ve))-1,p===1&&852<me||p===2&&592<me)return 1;for(;;){for(B=L-ne,se=S[H]<$?(Z=0,S[H]):S[H]>$?(Z=pe[je+S[H]],A[V+S[H]]):(Z=96,0),b=1<<L-ne,N=_=1<<de;k[re+(ue>>ne)+(_-=b)]=B<<24|Z<<16|se|0,_!==0;);for(b=1<<L-1;ue&b;)b>>=1;if(b!==0?(ue&=b-1,ue+=b):ue=0,H++,--Y[L]==0){if(L===le)break;L=v[y+S[H]]}if(ve<L&&(ue&z)!==I){for(ne===0&&(ne=ve),re+=N,ee=1<<(de=L-ne);de+ne<le&&!((ee-=Y[de+ne])<=0);)de++,ee<<=1;if(me+=1<<de,p===1&&852<me||p===2&&592<me)return 1;k[I=ue&z]=ve<<24|de<<16|re-w|0}}return ue!==0&&(k[re+ue]=L-ne<<24|64<<16|0),m.bits=ve,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function c(C){for(var O=C.length;0<=--O;)C[O]=0}var f=0,p=29,v=256,y=v+1+p,d=30,k=19,w=2*y+1,S=15,m=16,b=7,_=256,I=16,z=17,re=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(y+2));c(U);var L=new Array(2*d);c(L);var H=new Array(512);c(H);var N=new Array(256);c(N);var le=new Array(p);c(le);var ve,de,ne,ee=new Array(d);function me(C,O,T,X,M){this.static_tree=C,this.extra_bits=O,this.extra_base=T,this.elems=X,this.max_length=M,this.has_stree=C&&C.length}function ue(C,O){this.dyn_tree=C,this.max_code=0,this.stat_desc=O}function A(C){return C<256?H[C]:H[256+(C>>>7)]}function V(C,O){C.pending_buf[C.pending++]=255&O,C.pending_buf[C.pending++]=O>>>8&255}function Y(C,O,T){C.bi_valid>m-T?(C.bi_buf|=O<<C.bi_valid&65535,V(C,C.bi_buf),C.bi_buf=O>>m-C.bi_valid,C.bi_valid+=T-m):(C.bi_buf|=O<<C.bi_valid&65535,C.bi_valid+=T)}function K(C,O,T){Y(C,T[2*O],T[2*O+1])}function pe(C,O){for(var T=0;T|=1&C,C>>>=1,T<<=1,0<--O;);return T>>>1}function je(C,O,T){var X,M,ie=new Array(S+1),ce=0;for(X=1;X<=S;X++)ie[X]=ce=ce+T[X-1]<<1;for(M=0;M<=O;M++){var fe=C[2*M+1];fe!==0&&(C[2*M]=pe(ie[fe]++,fe))}}function ke(C){var O;for(O=0;O<y;O++)C.dyn_ltree[2*O]=0;for(O=0;O<d;O++)C.dyn_dtree[2*O]=0;for(O=0;O<k;O++)C.bl_tree[2*O]=0;C.dyn_ltree[2*_]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function oe(C){8<C.bi_valid?V(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function Se(C,O,T,X){var M=2*O,ie=2*T;return C[M]<C[ie]||C[M]===C[ie]&&X[O]<=X[T]}function be(C,O,T){for(var X=C.heap[T],M=T<<1;M<=C.heap_len&&(M<C.heap_len&&Se(O,C.heap[M+1],C.heap[M],C.depth)&&M++,!Se(O,X,C.heap[M],C.depth));)C.heap[T]=C.heap[M],T=M,M<<=1;C.heap[T]=X}function De(C,O,T){var X,M,ie,ce,fe=0;if(C.last_lit!==0)for(;X=C.pending_buf[C.d_buf+2*fe]<<8|C.pending_buf[C.d_buf+2*fe+1],M=C.pending_buf[C.l_buf+fe],fe++,X===0?K(C,M,O):(K(C,(ie=N[M])+v+1,O),(ce=$[ie])!==0&&Y(C,M-=le[ie],ce),K(C,ie=A(--X),T),(ce=B[ie])!==0&&Y(C,X-=ee[ie],ce)),fe<C.last_lit;);K(C,_,O)}function Oe(C,O){var T,X,M,ie=O.dyn_tree,ce=O.stat_desc.static_tree,fe=O.stat_desc.has_stree,Me=O.stat_desc.elems,ze=-1;for(C.heap_len=0,C.heap_max=w,T=0;T<Me;T++)ie[2*T]!==0?(C.heap[++C.heap_len]=ze=T,C.depth[T]=0):ie[2*T+1]=0;for(;C.heap_len<2;)ie[2*(M=C.heap[++C.heap_len]=ze<2?++ze:0)]=1,C.depth[M]=0,C.opt_len--,fe&&(C.static_len-=ce[2*M+1]);for(O.max_code=ze,T=C.heap_len>>1;1<=T;T--)be(C,ie,T);for(M=Me;T=C.heap[1],C.heap[1]=C.heap[C.heap_len--],be(C,ie,1),X=C.heap[1],C.heap[--C.heap_max]=T,C.heap[--C.heap_max]=X,ie[2*M]=ie[2*T]+ie[2*X],C.depth[M]=(C.depth[T]>=C.depth[X]?C.depth[T]:C.depth[X])+1,ie[2*T+1]=ie[2*X+1]=M,C.heap[1]=M++,be(C,ie,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(he,Ne){var Ee,we,Ae,Ye,xt,Le,Xe=Ne.dyn_tree,ot=Ne.max_code,Be=Ne.stat_desc.static_tree,rt=Ne.stat_desc.has_stree,at=Ne.stat_desc.extra_bits,Pt=Ne.stat_desc.extra_base,st=Ne.stat_desc.max_length,nt=0;for(Ye=0;Ye<=S;Ye++)he.bl_count[Ye]=0;for(Xe[2*he.heap[he.heap_max]+1]=0,Ee=he.heap_max+1;Ee<w;Ee++)st<(Ye=Xe[2*Xe[2*(we=he.heap[Ee])+1]+1]+1)&&(Ye=st,nt++),Xe[2*we+1]=Ye,ot<we||(he.bl_count[Ye]++,xt=0,Pt<=we&&(xt=at[we-Pt]),Le=Xe[2*we],he.opt_len+=Le*(Ye+xt),rt&&(he.static_len+=Le*(Be[2*we+1]+xt)));if(nt!==0){do{for(Ye=st-1;he.bl_count[Ye]===0;)Ye--;he.bl_count[Ye]--,he.bl_count[Ye+1]+=2,he.bl_count[st]--,nt-=2}while(0<nt);for(Ye=st;Ye!==0;Ye--)for(we=he.bl_count[Ye];we!==0;)ot<(Ae=he.heap[--Ee])||(Xe[2*Ae+1]!==Ye&&(he.opt_len+=(Ye-Xe[2*Ae+1])*Xe[2*Ae],Xe[2*Ae+1]=Ye),we--)}}(C,O),je(ie,ze,C.bl_count)}function P(C,O,T){var X,M,ie=-1,ce=O[1],fe=0,Me=7,ze=4;for(ce===0&&(Me=138,ze=3),O[2*(T+1)+1]=65535,X=0;X<=T;X++)M=ce,ce=O[2*(X+1)+1],++fe<Me&&M===ce||(fe<ze?C.bl_tree[2*M]+=fe:M!==0?(M!==ie&&C.bl_tree[2*M]++,C.bl_tree[2*I]++):fe<=10?C.bl_tree[2*z]++:C.bl_tree[2*re]++,ie=M,ze=(fe=0)===ce?(Me=138,3):M===ce?(Me=6,3):(Me=7,4))}function te(C,O,T){var X,M,ie=-1,ce=O[1],fe=0,Me=7,ze=4;for(ce===0&&(Me=138,ze=3),X=0;X<=T;X++)if(M=ce,ce=O[2*(X+1)+1],!(++fe<Me&&M===ce)){if(fe<ze)for(;K(C,M,C.bl_tree),--fe!=0;);else M!==0?(M!==ie&&(K(C,M,C.bl_tree),fe--),K(C,I,C.bl_tree),Y(C,fe-3,2)):fe<=10?(K(C,z,C.bl_tree),Y(C,fe-3,3)):(K(C,re,C.bl_tree),Y(C,fe-11,7));ie=M,ze=(fe=0)===ce?(Me=138,3):M===ce?(Me=6,3):(Me=7,4)}}c(ee);var E=!1;function J(C,O,T,X){Y(C,(f<<1)+(X?1:0),3),function(M,ie,ce,fe){oe(M),V(M,ce),V(M,~ce),a.arraySet(M.pending_buf,M.window,ie,ce,M.pending),M.pending+=ce}(C,O,T)}i._tr_init=function(C){E||(function(){var O,T,X,M,ie,ce=new Array(S+1);for(M=X=0;M<p-1;M++)for(le[M]=X,O=0;O<1<<$[M];O++)N[X++]=M;for(N[X-1]=M,M=ie=0;M<16;M++)for(ee[M]=ie,O=0;O<1<<B[M];O++)H[ie++]=M;for(ie>>=7;M<d;M++)for(ee[M]=ie<<7,O=0;O<1<<B[M]-7;O++)H[256+ie++]=M;for(T=0;T<=S;T++)ce[T]=0;for(O=0;O<=143;)U[2*O+1]=8,O++,ce[8]++;for(;O<=255;)U[2*O+1]=9,O++,ce[9]++;for(;O<=279;)U[2*O+1]=7,O++,ce[7]++;for(;O<=287;)U[2*O+1]=8,O++,ce[8]++;for(je(U,y+1,ce),O=0;O<d;O++)L[2*O+1]=5,L[2*O]=pe(O,5);ve=new me(U,$,v+1,y,S),de=new me(L,B,0,d,S),ne=new me(new Array(0),Z,0,k,b)}(),E=!0),C.l_desc=new ue(C.dyn_ltree,ve),C.d_desc=new ue(C.dyn_dtree,de),C.bl_desc=new ue(C.bl_tree,ne),C.bi_buf=0,C.bi_valid=0,ke(C)},i._tr_stored_block=J,i._tr_flush_block=function(C,O,T,X){var M,ie,ce=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(fe){var Me,ze=4093624447;for(Me=0;Me<=31;Me++,ze>>>=1)if(1&ze&&fe.dyn_ltree[2*Me]!==0)return o;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return s;for(Me=32;Me<v;Me++)if(fe.dyn_ltree[2*Me]!==0)return s;return o}(C)),Oe(C,C.l_desc),Oe(C,C.d_desc),ce=function(fe){var Me;for(P(fe,fe.dyn_ltree,fe.l_desc.max_code),P(fe,fe.dyn_dtree,fe.d_desc.max_code),Oe(fe,fe.bl_desc),Me=k-1;3<=Me&&fe.bl_tree[2*se[Me]+1]===0;Me--);return fe.opt_len+=3*(Me+1)+5+5+4,Me}(C),M=C.opt_len+3+7>>>3,(ie=C.static_len+3+7>>>3)<=M&&(M=ie)):M=ie=T+5,T+4<=M&&O!==-1?J(C,O,T,X):C.strategy===4||ie===M?(Y(C,2+(X?1:0),3),De(C,U,L)):(Y(C,4+(X?1:0),3),function(fe,Me,ze,he){var Ne;for(Y(fe,Me-257,5),Y(fe,ze-1,5),Y(fe,he-4,4),Ne=0;Ne<he;Ne++)Y(fe,fe.bl_tree[2*se[Ne]+1],3);te(fe,fe.dyn_ltree,Me-1),te(fe,fe.dyn_dtree,ze-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,ce+1),De(C,C.dyn_ltree,C.dyn_dtree)),ke(C),X&&oe(C)},i._tr_tally=function(C,O,T){return C.pending_buf[C.d_buf+2*C.last_lit]=O>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&O,C.pending_buf[C.l_buf+C.last_lit]=255&T,C.last_lit++,O===0?C.dyn_ltree[2*T]++:(C.matches++,O--,C.dyn_ltree[2*(N[T]+v+1)]++,C.dyn_dtree[2*A(O)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){Y(C,2,3),K(C,_,U),function(O){O.bi_valid===16?(V(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var c,f,p,v,y=1,d={},k=!1,w=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,c={}.toString.call(o.process)==="[object process]"?function(I){process.nextTick(function(){b(I)})}:function(){if(o.postMessage&&!o.importScripts){var I=!0,z=o.onmessage;return o.onmessage=function(){I=!1},o.postMessage("","*"),o.onmessage=z,I}}()?(v="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(I){o.postMessage(v+I,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(I){b(I.data)},function(I){p.port2.postMessage(I)}):w&&"onreadystatechange"in w.createElement("script")?(f=w.documentElement,function(I){var z=w.createElement("script");z.onreadystatechange=function(){b(I),z.onreadystatechange=null,f.removeChild(z),z=null},f.appendChild(z)}):function(I){setTimeout(b,0,I)},S.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var z=new Array(arguments.length-1),re=0;re<z.length;re++)z[re]=arguments[re+1];var $={callback:I,args:z};return d[y]=$,c(y),y++},S.clearImmediate=m}function m(I){delete d[I]}function b(I){if(k)setTimeout(b,0,I);else{var z=d[I];if(z){k=!0;try{(function(re){var $=re.callback,B=re.args;switch(B.length){case 0:$();break;case 1:$(B[0]);break;case 2:$(B[0],B[1]);break;case 3:$(B[0],B[1],B[2]);break;default:$.apply(s,B)}})(z)}finally{m(I),k=!1}}}}function _(I){I.source===o&&typeof I.data=="string"&&I.data.indexOf(v)===0&&b(+I.data.slice(v.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(C5);var Jb=C5.exports;const Md=Um(Jb),E5="xtec_recent_projects",Zb=()=>{try{const e=localStorage.getItem(E5);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse recent projects from localStorage",e),[]}},ah=async(e,t)=>{const r=Date.now();try{await Ld(r,e)}catch(p){console.error("Failed to save project to IndexedDB:",p);return}const n=Zb(),i=`${t.type}-${t.name}-${t.projectNumber}`,a=n.find(p=>`${p.type}-${p.name}-${p.projectNumber}`===i),o=n.filter(p=>`${p.type}-${p.name}-${p.projectNumber}`!==i);if(a)try{const p=await _i(a.timestamp);if(p!=null&&p.photosData)for(const v of p.photosData)v.imageId&&await li(v.imageId);await ca(a.timestamp)}catch(p){console.error(`Failed to clean up old project version (${a.timestamp}):`,p)}let c=[{...t,timestamp:r},...o];const f=50;if(c.length>f){const p=c.splice(f);for(const v of p)try{const y=await _i(v.timestamp);if(y!=null&&y.photosData)for(const d of y.photosData)d.imageId&&await li(d.imageId);await ca(v.timestamp)}catch(y){console.error(`Failed to cleanup old project from list (${v.timestamp}):`,y)}}try{localStorage.setItem(E5,JSON.stringify(c))}catch(p){console.error("Failed to save recent projects to localStorage:",p)}},Mm=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=i=>r(i),n.src=e}),oh=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=a.getUTCFullYear(),s=String(a.getUTCMonth()+1).padStart(2,"0"),c=String(a.getUTCDate()).padStart(2,"0");return`${o}/${s}/${c}`}catch{return e}},Kb=e=>{if(!e)return"NoDate";try{const t=new Date(e);if(isNaN(t.getTime()))return e.replace(/[^a-z0-9]/gi,"");const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=String(a.getUTCMonth()+1).padStart(2,"0"),s=String(a.getUTCDate()).padStart(2,"0"),c=a.getUTCFullYear();return`${o}-${s}-${c}`}catch{return e.replace(/[^a-z0-9]/gi,"")}},Qb=({url:e,filename:t,onClose:r,pdfBlob:n})=>{qe.useEffect(()=>{const a=o=>{o.key==="Escape"&&r()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="auto",e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}},[r,e]);const i=async()=>{if(window.electronAPI&&window.electronAPI.savePdf)try{let a;n?a=await n.arrayBuffer():a=await(await(await fetch(e)).blob()).arrayBuffer();const o=await window.electronAPI.savePdf(a,t);o.success?alert("PDF saved successfully!"):o.error&&alert(`Failed to save PDF: ${o.error}`)}catch(a){console.error("Error saving PDF via Electron:",a),alert("An error occurred while saving the PDF.")}else{const a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"PDF Preview"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]}),h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Close preview",children:h.jsx(Br,{className:"h-8 w-8"})})]})]}),h.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900 relative",children:h.jsx("object",{data:e,type:"application/pdf",className:"w-full h-full",children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100 p-8 text-center text-gray-700",children:[h.jsx("p",{className:"mb-4 text-lg font-semibold",children:"It appears your browser cannot preview PDFs directly."}),h.jsx("p",{className:"mb-6",children:"You can download the file to view it instead."}),h.jsxs("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]})]})})})]})})},e3=({onBack:e,initialData:t})=>{const[r,n]=qe.useState({proponent:"",projectName:"",location:"",date:"",projectNumber:""}),[i,a]=qe.useState([]),[o,s]=qe.useState(new Set),[c,f]=qe.useState(!1),[p,v]=qe.useState(!1),[y,d]=qe.useState(!1),[k,w]=qe.useState(null),[S,m]=qe.useState(null),[b,_]=qe.useState(!1),[I,z]=qe.useState(""),re=qe.useRef(null),$=qe.useRef(!1),B=async(oe,Se)=>{const be=await Promise.all(Se.map(async De=>{if(De.imageUrl){const Oe=De.imageId||`${oe.projectNumber||"proj"}-${De.id}-${Date.now()}`;await Pd(Oe,De.imageUrl);const{imageUrl:P,...te}=De;return{...te,imageId:Oe}}return De}));return{headerData:oe,photosData:be}},Z=async oe=>{try{const Se=JSON.parse(oe),{headerData:be,photosData:De}=Se;if(be&&De&&Array.isArray(De)){n(be);const Oe=await Promise.all(De.map(async C=>{if(C.imageId&&!C.imageUrl){const O=await na(C.imageId);return{...C,imageUrl:O||null}}return C}));a(Oe);const P=oh(be.date),te=P?` - ${P}`:"",E=`${be.projectName||"Untitled Photo Log"}${te}`,J=await B(be,Oe);await ah(J,{type:"photoLog",name:E,projectNumber:be.projectNumber})}else alert("Invalid project file format.")}catch(Se){alert("Error parsing project file. Ensure it is a valid JSON file."),console.error(Se)}};qe.useEffect(()=>{(async()=>{if(t)if(n(t.headerData||{proponent:"",projectName:"",location:"",date:"",projectNumber:""}),t.photosData&&Array.isArray(t.photosData)){const Se=await Promise.all(t.photosData.map(async be=>{if(be.imageId&&!be.imageUrl){const De=await na(be.imageId);return{...be,imageUrl:De||null}}return be}));a(Se)}else a(t.photosData||[]);else try{const Se=JSON.parse(localStorage.getItem("xtec_general_settings")||"{}");Se.defaultProponent&&n(be=>({...be,proponent:Se.defaultProponent}))}catch(Se){console.error("Failed to load settings",Se)}})()},[t]);const se=(oe,Se)=>{n(be=>({...be,[oe]:Se}))},U=(oe,Se,be)=>{a(De=>De.map(Oe=>Oe.id===oe?{...Oe,[Se]:be}:Oe))},L=oe=>new Promise(Se=>{const be=new Image;be.onload=()=>{const De=document.createElement("canvas"),Oe=De.getContext("2d");if(!Oe){Se(oe);return}const P=4/3,te=be.width/be.height,E=1024,J=768;De.width=E,De.height=J,Oe.fillStyle="white",Oe.fillRect(0,0,De.width,De.height);let C,O,T,X;te>P?(C=De.width,O=C/te,T=0,X=(De.height-O)/2):(O=De.height,C=O*te,X=0,T=(De.width-C)/2),Oe.drawImage(be,T,X,C,O),Se(De.toDataURL("image/jpeg"))},be.src=oe}),H=(oe,Se)=>{if(!["image/jpeg","image/png"].includes(Se.type)){f(!0);return}const De=new FileReader;De.onload=Oe=>{var E;const P=(E=Oe.target)==null?void 0:E.result,te=new Image;te.onload=async()=>{const J=await L(P);a(C=>C.map(O=>O.id===oe?{...O,imageUrl:J}:O))},te.src=P},De.readAsDataURL(Se)},N=oe=>oe.map((Se,be)=>({...Se,photoNumber:String(be+1)})),le=oe=>{const be={id:i.length>0?Math.max(...i.map(De=>De.id))+1:1,photoNumber:"",date:"",location:"",description:"",imageUrl:null,direction:""};a(De=>{let Oe;if(oe!==void 0){const P=oe+1;Oe=[...De.slice(0,P),be,...De.slice(P)]}else Oe=[...De,be];return N(Oe)})},ve=oe=>{a(Se=>{const be=Se.find(De=>De.id===oe);return be&&be.imageId&&li(be.imageId).catch(De=>console.error("Failed to delete image from DB",De)),N(Se.filter(De=>De.id!==oe))})},de=(oe,Se)=>{const be=i.findIndex(P=>P.id===oe);if(be===-1)return;const De=Se==="up"?be-1:be+1;if(De<0||De>=i.length)return;const Oe=[...i];[Oe[be],Oe[De]]=[Oe[De],Oe[be]],a(N(Oe))},ne=()=>{const oe=new Set;return Object.keys(r).forEach(Se=>{r[Se]||oe.add(Se)}),i.forEach(Se=>{const be=`photo-${Se.id}-`;Se.date||oe.add(`${be}date`),Se.location||oe.add(`${be}location`),Se.description||oe.add(`${be}description`),Se.imageUrl||oe.add(`${be}imageUrl`)}),s(oe),oe.size>0?(v(!0),!1):!0},ee=async()=>{const oe=await B(r,i),Se=oh(r.date),be=Se?` - ${Se}`:"",De=`${r.projectName||"Untitled Photo Log"}${be}`;await ah(oe,{type:"photoLog",name:De,projectNumber:r.projectNumber});const Oe=i.map(({imageId:J,...C})=>C),P={headerData:r,photosData:Oe},te=J=>J.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),E=`${te(r.projectNumber)||"project"}_${te(r.projectName)||"photolog"}.plog`;if(window.electronAPI)await window.electronAPI.saveProject(JSON.stringify(P),E);else{const J=new Blob([JSON.stringify(P)],{type:"application/json;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(J),C.setAttribute("download",E),document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(C.href)}},me=async(oe,Se,be,De,Oe)=>{const P=await Cd("xterra-logo.jpg");try{const te=await fetch(P);if(!te.ok)throw new Error("Logo fetch failed");const E=await te.blob(),J=new FileReader;return new Promise(C=>{J.onloadend=()=>{const O=J.result;oe.addImage(O,"JPEG",Se,be,De,Oe),C()},J.readAsDataURL(E)})}catch(te){console.error("Could not load logo:",te),oe.setFontSize(10),oe.setTextColor(0,0,0),oe.text("X-TERRA",Se,be+5)}},ue=async()=>{if(!ne())return;const oe=await B(r,i),Se=oh(r.date),be=Se?` - ${Se}`:"",De=`${r.projectName||"Untitled Photo Log"}${be}`;await ah(oe,{type:"photoLog",name:De,projectNumber:r.projectNumber});const Oe=new bt({orientation:"p",unit:"mm",format:"letter"}),P=Oe.internal.pageSize.getWidth(),te=Oe.internal.pageSize.getHeight(),E=12.7,C=E+4,O=P-C*2,T=te-C,X=Le=>{Le.setDrawColor(0,125,140),Le.setLineWidth(.5);const Xe=E,ot=P-E,Be=te-E;Le.line(Xe,Be,ot,Be)},M=(Le,Xe,ot={})=>{const{drawTopLine:Be=!0,drawBottomLine:rt=!0}=ot,at=4,Pt=0;let st=Xe+at;const nt=(zt,Fe,ct,wt,Ct)=>{const Re=(zt||"").toUpperCase()+":";Le.setFontSize(12),Le.setFont("times","bold");const Je=Le.getTextWidth(Re);Le.text(Re,ct,wt),Le.setFontSize(11),Le.setFont("times","normal");const Qe=Ct-Je-2,it=Le.splitTextToSize(Fe||" ",Qe);return Le.text(it,ct+Je+2,wt),Le.getTextDimensions(it).h},Ge=[{label:"Proponent",value:r.proponent},{label:"Location",value:r.location}],lt=[{label:"Date",value:r.date},{label:"Project",value:r.projectNumber}],kt=[{label:"Project Name",value:r.projectName}],jt=C,_t=O*.55,Dt=C+O*.6,dt=O*.4;let qt=st,nr=st;Ge.forEach(zt=>{const Fe=nt(zt.label,zt.value,jt,qt,_t);qt+=Fe+1.5}),lt.forEach(zt=>{const Fe=nt(zt.label,zt.value,Dt,nr,dt);nr+=Fe+1.5}),st=Math.max(qt,nr),kt.forEach(zt=>{const Fe=nt(zt.label,zt.value,C,st,O);st+=Fe+1.5});const Ht=st-1.5+Pt;return Le.setDrawColor(0,125,140),Le.setLineWidth(.5),Be&&Le.line(E,Xe,P-E,Xe),rt&&Le.line(E,Ht,P-E,Ht),Ht},ie=async Le=>{const Xe=C;await me(Le,C,Xe,40,10),Le.setFontSize(18),Le.setFont("times","bold"),Le.setTextColor(0,125,140);const ot=Xe+7;Le.text("PHOTOGRAPHIC LOG",P/2,ot,{align:"center"}),Le.setTextColor(0,0,0);let Be=Xe+15;return Le.setDrawColor(0,125,140),Le.setLineWidth(.5),Le.line(E,Be,P-E,Be),M(Le,Be,{drawTopLine:!1})+1},ce=i.filter(Le=>!Le.isMap&&Le.imageUrl),fe=async(Le,Xe)=>{const Be=O-5,rt=Be*.35,at=Be*.65;Le.setFontSize(12);let Pt=0;const st=Le.getTextDimensions("Photo");Pt+=st.h*.75;const nt=(kt,jt)=>{const _t=`${kt}:`;Le.setFont("times","bold");const Dt=Le.getTextWidth(_t);Le.setFont("times","normal");const dt=rt-Dt-2,qt=Le.splitTextToSize(jt||" ",dt);return Le.getTextDimensions(qt).h+1.5};Pt+=nt(Xe.isMap?"Map":"Photo",Xe.photoNumber),Xe.isMap||(Pt+=nt("Direction",Xe.direction||"N/A")),Pt+=nt("Date",Xe.date),Pt+=nt("Location",Xe.location),Pt+=5;const Ge=Le.splitTextToSize(Xe.description||" ",rt);Pt+=Le.getTextDimensions(Ge).h;let lt=0;if(Xe.imageUrl)try{const{width:kt,height:jt}=await Mm(Xe.imageUrl);lt=jt*(at/kt)}catch(kt){console.error("Could not load image for height calculation",kt)}return Math.max(Pt,lt)},Me=(Le,Xe,ot,Be,rt)=>{Le.setFontSize(12),Le.setFont("times","normal");const Pt=Le.getTextDimensions("Photo").h*.75;let st=Be+Pt;const nt=(lt,kt)=>{Le.setFont("times","bold");const jt=`${lt}:`;Le.text(jt,ot,st),Le.setFont("times","normal");const _t=Le.getTextWidth(jt),Dt=rt-_t-2,dt=Le.splitTextToSize(kt||" ",Dt);Le.text(dt,ot+_t+2,st),st+=Le.getTextDimensions(dt).h+1.5};nt(Xe.isMap?"Map":"Photo",Xe.photoNumber),Xe.isMap||nt("Direction",Xe.direction||"N/A"),nt("Date",Xe.date),nt("Location",Xe.location),Le.setFont("times","bold"),Le.text("Description:",ot,st),st+=5,Le.setFont("times","normal");const Ge=Le.splitTextToSize(Xe.description||" ",rt);Le.text(Ge,ot,st)},ze=async(Le,Xe,ot)=>{const rt=O-5,at=rt*.35,Pt=rt*.65,st=C+at+5;if(Me(Le,Xe,C,ot,at),Xe.imageUrl){const{width:nt,height:Ge}=await Mm(Xe.imageUrl),lt=Ge*(Pt/nt);Le.addImage(Xe.imageUrl,"JPEG",st,ot,Pt,lt)}};if(ce.length>0){const Le=await Promise.all(ce.map(st=>fe(Oe,st))),Xe=[];let ot=[],Be=0;const rt=new bt({format:"letter",unit:"mm"}),at=await ie(rt),Pt=T-at;ce.forEach((st,nt)=>{const Ge=Le[nt];ot.length===0?(ot.push(nt),Be=Ge):ot.length===1&&(Be+Ge+10<=Pt?ot.push(nt):(Xe.push(ot),ot=[nt],Be=Ge)),ot.length===2&&(Xe.push(ot),ot=[],Be=0)}),ot.length>0&&Xe.push(ot);for(let st=0;st<Xe.length;st++){const nt=Xe[st];st>0&&Oe.addPage();let Ge=await ie(Oe);const lt=nt.map(_t=>ce[_t]),kt=nt.map(_t=>Le[_t]),jt=T-Ge;if(lt.length===1)await ze(Oe,lt[0],Ge);else{const _t=kt.reduce((nr,ir)=>nr+ir,0),Dt=4,dt=jt-_t-Dt*2,qt=dt>0?dt/2:2;Ge+=Dt,await ze(Oe,lt[0],Ge),Ge+=kt[0],Ge+=qt,Oe.setDrawColor(0,125,140),Oe.setLineWidth(.5),Oe.line(E,Ge,P-E,Ge),Ge+=Dt,await ze(Oe,lt[1],Ge)}X(Oe)}}else await ie(Oe),X(Oe);const he=Le=>Le.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),Ne=Kb(r.date),we=`${he(r.projectName)||"project"}_${Ne}.pdf`,Ae=Oe.internal.getNumberOfPages();for(let Le=1;Le<=Ae;Le++){Oe.setPage(Le),Oe.setFontSize(10),Oe.setFont("times","normal"),Oe.setTextColor(0,0,0);const Xe=te-E+4;Oe.text(`Page ${Le} of ${Ae}`,P-E,Xe,{align:"right"})}const Ye=Oe.output("blob"),xt=URL.createObjectURL(Ye);m({url:xt,filename:we,blob:Ye})},A=qe.useCallback(async()=>{var oe;if(!$.current){$.current=!0;try{z("Checking for photos..."),_(!0),await new Promise(E=>setTimeout(E,100));const Se=i.filter(E=>E.imageUrl);if(Se.length===0){z("No photos found to download."),await new Promise(E=>setTimeout(E,2e3)),_(!1);return}z(`Preparing ${Se.length} photos...`),await new Promise(E=>setTimeout(E,100));const be=new Md;let De="";const Oe=E=>E.replace(/[^a-z0-9_.\-]/gi,"_");for(const E of Se){const C=`${Oe(E.photoNumber)}.jpg`;De+=`---
File: ${C}
Photo Number: ${E.photoNumber}
Date: ${E.date||"N/A"}
Location: ${E.location||"N/A"}
Direction: ${E.direction||"N/A"}
Description: ${E.description||"N/A"}
---

`;const T=await(await fetch(E.imageUrl)).blob();be.file(C,T)}be.file("metadata.txt",De),z("Creating zip file..."),await new Promise(E=>setTimeout(E,100));const P=E=>E.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),te=`${P(r.projectNumber)||"project"}_${P(r.projectName)||"photolog"}_Photos.zip`;if((oe=window.electronAPI)!=null&&oe.saveZipFile){const E=await be.generateAsync({type:"arraybuffer"});await window.electronAPI.saveZipFile(E,te)}else{const E=await be.generateAsync({type:"blob"}),J=document.createElement("a");J.href=URL.createObjectURL(E),J.setAttribute("download",te),document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(J.href)}}finally{_(!1),$.current=!1}}},[i,r]),V=qe.useRef(A);qe.useEffect(()=>{V.current=A},[A]);const Y=qe.useCallback(()=>{V.current&&V.current()},[]);qe.useEffect(()=>{const oe=window.electronAPI;return oe&&oe.onDownloadPhotos&&oe.removeAllDownloadPhotosListeners&&(oe.removeAllDownloadPhotosListeners(),oe.onDownloadPhotos(Y)),()=>{oe&&oe.removeDownloadPhotosListener&&oe.removeDownloadPhotosListener(Y)}},[Y]);const K=async oe=>{var De;const Se=(De=oe.target.files)==null?void 0:De[0];if(!Se)return;const be=await Se.text();await Z(be),oe.target&&(oe.target.value="")},pe=async()=>{var oe;if(window.electronAPI){const Se=await window.electronAPI.loadProject("plog");Se&&await Z(Se)}else(oe=re.current)==null||oe.click()},je=()=>{const oe=new Set;return o.forEach(Se=>{!Se.startsWith("photo-")&&Object.keys(r).includes(Se)&&oe.add(Se)}),oe},ke=oe=>{const Se=new Set;return o.forEach(be=>{const De=`photo-${oe}-`;be.startsWith(De)&&Se.add(be.substring(De.length))}),Se};return h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[S&&h.jsx(Qb,{url:S.url,filename:S.filename,onClose:()=>m(null),pdfBlob:S.blob}),k&&h.jsx(Dd,{imageUrl:k,onClose:()=>w(null)}),b&&h.jsx(Td,{message:I}),h.jsx(Fd,{}),h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[h.jsxs("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white text-gray-800 font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(jd,{})," ",h.jsx("span",{children:"Home"})]}),h.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[h.jsxs("button",{onClick:pe,className:"bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(uc,{})," ",h.jsx("span",{children:"Open"})]}),h.jsx("input",{type:"file",ref:re,onChange:K,style:{display:"none"},accept:".plog"}),h.jsxs("button",{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(Sd,{})," ",h.jsx("span",{children:"Save"})]}),!window.electronAPI&&h.jsxs("button",{onClick:A,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(nc,{})," ",h.jsx("span",{children:"Photos"})]}),h.jsxs("button",{onClick:ue,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{})," ",h.jsx("span",{children:"PDF"})]})]})]}),h.jsxs("div",{className:"main-content",children:[h.jsx(l5,{data:r,onDataChange:se,errors:je()}),h.jsx("div",{className:"mt-8",children:i.map((oe,Se)=>h.jsxs("div",{children:[h.jsx(Ed,{data:oe,onDataChange:(be,De)=>U(oe.id,be,De),onImageChange:be=>H(oe.id,be),onRemove:()=>ve(oe.id),onMoveUp:()=>de(oe.id,"up"),onMoveDown:()=>de(oe.id,"down"),isFirst:Se===0,isLast:Se===i.length-1,onImageClick:w,errors:ke(oe.id),showDirectionField:!oe.isMap,headerDate:r.date,headerLocation:r.location,onAutoFill:(be,De)=>U(oe.id,be,De)}),Se<i.length-1&&h.jsxs("div",{className:"relative my-10 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:h.jsx("div",{className:"w-full border-t-4 border-[#007D8C]"})}),h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:()=>le(Se),className:"bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 text-[#007D8C] font-bold py-2 px-4 rounded-full border-2 border-[#007D8C] inline-flex items-center gap-2 transition duration-200 shadow-sm",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo Here"})]})})]})]},oe.id))}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsxs("button",{onClick:()=>le(),className:"bg-[#007D8C] hover:bg-[#006b7a] text-white font-bold py-3 px-6 rounded-lg shadow-md inline-flex items-center gap-2 transition duration-200 text-lg",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo"})]})})]}),i.length>0&&h.jsx("div",{className:"border-t-4 border-[#007D8C] my-8"}),h.jsx("footer",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-4",children:"X-TES Digital Reporting v1.1.2"})]}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>f(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Unsupported file type animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Unsupported File Type"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please upload a supported image file."}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:["Supported formats: ",h.jsx("strong",{children:"JPG, PNG"})]})]})}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Missing information animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Missing Information"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please fill in all required fields."}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Missing fields are highlighted in red."})]})}),y&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md",children:[h.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"No Internet Connection"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"An internet connection is required to save the PDF. Please connect to the internet and try again."})]})})]})},t3=({isPrintable:e=!1})=>h.jsx("div",{className:"flex items-center",children:h.jsx($n,{fileName:"xterra-logo.jpg",alt:"X-TERRA Logo",className:e?"h-10 w-auto":"h-14 w-auto mix-blend-multiply dark:mix-blend-normal dark:bg-white dark:p-1 dark:rounded-sm"})}),r3=({labelType:e,value:t,onLabelChange:r,onValueChange:n,isPrintable:i=!1,isInvalid:a=!1,placeholder:o=""})=>{const s=["IOCG Lease #","Disposition #","ENV File #","License #"];if(i)return h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsxs("span",{className:"text-base font-bold text-black flex-shrink-0 whitespace-nowrap",children:[e,":"]}),h.jsx("span",{className:"text-base font-normal text-black break-words",children:t||""})]});const c=`p-1 border-b-2 focus:outline-none focus:border-[#007D8C] transition duration-200 bg-transparent text-base font-bold text-black dark:text-gray-200 dark:bg-gray-800 ${a?"border-red-500":"border-gray-300 dark:border-gray-600"}`,f=`p-1 w-full border-b-2 focus:outline-none focus:border-[#007D8C] transition duration-200 bg-transparent text-base font-normal text-black dark:text-gray-100 min-w-0 ${a?"border-red-500":"border-gray-300 dark:border-gray-600"}`;return h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("select",{value:e,onChange:p=>r(p.target.value),className:c,children:s.map(p=>h.jsx("option",{value:p,children:p},p))}),h.jsx("input",{type:"text",value:t,onChange:p=>n(p.target.value),className:f,placeholder:o,spellCheck:!0})]})},ns=({label:e,value:t,onChange:r,isPrintable:n=!1,isInvalid:i=!1,isTextArea:a=!1,placeholder:o=""})=>{const s=qe.useRef(null),c=qe.useRef(null);if(qe.useLayoutEffect(()=>{s.current&&(s.current.style.height="inherit",s.current.style.height=`${s.current.scrollHeight}px`)},[t]),n)return h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsxs("span",{className:"text-base font-bold text-black flex-shrink-0 whitespace-nowrap",children:[e,":"]}),h.jsx("span",{className:"text-base font-normal text-black break-words",children:t||""})]});const f=`p-1 w-full border-b-2 focus:outline-none focus:border-[#007D8C] transition duration-200 bg-transparent text-base font-normal text-black dark:text-gray-100 min-w-0 ${i?"border-red-500":"border-gray-300 dark:border-gray-600"}`,p="text-base font-bold text-black dark:text-gray-200 flex-shrink-0 whitespace-nowrap";return a?h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsxs("label",{className:`${p} pt-1`,children:[e,":"]}),h.jsx("textarea",{ref:s,value:t,onChange:v=>r(v.target.value),rows:1,className:`${f} resize-none overflow-hidden`,placeholder:o,spellCheck:!0})]}):h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsxs("label",{className:p,children:[e,":"]}),h.jsx("input",{ref:c,type:"text",value:t,onChange:v=>r(v.target.value),className:f,placeholder:o,spellCheck:!0})]})},n3=({data:e,onDataChange:t,isPrintable:r=!1,errors:n,placeholders:i,isPhotologHeader:a=!1})=>h.jsxs("div",{className:`bg-white dark:bg-gray-800 transition-colors duration-200 ${r?"p-0 shadow-none":"p-6 shadow-md rounded-lg"}`,children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] md:items-center pb-4 gap-4",children:[h.jsx("div",{className:"flex justify-center md:justify-start",children:h.jsx(t3,{isPrintable:r})}),h.jsx("h1",{className:`font-extrabold text-[#007D8C] tracking-wider text-center whitespace-nowrap ${r?"text-2xl":"text-4xl"}`,children:a?"PHOTOGRAPHIC LOG":"DAILY FIELD REPORT"}),h.jsx("div",{})]}),h.jsx("div",{className:"border-t-4 border-[#007D8C]"}),h.jsx("div",{className:`bg-white dark:bg-gray-800 transition-colors duration-200 ${r?"py-2":"pt-4"}`,children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx(ns,{label:"DATE",value:e.date,onChange:o=>t("date",o),isPrintable:r,isInvalid:n==null?void 0:n.has("date"),placeholder:"October 1, 2025"}),h.jsx(ns,{label:"PROPONENT",value:e.proponent,onChange:o=>t("proponent",o),isPrintable:r,isInvalid:n==null?void 0:n.has("proponent"),placeholder:i==null?void 0:i.proponent}),h.jsx(ns,{label:"LOCATION",value:e.location,onChange:o=>t("location",o),isPrintable:r,isInvalid:n==null?void 0:n.has("location"),isTextArea:!0,placeholder:i==null?void 0:i.location})]}),h.jsxs("div",{className:"flex flex-col gap-y-2",children:[h.jsx(ns,{label:"Project #",value:e.projectNumber,onChange:o=>t("projectNumber",o),isPrintable:r,isInvalid:n==null?void 0:n.has("projectNumber"),placeholder:i==null?void 0:i.projectNumber}),h.jsx(ns,{label:"MONITOR",value:e.monitor,onChange:o=>t("monitor",o),isPrintable:r,isInvalid:n==null?void 0:n.has("monitor"),placeholder:i==null?void 0:i.monitor}),h.jsx(r3,{labelType:e.envFileType,value:e.envFileValue,onLabelChange:o=>t("envFileType",o),onValueChange:o=>t("envFileValue",o),isPrintable:r,isInvalid:n==null?void 0:n.has("envFileValue"),placeholder:i==null?void 0:i.envFileValue})]}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(ns,{label:"PROJECT NAME",value:e.projectName,onChange:o=>t("projectName",o),isPrintable:r,isInvalid:n==null?void 0:n.has("projectName"),isTextArea:!0,placeholder:i==null?void 0:i.projectName})})]})}),h.jsx("div",{className:`border-t-4 border-[#007D8C] ${r?"":"mt-2"}`})]}),Bn=({label:e,value:t,onChange:r,placeholder:n,rows:i=3,isInvalid:a=!1})=>{const o=qe.useRef(null),s=f=>{const p=f.currentTarget,{selectionStart:v,selectionEnd:y,value:d}=p,k=d.lastIndexOf(`
`,v-1)+1;let w=d.indexOf(`
`,v);w===-1&&(w=d.length);const S=d.substring(k,w);if(f.key==="Tab")if(f.preventDefault(),f.shiftKey){if(S.startsWith("  ")){const m=d.substring(0,k)+d.substring(k+2);r(m),setTimeout(()=>{p.selectionStart=Math.max(k,v-2),p.selectionEnd=Math.max(k,y-2)},0)}}else{const m=d.substring(0,k)+"  "+d.substring(k);r(m),setTimeout(()=>{p.selectionStart=v+2,p.selectionEnd=y+2},0)}else if(f.key==="Enter"){f.preventDefault();const m=S.match(/^\s*/),b=m?m[0]:"";if(S.trim()==="-")if(b.length>=2){const _=b.substring(0,b.length-2),I=d.substring(0,k)+_+"- "+d.substring(w);r(I),setTimeout(()=>{const z=k+_.length+2;p.selectionStart=p.selectionEnd=z},0)}else{const _=d.substring(0,k)+d.substring(w);r(_),setTimeout(()=>{p.selectionStart=p.selectionEnd=k},0)}else{const _=`
`+b+"- ",I=d.substring(0,v)+_+d.substring(y);r(I),setTimeout(()=>{p.selectionStart=p.selectionEnd=v+_.length},0)}}},c=f=>{f.currentTarget.value.trim()===""&&r("- ")};return h.jsxs("div",{children:[e&&h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e}),h.jsx("textarea",{ref:o,value:t,onChange:f=>r(f.target.value),onFocus:c,onKeyDown:s,rows:i,placeholder:n,className:`block w-full p-2 border rounded-md shadow-sm focus:ring-2 focus:ring-[#007D8C] focus:border-[#007D8C] transition bg-white dark:bg-gray-700 text-black dark:text-white dark:placeholder-gray-400 ${a?"border-red-500":"border-gray-300 dark:border-gray-600"}`,spellCheck:!0})]})},lo={header:{proponent:"Cenovus",projectName:"Rush Lake SWD Pipeline",location:"Rush Lake Thermal (NW-2, NE-3, NW-3-48-21 W3M)",projectNumber:"25159",monitor:"John Doe",envFileValue:"24-S-00084"},body:{generalActivity:`- Travelled to A9-3-48-21 W3M, reviewed and signed onto the safe work permit and ERP at site. Completed X-Terra tailgate safety meeting.
- Equipment and utility/pickup trucks were visually inspected for cleanliness and leaks. All units were free of non-project associated soil and vegetative debris and appear to be free of leaks. Vehicles had a significant amount of road grime present due to overnight rain and soft road conditions. The respective operators completed daily inspections on their equipment for leaks.
- Bandit Energy Services was on site with a JD 345 excavator, Hitachi 345 excavator, Cat D6 dozer, Kubota skid steer, three side booms, and several supervisor and crew trucks.
- Significant amounts of rainfall over the weekend led to soft and wet conditions in the areas surrounding the right of way (RoW). Ground conditions were assessed upon arrival to site and continually throughout the day. The predominance of sand in the upper meter of soil along the RoW allowed for adequate drainage of moisture and resulted in very stable ground conditions. The go-ahead to continue work along the RoW was given and RoW conditions were closely monitored. No rutting or compaction occurred as a result of RoW activities.
- One of the excavators continued to strip subsoil from RoW in NW-3-48-21 W3M, working from east to west between the HPPL crossing and the Rush Lake 1 (RLC1) facility. The subsoil was stored >1m away from the stockpiled topsoil along the south RoW boundary.
- Sand blasting of the HDD drag section welds in NW-2-48-21 W3M was conducted in preparation for coating, using a crew truck towing a mobile sand-blasting unit.
- Returned to base.`,communication:`- A tailgate meeting and hazard assessment were performed to identify hazards on site.
- Communication with Cenovus representative on the work scope and findings.`,weatherAndGroundConditions:`- Wind from the SW at 15-30km/hr. Overcast skies throughout the day with periods of light rain.
- Temperatures ranged from -1 to 3C.
- Ground conditions on the RoW were damp but stable.`,environmentalProtection:`- All equipment was inspected for cleanliness, leaks, and soil/weeds prior to entry.
- Regulatory approvals, project proposals, project maps, and other pertinent regulatory information was provided to the contractor(s) by Cenovus.
- Spill kits were available at the worksite.
- Re-fueling of any equipment took place at staging areas, with no re-fueling within 100m of any watercourse or waterbody.
- Work was completed under dry, firm, and stable ground conditions.
- Equipment was staged away from any sensitivities.
- Equipment was periodically visually inspected by the operators and monitor during the work period.`,wildlifeObservations:"- Common Raven",furtherRestoration:"- An environmental monitor will be required for all project activities in accordance with the Ministry of Environments Approval conditions."}},F5="xtec_recent_projects",i3=()=>{try{const e=localStorage.getItem(F5);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse recent projects from localStorage",e),[]}},sh=async(e,t)=>{const r=Date.now();try{await Ld(r,e)}catch(p){console.error("Failed to save project to IndexedDB:",p);return}const n=i3(),i=`${t.type}-${t.name}-${t.projectNumber}`,a=n.find(p=>`${p.type}-${p.name}-${p.projectNumber}`===i),o=n.filter(p=>`${p.type}-${p.name}-${p.projectNumber}`!==i);if(a)try{const p=await _i(a.timestamp);if(p!=null&&p.photosData)for(const v of p.photosData)v.imageId&&await li(v.imageId);await ca(a.timestamp)}catch(p){console.error(`Failed to clean up old project version (${a.timestamp}):`,p)}let c=[{...t,timestamp:r},...o];const f=50;if(c.length>f){const p=c.splice(f);for(const v of p)try{const y=await _i(v.timestamp);if(y!=null&&y.photosData)for(const d of y.photosData)d.imageId&&await li(d.imageId);await ca(v.timestamp)}catch(y){console.error(`Failed to cleanup old project from list (${v.timestamp}):`,y)}}try{localStorage.setItem(F5,JSON.stringify(c))}catch(p){console.error("Failed to save recent projects to localStorage:",p)}},lh=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=i=>r(i),n.src=e}),a3=e=>new Promise(t=>{const r=new Image;r.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){t(e);return}const a=1024,o=768;n.width=a,n.height=o,i.fillStyle="white",i.fillRect(0,0,n.width,n.height);const s=a/o,c=r.width/r.height;let f,p,v,y;c>s?(f=n.width,p=f/c,v=0,y=(n.height-p)/2):(p=n.height,f=p*c,y=0,v=(n.width-f)/2),i.drawImage(r,v,y,f,p),t(n.toDataURL("image/jpeg"))},r.src=e}),o3=({url:e,filename:t,onClose:r,pdfBlob:n})=>{qe.useEffect(()=>{const a=o=>{o.key==="Escape"&&r()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="auto",e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}},[r,e]);const i=async()=>{if(window.electronAPI&&window.electronAPI.savePdf)try{let a;n?a=await n.arrayBuffer():a=await(await(await fetch(e)).blob()).arrayBuffer();const o=await window.electronAPI.savePdf(a,t);o.success?alert("PDF saved successfully!"):o.error&&alert(`Failed to save PDF: ${o.error}`)}catch(a){console.error("Error saving PDF via Electron:",a),alert("An error occurred while saving the PDF.")}else{const a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"PDF Preview"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]}),h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Close preview",children:h.jsx(Br,{className:"h-8 w-8"})})]})]}),h.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900 relative",children:h.jsx("object",{data:e,type:"application/pdf",className:"w-full h-full",children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100 p-8 text-center text-gray-700",children:[h.jsx("p",{className:"mb-4 text-lg font-semibold",children:"It appears your browser cannot preview PDFs directly."}),h.jsx("p",{className:"mb-6",children:"You can download the file to view it instead."}),h.jsxs("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]})]})})})]})})},ch=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=a.getUTCFullYear(),s=String(a.getUTCMonth()+1).padStart(2,"0"),c=String(a.getUTCDate()).padStart(2,"0");return`${o}/${s}/${c}`}catch{return e}},zm=e=>{if(!e)return"NoDate";try{const t=new Date(e);if(isNaN(t.getTime()))return e.replace(/[^a-z0-9]/gi,"");const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=String(a.getUTCMonth()+1).padStart(2,"0"),s=String(a.getUTCDate()).padStart(2,"0"),c=a.getUTCFullYear();return`${o}-${s}-${c}`}catch{return e.replace(/[^a-z0-9]/gi,"")}},uh=({title:e,children:t})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 shadow-md rounded-lg transition-colors duration-200",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-gray-200 dark:border-gray-700 pb-2 mb-4",children:e}),h.jsx("div",{className:"space-y-4",children:t})]}),s3=({label:e,value:t,onChange:r,type:n="text",isTextArea:i=!1,rows:a=1,placeholder:o=""})=>{const s="block w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-2 focus:ring-[#007D8C] focus:border-[#007D8C] transition bg-white dark:bg-gray-700 text-black dark:text-white dark:placeholder-gray-400",c=Fp.useRef(null);return h.jsxs("div",{children:[e&&h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e}),i?h.jsx("textarea",{ref:c,value:t,onChange:f=>r(f.target.value),rows:a,className:s,placeholder:o,spellCheck:!0}):h.jsx("input",{type:n,ref:c,value:t,onChange:f=>r(f.target.value),className:s,spellCheck:!0})]})},l3=`08:00 Left accommodation for project site #1.
09:00  Arrive at structure #1. Met crew...
... detailed activity log ...
16:00  Finish day and head back to accommodation. Complete DFR.`,c3=({data:e,onDataChange:t,onRemove:r,onMove:n,isFirst:i,isLast:a})=>{const[o,s]=qe.useState(!1);return h.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 transition-colors duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-300",children:"Location Specific Activity"}),h.jsx("button",{onClick:()=>s(!o),title:"Toggle comment",className:`p-1 rounded-full ${o?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>n(e.id,"up"),disabled:i,className:"p-1 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition duration-200","aria-label":"Move Up",children:h.jsx(n5,{className:"h-6 w-6"})}),h.jsx("button",{onClick:()=>n(e.id,"down"),disabled:a,className:"p-1 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition duration-200","aria-label":"Move Down",children:h.jsx(i5,{className:"h-6 w-6"})}),h.jsx("button",{onClick:()=>r(e.id),className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition duration-200","aria-label":"Remove Location Activity",children:h.jsx(k0,{className:"h-6 w-6"})})]})]}),o&&h.jsx("textarea",{value:e.comment||"",onChange:c=>t(e.id,"comment",c.target.value),placeholder:"Add a comment for this location...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(s3,{label:"Location",value:e.location||"",onChange:c=>t(e.id,"location",c)}),h.jsx(Bn,{label:"Activities (detailed description with timestamps)",value:e.activities,onChange:c=>t(e.id,"activities",c),rows:8,placeholder:l3})]})]})},u3=({onBack:e,initialData:t})=>{var M,ie,ce,fe,Me,ze;const[r,n]=qe.useState({proponent:"",projectName:"",location:"",date:"",projectNumber:"",monitor:"",envFileType:"MOE FILE #",envFileValue:""}),[i,a]=qe.useState({generalActivity:"",locationActivities:[],communication:"",weatherAndGroundConditions:"",environmentalProtection:"",wildlifeObservations:"",furtherRestoration:"",comments:{}}),[o,s]=qe.useState([]),[c,f]=qe.useState(new Set),[p,v]=qe.useState(!1),[y,d]=qe.useState(!1),[k,w]=qe.useState(!1),[S,m]=qe.useState(null),[b,_]=qe.useState(!1),[I,z]=qe.useState(null),[re,$]=qe.useState(!1),[B,Z]=qe.useState(""),[se,U]=qe.useState(new Set),L=qe.useRef(null),H=qe.useRef(!1),N=async he=>{try{const Ne=JSON.parse(he),{headerData:Ee,bodyData:we,textData:Ae,photosData:Ye}=Ne;if(Ee&&(we||Ae)&&Ye&&Array.isArray(Ye)){let xt=!1,Le;if(we.generalActivity!==void 0||we.locationActivities!==void 0)Le={...i,...we,generalActivity:we.generalActivity||"",locationActivities:we.locationActivities||[]};else{xt=!0;let st="",nt=[];if(we.activityBlocks&&Array.isArray(we.activityBlocks)){const Ge=we.activityBlocks.find(lt=>lt.type==="general");st=Ge?Ge.activities:"",nt=we.activityBlocks.filter(lt=>lt.type==="location").map(({id:lt,location:kt,activities:jt})=>({id:lt,location:kt||"",activities:jt}))}else we.projectActivities?st=we.projectActivities:Ae&&Ae.projectActivities&&(st=Ae.projectActivities);Le={generalActivity:st,locationActivities:nt,communication:we.communication||(Ae==null?void 0:Ae.communication)||"",weatherAndGroundConditions:we.weatherAndGroundConditions||(Ae==null?void 0:Ae.weatherAndGroundConditions)||"",environmentalProtection:we.environmentalProtection||(Ae==null?void 0:Ae.environmentalProtection)||"",wildlifeObservations:we.wildlifeObservations||(Ae==null?void 0:Ae.wildlifeObservations)||"",furtherRestoration:we.furtherRestoration||(Ae==null?void 0:Ae.furtherRestoration)||""}}let Xe={...r,...Ee};Ee.envFile!==void 0&&(xt=!0,Xe.envFileType="ENV File #",Xe.envFileValue=Ee.envFile,delete Xe.envFile),n(Xe),a(Le);const ot=await Promise.all(Ye.map(async st=>{if(st.imageId&&!st.imageUrl){const nt=await na(st.imageId);return{...st,imageUrl:nt||null}}return st}));s(ot),xt&&w(!0);const Be=ch(Xe.date),rt=Be?` - ${Be}`:"",at=`${Xe.projectName||"Untitled DFR"}${rt}`;await sh({headerData:Xe,bodyData:Le,photosData:o},{type:"dfrStandard",name:at,projectNumber:Xe.projectNumber})}else alert("Invalid project file format.")}catch(Ne){alert("Error parsing project file. Ensure it is a valid project file."),console.error(Ne)}};qe.useEffect(()=>{(async()=>{if(t){const{headerData:Ne,bodyData:Ee,photosData:we}=t;if(n(Ne||{}),Ee.generalActivity!==void 0||Ee.locationActivities!==void 0)a(Ee);else{let Ae="",Ye=[];if(Ee.activityBlocks&&Array.isArray(Ee.activityBlocks)){const xt=Ee.activityBlocks.find(Le=>Le.type==="general");Ae=xt?xt.activities:"",Ye=Ee.activityBlocks.filter(Le=>Le.type==="location").map(({id:Le,location:Xe,activities:ot})=>({id:Le,location:Xe||"",activities:ot}))}else Ee.projectActivities&&(Ae=Ee.projectActivities);a({generalActivity:Ae,locationActivities:Ye,communication:Ee.communication||"",weatherAndGroundConditions:Ee.weatherAndGroundConditions||"",environmentalProtection:Ee.environmentalProtection||"",wildlifeObservations:Ee.wildlifeObservations||"",furtherRestoration:Ee.furtherRestoration||""})}if(we&&Array.isArray(we)){const Ae=await Promise.all(we.map(async Ye=>{if(Ye.imageId&&!Ye.imageUrl){const xt=await na(Ye.imageId);return{...Ye,imageUrl:xt||null}}return Ye}));s(Ae)}}else try{const Ne=JSON.parse(localStorage.getItem("xtec_general_settings")||"{}");n(Ee=>({...Ee,proponent:Ne.defaultProponent||Ee.proponent,monitor:Ne.defaultMonitor||Ee.monitor}))}catch(Ne){console.error("Failed to load settings",Ne)}})()},[t]);const le=(he,Ne)=>{n(Ee=>({...Ee,[he]:Ne}))},ve=(he,Ne)=>{a(Ee=>({...Ee,[he]:Ne}))},de=he=>{a(Ne=>({...Ne,generalActivity:he}))},ne=he=>{U(Ne=>{const Ee=new Set(Ne);return Ee.has(he)?Ee.delete(he):Ee.add(he),Ee})},ee=(he,Ne)=>{a(Ee=>({...Ee,comments:{...Ee.comments,[he]:Ne}}))},me=()=>{const Ne={id:i.locationActivities.length>0?Math.max(...i.locationActivities.map(Ee=>Ee.id))+1:1,location:"",activities:""};a(Ee=>({...Ee,locationActivities:[...Ee.locationActivities,Ne]}))},ue=he=>{a(Ne=>({...Ne,locationActivities:Ne.locationActivities.filter(Ee=>Ee.id!==he)}))},A=(he,Ne,Ee)=>{a(we=>({...we,locationActivities:we.locationActivities.map(Ae=>Ae.id===he?{...Ae,[Ne]:Ee}:Ae)}))},V=(he,Ne)=>{const Ee=i.locationActivities.findIndex(Ye=>Ye.id===he);if(Ee===-1)return;const we=Ne==="up"?Ee-1:Ee+1;if(we<0||we>=i.locationActivities.length)return;const Ae=[...i.locationActivities];[Ae[Ee],Ae[we]]=[Ae[we],Ae[Ee]],a(Ye=>({...Ye,locationActivities:Ae}))},Y=(he,Ne,Ee)=>{s(we=>we.map(Ae=>Ae.id===he?{...Ae,[Ne]:Ee}:Ae))},K=(he,Ne)=>{if(!["image/jpeg","image/png"].includes(Ne.type)){_(!0);return}const we=new FileReader;we.onload=Ae=>{var xt;const Ye=(xt=Ae.target)==null?void 0:xt.result;a3(Ye).then(Le=>{s(Xe=>Xe.map(ot=>ot.id===he?{...ot,imageUrl:Le}:ot))})},we.readAsDataURL(Ne)},pe=he=>{let Ne=0,Ee=0;return he.map(we=>we.isMap?(Ee++,{...we,photoNumber:`Map ${Ee}`}):(Ne++,{...we,photoNumber:String(Ne)}))},je=(he=!1,Ne)=>{const we={id:o.length>0?Math.max(...o.map(Ae=>Ae.id))+1:1,photoNumber:"",date:r.date,location:"",description:"",imageUrl:null,direction:"",isMap:he};s(Ae=>{let Ye;if(Ne!==void 0){const xt=Ne+1;Ye=[...Ae.slice(0,xt),we,...Ae.slice(xt)]}else Ye=[...Ae,we];return pe(Ye)})},ke=he=>{s(Ne=>{const Ee=Ne.find(we=>we.id===he);return Ee&&Ee.imageId&&li(Ee.imageId).catch(we=>console.error("Failed to delete image from DB",we)),pe(Ne.filter(we=>we.id!==he))})},oe=(he,Ne)=>{const Ee=o.findIndex(Ye=>Ye.id===he);if(Ee===-1)return;const we=Ne==="up"?Ee-1:Ee+1;if(we<0||we>=o.length)return;const Ae=[...o];[Ae[Ee],Ae[we]]=[Ae[we],Ae[Ee]],s(pe(Ae))},Se=async()=>{const he=await Promise.all(o.map(async Ne=>{if(Ne.imageUrl){const Ee=Ne.imageId||`${r.projectNumber||"proj"}-${Ne.id}-${Date.now()}`;await Pd(Ee,Ne.imageUrl);const{imageUrl:we,...Ae}=Ne;return{...Ae,imageId:Ee}}return Ne}));return{headerData:r,bodyData:i,photosData:he}},be=async()=>{const he=await Se(),Ne=ch(r.date),Ee=Ne?` - ${Ne}`:"",we=`${r.projectName||"Untitled DFR"}${Ee}`;await sh(he,{type:"dfrStandard",name:we,projectNumber:r.projectNumber});const Ae=o.map(({imageId:Be,...rt})=>rt),Ye={headerData:r,bodyData:i,photosData:Ae},xt=Be=>Be.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),Le=zm(r.date),ot=`${xt(r.projectName)||"project"}_${Le}.dfr`;if(window.electronAPI)await window.electronAPI.saveProject(JSON.stringify(Ye),ot);else{const Be=new Blob([JSON.stringify(Ye)],{type:"application/json;charset=utf-8;"}),rt=document.createElement("a");rt.href=URL.createObjectURL(Be),rt.setAttribute("download",ot),document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(rt.href)}},De=qe.useCallback(async()=>{var he;if(!H.current){H.current=!0;try{Z("Checking for photos..."),$(!0),await new Promise(Le=>setTimeout(Le,100));const Ne=o.filter(Le=>Le.imageUrl);if(Ne.length===0){Z("No photos found to download."),await new Promise(Le=>setTimeout(Le,2e3)),$(!1);return}Z(`Preparing ${Ne.length} photos...`),await new Promise(Le=>setTimeout(Le,100));const Ee=new Md;let we="";const Ae=Le=>Le.replace(/[^a-z0-9_.\-]/gi,"_");for(const Le of Ne){const ot=`${Ae(Le.photoNumber)}.jpg`;we+=`---
File: ${ot}
Photo Number: ${Le.photoNumber}
Date: ${Le.date||"N/A"}
Location: ${Le.location||"N/A"}
Direction: ${Le.direction||"N/A"}
Description: ${Le.description||"N/A"}
---

`;const rt=await(await fetch(Le.imageUrl)).blob();Ee.file(ot,rt)}Ee.file("metadata.txt",we),Z("Creating zip file..."),await new Promise(Le=>setTimeout(Le,100));const Ye=Le=>Le.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),xt=`${Ye(r.projectNumber)||"project"}_${Ye(r.projectName)||"dfr"}_Photos.zip`;if((he=window.electronAPI)!=null&&he.saveZipFile){const Le=await Ee.generateAsync({type:"arraybuffer"});await window.electronAPI.saveZipFile(Le,xt)}else{const Le=await Ee.generateAsync({type:"blob"}),Xe=document.createElement("a");Xe.href=URL.createObjectURL(Le),Xe.setAttribute("download",xt),document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),URL.revokeObjectURL(Xe.href)}}finally{$(!1),H.current=!1}}},[o,r]),Oe=qe.useRef(De);qe.useEffect(()=>{Oe.current=De},[De]);const P=qe.useCallback(()=>{Oe.current&&Oe.current()},[]);qe.useEffect(()=>{const he=window.electronAPI;return he&&he.onDownloadPhotos&&he.removeAllDownloadPhotosListeners&&(he.removeAllDownloadPhotosListeners(),he.onDownloadPhotos(P)),()=>{he&&he.removeDownloadPhotosListener&&he.removeDownloadPhotosListener(P)}},[P]);const te=async he=>{var we;const Ne=(we=he.target.files)==null?void 0:we[0];if(!Ne)return;const Ee=await Ne.text();await N(Ee),he.target&&(he.target.value="")},E=async()=>{var he;if(window.electronAPI){const Ne=await window.electronAPI.loadProject("dfr");Ne&&await N(Ne)}else(he=L.current)==null||he.click()},J=()=>{const he=new Set;return["proponent","projectName","location","date","projectNumber","monitor"].forEach(we=>{const Ae=r[we];(!Ae||typeof Ae=="string"&&!Ae.trim())&&he.add(we)}),!i.generalActivity.trim()&&i.locationActivities.length===0&&he.add("generalActivity"),["communication","weatherAndGroundConditions","environmentalProtection","wildlifeObservations","furtherRestoration"].forEach(we=>{const Ae=i[we];(!Ae||typeof Ae=="string"&&!Ae.trim())&&he.add(we)}),o.forEach(we=>{const Ae=`photo-${we.id}-`;we.date||he.add(`${Ae}date`),we.location||he.add(`${Ae}location`),we.description||he.add(`${Ae}description`),we.imageUrl||he.add(`${Ae}imageUrl`),!we.isMap&&!we.direction&&he.add(`${Ae}direction`)}),f(he),he.size>0?(v(!0),!1):!0},C=async(he,Ne,Ee,we,Ae)=>{const Ye=await Cd("xterra-logo.jpg");try{const xt=await fetch(Ye);if(!xt.ok)throw new Error("Logo fetch failed");const Le=await xt.blob(),Xe=new FileReader;return new Promise(ot=>{Xe.onloadend=()=>{const Be=Xe.result;he.addImage(Be,"JPEG",Ne,Ee,we,Ae),ot()},Xe.readAsDataURL(Le)})}catch(xt){console.error("Could not load logo:",xt),he.setFontSize(10),he.setTextColor(0,0,0),he.text("X-TERRA",Ne,Ee+5)}},O=async()=>{if(!J())return;const he=await Se(),Ne=ch(r.date),Ee=Ne?` - ${Ne}`:"",we=`${r.projectName||"Untitled DFR"}${Ee}`;await sh(he,{type:"dfrStandard",name:we,projectNumber:r.projectNumber});const Ae=new bt({orientation:"p",unit:"mm",format:"letter"}),Ye=Ae.internal.pageSize.getWidth(),xt=Ae.internal.pageSize.getHeight(),Le=12.7,ot=Le+4,Be=Ye-ot*2,rt=xt-ot,at=Re=>{Re.setDrawColor(0,125,140),Re.setLineWidth(.5);const Je=Le,Qe=Ye-Le,it=xt-Le;Re.line(Je,it,Qe,it)},Pt=(Re,Je,Qe={})=>{const{drawTopLine:it=!0,drawBottomLine:et=!0}=Qe,vt=4,At=0;let Nt=Je+vt;const ht=(Nr,Yr,Kt,Dn,da)=>{const Ui=(Nr||"").toUpperCase();Re.setFontSize(12),Re.setFont("times","bold");const fa=Re.getTextWidth(Ui);Re.text(Ui,Kt,Dn),Re.setFontSize(11),Re.setFont("times","normal");const zs=da-fa-2,xn=Re.splitTextToSize(Yr||" ",zs);return Re.text(xn,Kt+fa+2,Dn),Re.getTextDimensions(xn).h},Et=[{label:"DATE:",value:r.date},{label:"PROPONENT:",value:r.proponent},{label:"LOCATION:",value:r.location}],Bt=[{label:"Project #:",value:r.projectNumber},{label:"MONITOR:",value:r.monitor},{label:`${r.envFileType}:`,value:r.envFileValue}],Vt=[{label:"PROJECT NAME:",value:r.projectName}],Ut=ot,Zt=Be*.55,br=ot+Be*.6,mr=Be*.4;let dr=Nt,Ur=Nt;Et.forEach(Nr=>{const Yr=ht(Nr.label,Nr.value,Ut,dr,Zt);dr+=Yr+1.5}),Bt.forEach(Nr=>{const Yr=ht(Nr.label,Nr.value,br,Ur,mr);Ur+=Yr+1.5}),Nt=Math.max(dr,Ur),Vt.forEach(Nr=>{const Yr=ht(Nr.label,Nr.value,ot,Nt,Be);Nt+=Yr+1.5});const ci=Nt-1.5+At;return Re.setDrawColor(0,125,140),Re.setLineWidth(.5),it&&Re.line(Le,Je,Ye-Le,Je),et&&Re.line(Le,ci,Ye-Le,ci),ci},st=async Re=>{const Je=ot;await C(Re,ot,Je,40,10),Re.setFontSize(18),Re.setFont("times","bold"),Re.setTextColor(0,125,140),Re.text("DAILY FIELD REPORT",Ye/2,Je+7,{align:"center"}),Re.setTextColor(0,0,0);let Qe=Je+15;return Qe=Pt(Re,Qe),Qe+6},nt=async Re=>{const Je=ot;await C(Re,ot,Je,40,10),Re.setFontSize(18),Re.setFont("times","bold"),Re.setTextColor(0,125,140);const Qe=Je+7;Re.text("PHOTOGRAPHIC LOG",Ye/2,Qe,{align:"center"}),Re.setTextColor(0,0,0);let it=Je+15;return Re.setDrawColor(0,125,140),Re.setLineWidth(.5),Re.line(Le,it,Ye-Le,it),Pt(Re,it,{drawTopLine:!1})+1};let Ge=await st(Ae);const lt=async(Re,Je)=>{var et;let Qe=Je;if(Ae.setFontSize(12),Ae.setFont("times","normal"),!Re||!Re.trim())return Qe;const it=Re.split(`
`);for(const vt of it){if(vt.trim()===""){Qe+4<=rt&&(Qe+=4);continue}const At=((et=vt.match(/^\s*/))==null?void 0:et[0].length)??0,ht=Math.floor(At/2)*5,Et=vt.trim(),Bt=Et.startsWith("-"),Vt=Bt?Et.slice(1).trim():Et;if(!Vt)continue;const Ut=Be-ht-(Bt?5:0),Zt=Ae.splitTextToSize(Vt,Ut),br=Ae.getTextDimensions(Zt).h+2;Qe+br>rt&&(at(Ae),Ae.addPage(),Qe=await st(Ae),Ae.setFontSize(12),Ae.setFont("times","normal"));const mr=Qe;let dr=ot+ht+(Bt?5:0);if(Bt){const Ur=ot+ht+2;Ae.text("-",Ur,mr)}Ae.text(Zt,dr,mr),Qe+=br}return Qe};if(i.generalActivity||i.locationActivities.length>0){const Re="Project Activities:";Ae.setFontSize(13),Ae.setFont("times","bold");const Je=Ae.getTextDimensions(Re);Ge+Je.h+2>rt&&(at(Ae),Ae.addPage(),Ge=await st(Ae)),Ae.text(Re,ot,Ge),Ge+=Je.h+2,i.generalActivity&&i.generalActivity.trim()&&(Ge=await lt(i.generalActivity,Ge));for(const Qe of i.locationActivities){if(!Qe.activities||!Qe.activities.trim())continue;Ae.setFontSize(12),Ae.setFont("times","bold");const it=`Location: ${Qe.location||"N/A"}`,et=Ae.getTextDimensions(it).h+2;Ge+et>rt&&(at(Ae),Ae.addPage(),Ge=await st(Ae)),Ae.text(it,ot,Ge),Ge+=et,Ge=await lt(Qe.activities,Ge),Ge+=2}}const kt=[{title:"Communication:",content:i.communication},{title:"Weather and Ground Conditions:",content:i.weatherAndGroundConditions},{title:"Environmental Protection Measures & Mitigation:",content:i.environmentalProtection},{title:"Wildlife Observations:",content:i.wildlifeObservations},{title:"Further Restoration or Monitoring Required:",content:i.furtherRestoration}];for(const{title:Re,content:Je}of kt){if(!Je||!Je.trim())continue;const Qe=4;Ae.setFontSize(13),Ae.setFont("times","bold");const it=Ae.getTextDimensions(Re).h+2;Ge+Qe+it>rt?(at(Ae),Ae.addPage(),Ge=await st(Ae)):Ge+=Qe,Ae.setFontSize(13),Ae.setFont("times","bold"),Ae.text(Re,ot,Ge),Ge+=it,Ge=await lt(Je,Ge)}at(Ae);const jt=o.filter(Re=>!Re.isMap&&Re.imageUrl),_t=o.filter(Re=>Re.isMap&&Re.imageUrl),Dt=async(Re,Je)=>{const it=Be-5,et=it*.35,vt=it*.65;Re.setFontSize(12);let At=0;const Nt=Re.getTextDimensions("Photo");At+=Nt.h*.75;const ht=(Vt,Ut)=>{const Zt=`${Vt}:`;Re.setFont("times","bold");const br=Re.getTextWidth(Zt);Re.setFont("times","normal");const mr=et-br-2,dr=Re.splitTextToSize(Ut||" ",mr);return Re.getTextDimensions(dr).h+1.5};At+=ht(Je.isMap?"Map":"Photo",Je.photoNumber),Je.isMap||(At+=ht("Direction",Je.direction||"N/A")),At+=ht("Date",Je.date),At+=ht("Location",Je.location),At+=5;const Et=Re.splitTextToSize(Je.description||" ",et);At+=Re.getTextDimensions(Et).h;let Bt=0;if(Je.imageUrl)try{const{width:Vt,height:Ut}=await lh(Je.imageUrl);Bt=Ut*(vt/Vt)}catch(Vt){console.error("Could not load image for height calculation",Vt)}return Math.max(At,Bt)},dt=(Re,Je,Qe,it,et)=>{Re.setFontSize(12),Re.setFont("times","normal");const At=Re.getTextDimensions("Photo").h*.75;let Nt=it+At;const ht=(Bt,Vt)=>{Re.setFont("times","bold");const Ut=`${Bt}:`;Re.text(Ut,Qe,Nt),Re.setFont("times","normal");const Zt=Re.getTextWidth(Ut),br=et-Zt-2,mr=Re.splitTextToSize(Vt||" ",br);Re.text(mr,Qe+Zt+2,Nt),Nt+=Re.getTextDimensions(mr).h+1.5};ht(Je.isMap?"Map":"Photo",Je.photoNumber),Je.isMap||ht("Direction",Je.direction||"N/A"),ht("Date",Je.date),ht("Location",Je.location),Re.setFont("times","bold"),Re.text("Description:",Qe,Nt),Nt+=5,Re.setFont("times","normal");const Et=Re.splitTextToSize(Je.description||" ",et);Re.text(Et,Qe,Nt)},qt=async(Re,Je,Qe)=>{const et=Be-5,vt=et*.35,At=et*.65,Nt=ot+vt+5;if(dt(Re,Je,ot,Qe,vt),Je.imageUrl){const{width:ht,height:Et}=await lh(Je.imageUrl),Bt=Et*(At/ht);Re.addImage(Je.imageUrl,"JPEG",Nt,Qe,At,Bt)}};if(jt.length>0){const Re=await Promise.all(jt.map(Nt=>Dt(Ae,Nt))),Je=new bt,Qe=await nt(Je),it=rt-Qe,et=[];let vt=[],At=0;jt.forEach((Nt,ht)=>{const Et=Re[ht];vt.length===0?(vt.push(ht),At=Et):vt.length===1&&(At+Et+10<=it?vt.push(ht):(et.push(vt),vt=[ht],At=Et)),vt.length===2&&(et.push(vt),vt=[],At=0)}),vt.length>0&&et.push(vt);for(const Nt of et){Ae.addPage();let ht=await nt(Ae);const Et=Nt.map(Ut=>jt[Ut]),Bt=Nt.map(Ut=>Re[Ut]),Vt=rt-ht;if(Et.length===1)await qt(Ae,Et[0],ht);else{const Ut=Bt.reduce((dr,Ur)=>dr+Ur,0),Zt=4,br=Vt-Ut-Zt*2,mr=br>0?br/2:2;ht+=Zt,await qt(Ae,Et[0],ht),ht+=Bt[0],ht+=mr,Ae.setDrawColor(0,125,140),Ae.setLineWidth(.5),Ae.line(Le,ht,Ye-Le,ht),ht+=Zt,await qt(Ae,Et[1],ht)}at(Ae)}}const nr=(Re,Je,Qe)=>{let it=0;Re.setFontSize(12),Re.setFont("times","normal");const et=Re.getTextDimensions("Photo");it+=et.h*.75;const vt=(Nt,ht)=>{Re.setFont("times","bold");const Et=`${Nt}:`,Bt=Re.getTextWidth(Et);Re.setFont("times","normal");const Vt=Qe-Bt-2,Ut=Re.splitTextToSize(ht||" ",Vt);return Re.getTextDimensions(Ut).h+1.5};it+=vt("Map",Je.photoNumber),it+=vt("Date",Je.date),it+=vt("Location",Je.location),it+=5;const At=Re.splitTextToSize(Je.description||" ",Qe);return it+=Re.getTextDimensions(At).h,it};if(_t.length>0)for(const Re of _t){Ae.addPage();let Je=await nt(Ae);const Qe=25,it=nr(Ae,Re,Be),et=xt-Je-Qe-it,vt=Be;let At=Je;if(Re.imageUrl){const{width:Nt,height:ht}=await lh(Re.imageUrl),Et=Math.min(vt/Nt,et/ht),Bt=Nt*Et,Vt=ht*Et,Ut=ot+(vt-Bt)/2;Ae.addImage(Re.imageUrl,"JPEG",Ut,Je,Bt,Vt),At=Je+Vt+8}dt(Ae,Re,ot,At,Be),at(Ae)}const ir=Re=>Re.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),Ht=zm(r.date),Fe=`${ir(r.projectName)||"project"}_DFR_${Ht}.pdf`,ct=Ae.internal.getNumberOfPages();for(let Re=1;Re<=ct;Re++){Ae.setPage(Re),Ae.setFontSize(10),Ae.setFont("times","normal"),Ae.setTextColor(0,0,0);const Je=xt-Le+4;Ae.text(`Page ${Re} of ${ct}`,Ye-Le,Je,{align:"right"})}const wt=Ae.output("blob"),Ct=URL.createObjectURL(wt);z({url:Ct,filename:Fe,blob:wt})},T=()=>{const he=new Set;return c.forEach(Ne=>{!Ne.startsWith("photo-")&&Object.keys(r).includes(Ne)&&he.add(Ne)}),he},X=he=>{const Ne=new Set;return c.forEach(Ee=>{const we=`photo-${he}-`;Ee.startsWith(we)&&Ne.add(Ee.substring(we.length))}),Ne};return h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[I&&h.jsx(o3,{url:I.url,filename:I.filename,onClose:()=>z(null),pdfBlob:I.blob}),S&&h.jsx(Dd,{imageUrl:S,onClose:()=>m(null)}),re&&h.jsx(Td,{message:B}),h.jsx(Fd,{}),h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[k&&h.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6 rounded-md shadow-sm",role:"alert",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"py-1",children:h.jsx("svg",{className:"fill-current h-6 w-6 text-blue-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"Project format updated"}),h.jsx("p",{className:"text-sm",children:"This project was opened in an older format and has been automatically updated. Please save the project to keep these changes."})]}),h.jsxs("button",{onClick:()=>w(!1),className:"ml-auto -mx-1.5 -my-1.5 bg-blue-100 text-blue-500 rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 hover:bg-blue-200 inline-flex h-8 w-8","aria-label":"Dismiss",children:[h.jsx("span",{className:"sr-only",children:"Dismiss"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}),h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[h.jsxs("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(jd,{})," ",h.jsx("span",{children:"Home"})]}),h.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[h.jsxs("button",{onClick:E,className:"bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(uc,{})," ",h.jsx("span",{children:"Open Project"})]}),h.jsx("input",{type:"file",ref:L,onChange:te,style:{display:"none"},accept:".dfr"}),h.jsxs("button",{onClick:be,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(Sd,{})," ",h.jsx("span",{children:"Save Project"})]}),!window.electronAPI&&h.jsxs("button",{onClick:De,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(nc,{})," ",h.jsx("span",{children:"Download Photos"})]}),h.jsxs("button",{onClick:O,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{})," ",h.jsx("span",{children:"Save to PDF"})]})]})]}),h.jsxs("div",{className:"main-content space-y-8",children:[h.jsx(n3,{data:r,onDataChange:le,errors:T(),placeholders:lo.header}),h.jsxs(uh,{title:"Project Activities",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"General Activity"}),h.jsx("button",{onClick:()=>ne("generalActivity"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("generalActivity")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("generalActivity")&&h.jsx("textarea",{value:((M=i.comments)==null?void 0:M.generalActivity)||"",onChange:he=>ee("generalActivity",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.generalActivity,onChange:de,rows:15,placeholder:lo.body.generalActivity,isInvalid:c.has("generalActivity")})]}),h.jsx("div",{className:"space-y-4",children:i.locationActivities.map((he,Ne)=>h.jsx(c3,{data:he,onDataChange:A,onRemove:ue,onMove:V,isFirst:Ne===0,isLast:Ne===i.locationActivities.length-1},he.id))}),h.jsx("div",{className:"text-center",children:h.jsxs("button",{onClick:me,className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Location-Specific Activity"})]})})]}),h.jsxs(uh,{title:"Communications & Conditions",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Communication"}),h.jsx("button",{onClick:()=>ne("communication"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("communication")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("communication")&&h.jsx("textarea",{value:((ie=i.comments)==null?void 0:ie.communication)||"",onChange:he=>ee("communication",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.communication,onChange:he=>ve("communication",he),rows:3,placeholder:lo.body.communication,isInvalid:c.has("communication")})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Weather and Ground Conditions"}),h.jsx("button",{onClick:()=>ne("weatherAndGroundConditions"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("weatherAndGroundConditions")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("weatherAndGroundConditions")&&h.jsx("textarea",{value:((ce=i.comments)==null?void 0:ce.weatherAndGroundConditions)||"",onChange:he=>ee("weatherAndGroundConditions",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.weatherAndGroundConditions,onChange:he=>ve("weatherAndGroundConditions",he),rows:3,placeholder:lo.body.weatherAndGroundConditions,isInvalid:c.has("weatherAndGroundConditions")})]})]}),h.jsxs(uh,{title:"Environmental & Wildlife",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Environmental Protection Measures & Mitigation"}),h.jsx("button",{onClick:()=>ne("environmentalProtection"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("environmentalProtection")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("environmentalProtection")&&h.jsx("textarea",{value:((fe=i.comments)==null?void 0:fe.environmentalProtection)||"",onChange:he=>ee("environmentalProtection",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.environmentalProtection,onChange:he=>ve("environmentalProtection",he),rows:7,placeholder:lo.body.environmentalProtection,isInvalid:c.has("environmentalProtection")})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Wildlife Observations"}),h.jsx("button",{onClick:()=>ne("wildlifeObservations"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("wildlifeObservations")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("wildlifeObservations")&&h.jsx("textarea",{value:((Me=i.comments)==null?void 0:Me.wildlifeObservations)||"",onChange:he=>ee("wildlifeObservations",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.wildlifeObservations,onChange:he=>ve("wildlifeObservations",he),rows:3,placeholder:lo.body.wildlifeObservations,isInvalid:c.has("wildlifeObservations")})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Further Restoration or Monitoring Required"}),h.jsx("button",{onClick:()=>ne("furtherRestoration"),title:"Toggle comment",className:`p-1 rounded-full ${se.has("furtherRestoration")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),se.has("furtherRestoration")&&h.jsx("textarea",{value:((ze=i.comments)==null?void 0:ze.furtherRestoration)||"",onChange:he=>ee("furtherRestoration",he.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:i.furtherRestoration,onChange:he=>ve("furtherRestoration",he),rows:3,placeholder:lo.body.furtherRestoration,isInvalid:c.has("furtherRestoration")})]})]}),h.jsx("div",{className:"border-t-4 border-[#007D8C] my-10"}),h.jsx("h2",{className:"text-3xl font-bold text-gray-700 dark:text-white text-center",children:"Photographic Log"}),h.jsx("div",{children:o.map((he,Ne)=>h.jsxs("div",{children:[h.jsx(Ed,{data:he,onDataChange:(Ee,we)=>Y(he.id,Ee,we),onImageChange:Ee=>K(he.id,Ee),onRemove:()=>ke(he.id),onMoveUp:()=>oe(he.id,"up"),onMoveDown:()=>oe(he.id,"down"),isFirst:Ne===0,isLast:Ne===o.length-1,onImageClick:m,errors:X(he.id),showDirectionField:!he.isMap,headerDate:r.date,headerLocation:r.location,onAutoFill:(Ee,we)=>Y(he.id,Ee,we)}),Ne<o.length-1&&h.jsxs("div",{className:"relative my-6 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:h.jsx("div",{className:"w-full border-t-2 border-gray-300 dark:border-gray-600"})}),h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:()=>je(!1,Ne),className:"bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 text-[#007D8C] font-bold py-2 px-4 rounded-full border border-gray-300 dark:border-gray-600 inline-flex items-center gap-2 transition duration-200 shadow-sm",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo Here"})]})})]})]},he.id))}),h.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[h.jsxs("button",{onClick:()=>je(!1),className:"bg-[#007D8C] hover:bg-[#006b7a] text-white font-bold py-3 px-6 rounded-lg shadow-md inline-flex items-center gap-2 transition duration-200 text-lg",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo"})]}),h.jsxs("button",{onClick:()=>je(!0),className:"bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg shadow-md inline-flex items-center gap-2 transition duration-200 text-lg",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Map"})]})]})]}),o.length>0&&h.jsx("div",{className:"border-t-4 border-[#007D8C] my-8"}),h.jsx("footer",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-4",children:"X-TES Digital Reporting v1.1.2"})]}),b&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>_(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Unsupported file type animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Unsupported File Type"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please upload a supported image file."}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:["Supported formats: ",h.jsx("strong",{children:"JPG, PNG"})]})]})}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Missing information animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Missing Information"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please fill in all required fields."}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Missing fields are highlighted in red."})]})}),y&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md",children:[h.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"No Internet Connection"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"An internet connection is required to save the PDF. Please connect to the internet and try again."})]})})]})},D5="xtec_recent_projects",d3=()=>{try{const e=localStorage.getItem(D5);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse recent projects from localStorage",e),[]}},dh=async(e,t)=>{const r=Date.now();try{await Ld(r,e)}catch(p){console.error("Failed to save project to IndexedDB:",p);return}const n=d3(),i=`${t.type}-${t.name}-${t.projectNumber}`,a=n.find(p=>`${p.type}-${p.name}-${p.projectNumber}`===i),o=n.filter(p=>`${p.type}-${p.name}-${p.projectNumber}`!==i);if(a)try{const p=await _i(a.timestamp);if(p!=null&&p.photosData)for(const v of p.photosData)v.imageId&&await li(v.imageId);await ca(a.timestamp)}catch(p){console.error(`Failed to clean up old project version (${a.timestamp}):`,p)}let c=[{...t,timestamp:r},...o];const f=50;if(c.length>f){const p=c.splice(f);for(const v of p)try{const y=await _i(v.timestamp);if(y!=null&&y.photosData)for(const d of y.photosData)d.imageId&&await li(d.imageId);await ca(v.timestamp)}catch(y){console.error(`Failed to cleanup old project from list (${v.timestamp}):`,y)}}try{localStorage.setItem(D5,JSON.stringify(c))}catch(p){console.error("Failed to save recent projects to localStorage:",p)}},fh=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=a.getUTCFullYear(),s=String(a.getUTCMonth()+1).padStart(2,"0"),c=String(a.getUTCDate()).padStart(2,"0");return`${o}/${s}/${c}`}catch{return e}},hh=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=i=>r(i),n.src=e}),f3=e=>new Promise(t=>{const r=new Image;r.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){t(e);return}const a=1024,o=768;n.width=a,n.height=o,i.fillStyle="white",i.fillRect(0,0,n.width,n.height);const s=a/o,c=r.width/r.height;let f,p,v,y;c>s?(f=n.width,p=f/c,v=0,y=(n.height-p)/2):(p=n.height,f=p*c,y=0,v=(n.width-f)/2),i.drawImage(r,v,y,f,p),t(n.toDataURL("image/jpeg"))},r.src=e}),h3=e=>{if(!e)return"NoDate";try{const t=new Date(e);if(isNaN(t.getTime()))return e.replace(/[^a-z0-9]/gi,"");const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=String(a.getUTCMonth()+1).padStart(2,"0"),s=String(a.getUTCDate()).padStart(2,"0"),c=a.getUTCFullYear();return`${o}-${s}-${c}`}catch{return e.replace(/[^a-z0-9]/gi,"")}},p3=({url:e,filename:t,onClose:r,pdfBlob:n})=>{qe.useEffect(()=>{const a=o=>{o.key==="Escape"&&r()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="auto",e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}},[r,e]);const i=async()=>{if(window.electronAPI&&window.electronAPI.savePdf)try{let a;n?a=await n.arrayBuffer():a=await(await(await fetch(e)).blob()).arrayBuffer();const o=await window.electronAPI.savePdf(a,t);o.success?alert("PDF saved successfully!"):o.error&&alert(`Failed to save PDF: ${o.error}`)}catch(a){console.error("Error saving PDF via Electron:",a),alert("An error occurred while saving the PDF.")}else{const a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"PDF Preview"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]}),h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Close preview",children:h.jsx(Br,{className:"h-8 w-8"})})]})]}),h.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900 relative",children:h.jsx("object",{data:e,type:"application/pdf",className:"w-full h-full",children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100 p-8 text-center text-gray-700",children:[h.jsx("p",{className:"mb-4 text-lg font-semibold",children:"It appears your browser cannot preview PDFs directly."}),h.jsx("p",{className:"mb-6",children:"You can download the file to view it instead."}),h.jsxs("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]})]})})})]})})},wu=({title:e,children:t})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 shadow-md rounded-lg transition-colors duration-200",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 border-b-2 border-gray-200 dark:border-gray-700 pb-2 mb-4",children:e}),h.jsx("div",{className:"space-y-4",children:t})]}),Ki=({label:e,value:t,onChange:r,type:n="text",isTextArea:i=!1,rows:a=1,placeholder:o="",isInvalid:s=!1})=>{const c=`block w-full p-2 border rounded-md shadow-sm focus:ring-2 focus:ring-[#007D8C] focus:border-[#007D8C] transition bg-white dark:bg-gray-700 text-black dark:text-white dark:placeholder-gray-400 ${s?"border-red-500":"border-gray-300 dark:border-gray-600"}`,f=Fp.useRef(null);return h.jsxs("div",{children:[e&&h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e}),i?h.jsx("textarea",{ref:f,value:t,onChange:p=>r(p.target.value),rows:a,className:c,placeholder:o,spellCheck:!0}):h.jsx("input",{type:n,ref:f,value:t,onChange:p=>r(p.target.value),className:c,placeholder:o,spellCheck:!0})]})},ph=({label:e,value:t,onChange:r})=>h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[h.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium mb-2 sm:mb-0",children:e}),h.jsx("div",{className:"flex items-center space-x-6",children:["Yes","No","NA"].map(n=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-gray-600 dark:text-gray-300",children:[h.jsx("input",{type:"radio",name:e,value:n,checked:t===n,onChange:()=>r(n),className:"h-5 w-5 text-[#007D8C] border-gray-300 focus:ring-[#006b7a]"}),h.jsx("span",{children:n})]},n))})]}),m3=`08:30 - Leave Estevan to project area.
10:00 - Arrive near structure 285 on B1K. Complete X-Terra hazard assessment. Contact Davey crew and assess access options to get to structure 285.
10:30 - Meet Davey crew and review permits and hazard assessments for Davey and X-Terra. Permit outlines 30m wetland buffer for all herbicide activities (including basal bark).
10:45 - Finish spraying structure #285. Travel to structure #19.
12:30 - Arrive at Structure #19 is located in same quarter section as EM sites 17-18, but structure #19 itself is not in an AHPP area and does not require an EM (confirmed this in person). Crew completed structure #19. Travel to structures 10 and 9.
1:30 - Arrive at structures 10 and 9. Both are EM structures - crews completed herbicide application.
2:00 - Finish structures 10 and 9. All EM sites completed on B1K. Head back to Estevan.
2:30 - Arrive in Estevan. Complete DFR.`,g3=({onBack:e,initialData:t})=>{var P,te,E,J,C,O;const[r,n]=qe.useState({proponent:"SaskPower",date:"",location:"",projectName:"",vendorAndForeman:"",projectNumber:"",environmentalMonitor:"",envFileNumber:"",generalActivity:"",locationActivities:[],totalHoursWorked:"",completedTailgate:"",reviewedTailgate:"",reviewedPermits:"",equipmentOnsite:"",weatherAndGroundConditions:"",environmentalProtection:"",wildlifeObservations:"",futureMonitoring:"",comments:{}}),[i,a]=qe.useState([]),[o,s]=qe.useState(new Set),[c,f]=qe.useState(!1),[p,v]=qe.useState(!1),[y,d]=qe.useState(!1),[k,w]=qe.useState(!1),[S,m]=qe.useState(null),[b,_]=qe.useState(null),[I,z]=qe.useState(!1),[re,$]=qe.useState(""),[B,Z]=qe.useState(new Set),se=qe.useRef(null),U=qe.useRef(!1),L=async T=>{var ze,he,Ne,Ee;const{photosData:X,...M}=T;let ie=!1,ce={...r,...M};const fe=new Set;ce.generalActivity&&fe.add(ce.generalActivity),ce.projectActivities&&(fe.add(ce.projectActivities),ie=!0);const Me=[];if((ze=ce.locationActivities)!=null&&ze.length&&Me.push(...ce.locationActivities),(he=ce.locationActivities_old)!=null&&he.length&&(Me.push(...ce.locationActivities_old),ie=!0),(Ne=ce.activityBlocks)!=null&&Ne.length){for(const we of ce.activityBlocks)we.type==="general"&&we.activities?fe.add(we.activities):we.type==="location"&&Me.push({id:we.id,location:we.location||"",activities:we.activities});ie=!0}if(Me.length>0&&(Me.map(Ae=>`--- Location: ${Ae.location||"Unspecified"} ---
${Ae.activities}`).forEach(Ae=>fe.add(Ae)),((Ee=ce.locationActivities)==null?void 0:Ee.length)>0&&(ie=!0)),ce.generalActivity=Array.from(fe).join(`

`),ce.locationActivities=[],delete ce.activityBlocks,delete ce.projectActivities,delete ce.locationActivities_old,n(ce),ie&&w(!0),X&&Array.isArray(X)){const we=await Promise.all(X.map(async Ae=>{if(Ae.imageId&&!Ae.imageUrl){const Ye=await na(Ae.imageId);return{...Ae,imageUrl:Ye||null}}return Ae}));a(we)}else a([]);return ce},H=async T=>{try{const X=JSON.parse(T),M=await L(X),ie=fh(M.date),ce=ie?` - ${ie}`:"",fe=`${M.projectName||"Untitled SaskPower DFR"}${ce}`,Me=await V(M);await dh(Me,{type:"dfrSaskpower",name:fe,projectNumber:M.projectNumber})}catch(X){alert("Error parsing project file. Ensure it is a valid project file."),console.error(X)}};qe.useEffect(()=>{(async()=>{if(t)await L(t);else try{const X=JSON.parse(localStorage.getItem("xtec_general_settings")||"{}");X.defaultMonitor&&n(M=>({...M,environmentalMonitor:X.defaultMonitor}))}catch(X){console.error("Failed to load settings",X)}})()},[t]);const N=(T,X)=>{n(M=>({...M,[T]:X}))},le=T=>{Z(X=>{const M=new Set(X);return M.has(T)?M.delete(T):M.add(T),M})},ve=(T,X)=>{n(M=>({...M,comments:{...M.comments,[T]:X}}))},de=(T,X,M)=>{a(ie=>ie.map(ce=>ce.id===T?{...ce,[X]:M}:ce))},ne=(T,X)=>{if(!["image/jpeg","image/png"].includes(X.type)){v(!0);return}const ie=new FileReader;ie.onload=ce=>{var Me;const fe=(Me=ce.target)==null?void 0:Me.result;f3(fe).then(ze=>{a(he=>he.map(Ne=>Ne.id===T?{...Ne,imageUrl:ze}:Ne))})},ie.readAsDataURL(X)},ee=T=>{let X=0,M=0;return T.map(ie=>ie.isMap?(M++,{...ie,photoNumber:`Map ${M}`}):(X++,{...ie,photoNumber:String(X)}))},me=T=>{const M={id:i.length>0?Math.max(...i.map(ie=>ie.id))+1:1,photoNumber:"",date:"",location:"",description:"",imageUrl:null,direction:"",isMap:!1};a(ie=>{let ce;if(T!==void 0){const fe=T+1;ce=[...ie.slice(0,fe),M,...ie.slice(fe)]}else ce=[...ie,M];return ee(ce)})},ue=T=>{a(X=>{const M=X.find(ie=>ie.id===T);return M&&M.imageId&&li(M.imageId).catch(ie=>console.error("Failed to delete image from DB",ie)),ee(X.filter(ie=>ie.id!==T))})},A=(T,X)=>{const M=i.findIndex(fe=>fe.id===T);if(M===-1)return;const ie=X==="up"?M-1:M+1;if(ie<0||ie>=i.length)return;const ce=[...i];[ce[M],ce[ie]]=[ce[ie],ce[M]],a(ee(ce))},V=async T=>{const X=await Promise.all(i.map(async M=>{if(M.imageUrl){const ie=M.imageId||`${T.projectNumber||"proj"}-${M.id}-${Date.now()}`;await Pd(ie,M.imageUrl);const{imageUrl:ce,...fe}=M;return{...fe,imageId:ie}}return M}));return{...T,photosData:X}},Y=()=>{const T=new Set;return["date","location","projectName","vendorAndForeman","projectNumber","environmentalMonitor","envFileNumber","generalActivity","totalHoursWorked","equipmentOnsite","weatherAndGroundConditions","environmentalProtection","wildlifeObservations","futureMonitoring","completedTailgate","reviewedTailgate","reviewedPermits"].forEach(M=>{const ie=r[M];(ie==null||typeof ie=="string"&&!ie.trim())&&T.add(M)}),i.forEach(M=>{const ie=`photo-${M.id}-`;M.date||T.add(`${ie}date`),M.location||T.add(`${ie}location`),M.description||T.add(`${ie}description`),M.imageUrl||T.add(`${ie}imageUrl`),!M.isMap&&!M.direction&&T.add(`${ie}direction`)}),s(T),T.size>0?(f(!0),!1):!0},K=async(T,X,M,ie,ce)=>{const fe=await Cd("xterra-logo.jpg");try{const Me=await fetch(fe);if(!Me.ok)throw new Error("Logo fetch failed");const ze=await Me.blob(),he=new FileReader;return new Promise(Ne=>{he.onloadend=()=>{const Ee=he.result;T.addImage(Ee,"JPEG",X,M,ie,ce),Ne()},he.readAsDataURL(ze)})}catch(Me){console.error("Could not load logo:",Me),T.setFontSize(10),T.setTextColor(0,0,0),T.text("X-TERRA",X,M+5)}},pe=async()=>{if(!Y())return;const T=await V(r),X=fh(r.date),M=X?` - ${X}`:"",ie=`${r.projectName||"Untitled SaskPower DFR"}${M}`;await dh(T,{type:"dfrSaskpower",name:ie,projectNumber:r.projectNumber});const ce=new bt({orientation:"p",unit:"mm",format:"letter"}),fe=ce.internal.pageSize.getWidth(),Me=ce.internal.pageSize.getHeight(),ze=12.7,Ne=ze+4,Ee=fe-Ne*2,we=Me-Ne;let Ae=[],Ye=-1;const xt=(Fe,ct)=>{Ae.length>0&&Ye!==-1&&Ae.forEach(wt=>wt(Fe)),Ae=[],Ye=-1},Le=Fe=>{Fe.setDrawColor(0,125,140),Fe.setLineWidth(.5);const ct=ze,wt=fe-ze,Ct=Me-ze;Fe.line(ct,Ct,wt,Ct)},Xe=(Fe,ct,wt={})=>{const{drawTopLine:Ct=!0,drawBottomLine:Re=!0}=wt,Je=6,Qe=-1;Fe.setFontSize(12);let it=ct+Je;const et=(mr,dr,Ur,Fn,ci)=>{const Nr=`${(mr||"").toUpperCase()}:`;Fe.setFont("times","bold");const Yr=Fe.getTextWidth(Nr);Fe.text(Nr,Ur,Fn),Fe.setFont("times","normal");const Kt=ci-Yr-2,Dn=Fe.splitTextToSize(dr||" ",Kt);return Fe.text(Dn,Ur+Yr+2,Fn),Fe.getTextDimensions(Dn).h},vt=Ne,At=Ee*.5-2,Nt=Ne+Ee*.5+2,ht=Ee*.5-2,Et=1.5,Bt=[{label:"PROPONENT",value:r.proponent},{label:"PROJECT",value:r.projectName},{label:"LOCATION",value:r.location},{label:"ENV FILE NUMBER",value:r.envFileNumber}],Vt=[{label:"DATE",value:r.date},{label:"X-TERRA PROJECT #",value:r.projectNumber},{label:"MONITOR",value:r.environmentalMonitor},{label:"VENDOR",value:r.vendorAndForeman}];let Ut=it,Zt=it;Bt.forEach(mr=>{const dr=et(mr.label,mr.value,vt,Ut,At);Ut+=dr+Et}),Vt.forEach(mr=>{const dr=et(mr.label,mr.value,Nt,Zt,ht);Zt+=dr+Et}),it=Math.max(Ut,Zt);const br=it+Qe;return Fe.setDrawColor(0,125,140),Fe.setLineWidth(.5),Ct&&Fe.line(ze,ct,fe-ze,ct),Re&&Fe.line(ze,br,fe-ze,br),br},ot=async Fe=>{const ct=Ne;await K(Fe,Ne,ct,40,10),Fe.setFontSize(18),Fe.setFont("times","bold"),Fe.setTextColor(0,125,140),Fe.text("DAILY FIELD REPORT",fe/2,ct+7,{align:"center"}),Fe.setTextColor(0,0,0);let wt=ct+15;return wt=Xe(Fe,wt),wt+4},Be=async(Fe,ct,wt,Ct,Re={})=>{const{spaceBefore:Je=4,box:Qe=!1,forceNewPage:it=!1}=Re;if(!Ct||!Ct.trim())return ct;let et=ct+Je;it&&(xt(Fe),Le(Fe),Fe.addPage(),et=await ot(Fe));const vt=Fe.getTextDimensions(wt).h+6;et+vt+12>we&&(xt(Fe),Le(Fe),Fe.addPage(),et=await ot(Fe)),Fe.setFont("times","bold"),Fe.setFontSize(13);const Nt=Fe.getTextDimensions(wt).h,ht=et+(Qe?4:0);Fe.text(wt,Ne+(Qe?2:0),ht),et=ht+Nt+2;let Et=ht-(Qe?4:0),Bt=et;Fe.setFont("times","normal"),Fe.setFontSize(12);const Vt=Ct.split(`
`);for(const Ut of Vt){if(Ut.trim()===""){et+=4,Bt=et;continue}const Zt=Ut.match(/^\s*/),br=Zt?Zt[0].length:0,dr=Math.floor(br/2)*5,Ur=Ut.trim(),Fn=Ur.startsWith("-"),ci=Fn?Ur.slice(1).trim():Ur,Nr=Ee-dr-(Fn?5:0)-(Qe?4:0),Yr=Fe.splitTextToSize(ci,Nr),Kt=Fe.getTextDimensions(Yr).h+2;et+Kt>we&&(xt(Fe),Le(Fe),Fe.addPage(),et=await ot(Fe),Fe.setFont("times","normal"),Fe.setFontSize(12),Et=et);const Dn=et;let da=Ne+dr+(Qe?2:0)+(Fn?5:0);if(Fn){const Ui=Ne+dr+(Qe?2:0);Fe.text("-",Ui,Dn)}Fe.text(Yr,da,Dn),et+=Kt,Bt=et}if(Qe){const Ut=Bt-Et+4;Fe.setDrawColor(128,128,128),Fe.setLineWidth(.25),Fe.rect(Ne,Et,Ee,Ut)}return Qe?et+4:et};let rt=await ot(ce);rt=await Be(ce,rt,"Project Activities (detailed description with timestamps):",r.generalActivity),xt(ce);const at=[{title:"X-Terra Equipment Onsite:",content:r.equipmentOnsite},{title:"Weather and Ground Conditions:",content:r.weatherAndGroundConditions},{title:"Environmental Protection Measures and Mitigation:",content:r.environmentalProtection},{title:"Wildlife Observations:",content:r.wildlifeObservations},{title:"Future Monitoring Requirements:",content:r.futureMonitoring}];for(const{title:Fe,content:ct}of at)rt=await Be(ce,rt,Fe,ct),xt(ce);const Pt=[{label:"Completed/Reviewed X-Terra Tailgate:",value:r.completedTailgate},{label:"Reviewed/Signed Crew Tailgate:",value:r.reviewedTailgate},{label:"Reviewed Permit(s) with Crew(s):",value:r.reviewedPermits}],st=4+Pt.length*8+10;rt+st>we&&(Le(ce),ce.addPage(),rt=await ot(ce)),Ye=rt+4,rt+=4,Pt.forEach(Fe=>{const ct=rt;Ae.push(wt=>{const Ct=["Yes","No","NA"];wt.setFontSize(10),wt.setFont("times","normal"),wt.text(Fe.label,Ne,ct),wt.setLineWidth(.25),wt.setDrawColor(0,0,0),wt.setTextColor(0,0,0);let Qe=fe-Ne-Ct.length*20;Ct.forEach(it=>{const et=ct-.75;it===Fe.value?(wt.setFillColor(0,125,140),wt.circle(Qe,et,1.5,"FD")):wt.circle(Qe,et,1.5,"S"),wt.text(it,Qe+1.5+2,ct),Qe+=20})}),rt+=8});const nt=rt+4;Ae.push(Fe=>{Fe.setFontSize(10),Fe.setFont("times","bold"),Fe.text(`Total Hours Worked: ${r.totalHoursWorked}`,Ne,nt)}),rt=nt+ce.getTextDimensions(`Total Hours Worked: ${r.totalHoursWorked}`).h,xt(ce),Le(ce);const Ge=async Fe=>{const ct=ze;return Fe.setDrawColor(0,125,140),Fe.setLineWidth(.5),Fe.line(ze,ct,fe-ze,ct),Xe(Fe,ct,{drawTopLine:!1})+1},lt=i.filter(Fe=>!Fe.isMap&&Fe.imageUrl),kt=i.filter(Fe=>Fe.isMap&&Fe.imageUrl),jt=async(Fe,ct)=>{const Ct=Ee-5,Re=Ct*.35,Je=Ct*.65;Fe.setFontSize(12);let Qe=0;const it=Fe.getTextDimensions("Photo");Qe+=it.h*.75;const et=(Nt,ht)=>{const Et=`${Nt}:`;Fe.setFont("times","bold");const Bt=Fe.getTextWidth(Et);Fe.setFont("times","normal");const Vt=Re-Bt-2,Ut=Fe.splitTextToSize(ht||" ",Vt);return Fe.getTextDimensions(Ut).h+1.5};Qe+=et(ct.isMap?"Map":"Photo",ct.photoNumber),ct.isMap||(Qe+=et("Direction",ct.direction||"N/A")),Qe+=et("Date",ct.date),Qe+=et("Location",ct.location),Qe+=5;const vt=Fe.splitTextToSize(ct.description||" ",Re);Qe+=Fe.getTextDimensions(vt).h;let At=0;if(ct.imageUrl)try{const{width:Nt,height:ht}=await hh(ct.imageUrl);At=ht*(Je/Nt)}catch(Nt){console.error("Could not load image",Nt)}return Math.max(Qe,At)},_t=(Fe,ct,wt,Ct,Re)=>{Fe.setFontSize(12),Fe.setFont("times","normal");const Qe=Fe.getTextDimensions("Photo").h*.75;let it=Ct+Qe;const et=(At,Nt)=>{Fe.setFont("times","bold");const ht=`${At}:`;Fe.text(ht,wt,it),Fe.setFont("times","normal");const Et=Fe.getTextWidth(ht),Bt=Re-Et-2,Vt=Fe.splitTextToSize(Nt||" ",Bt);Fe.text(Vt,wt+Et+2,it),it+=Fe.getTextDimensions(Vt).h+1.5};et(ct.isMap?"Map":"Photo",ct.photoNumber),ct.isMap||et("Direction",ct.direction||"N/A"),et("Date",ct.date),et("Location",ct.location),Fe.setFont("times","bold"),Fe.text("Description:",wt,it),it+=5,Fe.setFont("times","normal");const vt=Fe.splitTextToSize(ct.description||" ",Re);Fe.text(vt,wt,it)},Dt=async(Fe,ct,wt)=>{const Re=Ee-5,Je=Re*.35,Qe=Re*.65,it=Ne+Je+5;if(_t(Fe,ct,Ne,wt,Je),ct.imageUrl){const{width:et,height:vt}=await hh(ct.imageUrl),At=vt*(Qe/et);Fe.addImage(ct.imageUrl,"JPEG",it,wt,Qe,At)}};if(lt.length>0){const Fe=await Promise.all(lt.map(it=>jt(ce,it))),ct=new bt,wt=await Ge(ct),Ct=we-wt,Re=[];let Je=[],Qe=0;lt.forEach((it,et)=>{const vt=Fe[et];Je.length===0?(Je.push(et),Qe=vt):Je.length===1&&(Qe+vt+10<=Ct?Je.push(et):(Re.push(Je),Je=[et],Qe=vt)),Je.length===2&&(Re.push(Je),Je=[],Qe=0)}),Je.length>0&&Re.push(Je);for(const it of Re){ce.addPage();let et=await Ge(ce);const vt=it.map(ht=>lt[ht]),At=it.map(ht=>Fe[ht]),Nt=we-et;if(vt.length===1)await Dt(ce,vt[0],et);else{const ht=At.reduce((Ut,Zt)=>Ut+Zt,0),Et=4,Bt=Nt-ht-Et*2,Vt=Bt>0?Bt/2:2;et+=Et,await Dt(ce,vt[0],et),et+=At[0],et+=Vt,ce.setDrawColor(0,125,140),ce.setLineWidth(.5),ce.line(ze,et,fe-ze,et),et+=Et,await Dt(ce,vt[1],et)}Le(ce)}}const dt=(Fe,ct,wt)=>{let Ct=0;Fe.setFontSize(12),Fe.setFont("times","normal");const Re=Fe.getTextDimensions("Photo");Ct+=Re.h*.75;const Je=(it,et)=>{Fe.setFont("times","bold");const vt=`${it}:`,At=Fe.getTextWidth(vt);Fe.setFont("times","normal");const Nt=wt-At-2,ht=Fe.splitTextToSize(et||" ",Nt);return Fe.getTextDimensions(ht).h+1.5};Ct+=Je("Map",ct.photoNumber),Ct+=Je("Date",ct.date),Ct+=Je("Location",ct.location),Ct+=5;const Qe=Fe.splitTextToSize(ct.description||" ",wt);return Ct+=Fe.getTextDimensions(Qe).h,Ct};if(kt.length>0)for(const Fe of kt){ce.addPage();let ct=await Ge(ce);const wt=25,Ct=dt(ce,Fe,Ee),Re=Me-ct-wt-Ct,Je=Ee;let Qe=ct;if(Fe.imageUrl){const{width:it,height:et}=await hh(Fe.imageUrl),vt=Math.min(Je/it,Re/et),At=it*vt,Nt=et*vt,ht=Ne+(Je-At)/2;ce.addImage(Fe.imageUrl,"JPEG",ht,ct,At,Nt),Qe=ct+Nt+8}_t(ce,Fe,Ne,Qe,Ee),Le(ce)}const nr=`${(Fe=>Fe.replace(/[^a-z0-9_]/gi,"-").toLowerCase())(r.projectNumber)||"project"}_SaskPower_DFR.pdf`,ir=ce.internal.getNumberOfPages();for(let Fe=1;Fe<=ir;Fe++){ce.setPage(Fe),ce.setFontSize(10),ce.setFont("times","normal"),ce.setTextColor(0,0,0);const ct=Me-ze+4;ce.text(`Page ${Fe} of ${ir}`,fe-ze,ct,{align:"right"})}const Ht=ce.output("blob"),zt=URL.createObjectURL(Ht);_({url:zt,filename:nr,blob:Ht})},je=async()=>{const T=await V(r),X=fh(r.date),M=X?` - ${X}`:"",ie=`${r.projectName||"Untitled SaskPower DFR"}${M}`;await dh(T,{type:"dfrSaskpower",name:ie,projectNumber:r.projectNumber});const ce=i.map(({imageId:Ee,...we})=>we),fe={...r,photosData:ce},Me=Ee=>Ee.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),ze=h3(r.date),Ne=`${Me(r.projectName)||"project"}_${ze}.spdfr`;if(window.electronAPI)await window.electronAPI.saveProject(JSON.stringify(fe),Ne);else{const Ee=new Blob([JSON.stringify(fe)],{type:"application/json;charset=utf-8;"}),we=document.createElement("a");we.href=URL.createObjectURL(Ee),we.setAttribute("download",Ne),document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(we.href)}},ke=qe.useCallback(async()=>{var T;if(!U.current){U.current=!0;try{$("Checking for photos..."),z(!0),await new Promise(ze=>setTimeout(ze,100));const X=i.filter(ze=>ze.imageUrl);if(X.length===0){$("No photos found to download."),await new Promise(ze=>setTimeout(ze,2e3)),z(!1);return}$(`Preparing ${X.length} photos...`),await new Promise(ze=>setTimeout(ze,100));const M=new Md;let ie="";const ce=ze=>ze.replace(/[^a-z0-9_.\-]/gi,"_");for(const ze of X){const Ne=`${ce(ze.photoNumber)}.jpg`;ie+=`---
File: ${Ne}
Photo Number: ${ze.photoNumber}
Date: ${ze.date||"N/A"}
Location: ${ze.location||"N/A"}
Direction: ${ze.direction||"N/A"}
Description: ${ze.description||"N/A"}
---

`;const we=await(await fetch(ze.imageUrl)).blob();M.file(Ne,we)}M.file("metadata.txt",ie),$("Creating zip file..."),await new Promise(ze=>setTimeout(ze,100));const fe=ze=>ze.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),Me=`${fe(r.projectNumber)||"project"}_${fe(r.projectName)||"saskpower-dfr"}_Photos.zip`;if((T=window.electronAPI)!=null&&T.saveZipFile){const ze=await M.generateAsync({type:"arraybuffer"});await window.electronAPI.saveZipFile(ze,Me)}else{const ze=await M.generateAsync({type:"blob"}),he=document.createElement("a");he.href=URL.createObjectURL(ze),he.setAttribute("download",Me),document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(he.href)}}finally{z(!1),U.current=!1}}},[i,r]),oe=qe.useRef(ke);qe.useEffect(()=>{oe.current=ke},[ke]);const Se=qe.useCallback(()=>{oe.current&&oe.current()},[]);qe.useEffect(()=>{const T=window.electronAPI;return T&&T.onDownloadPhotos&&T.removeAllDownloadPhotosListeners&&(T.removeAllDownloadPhotosListeners(),T.onDownloadPhotos(Se)),()=>{T&&T.removeDownloadPhotosListener&&T.removeDownloadPhotosListener(Se)}},[Se]);const be=async()=>{var T;if(window.electronAPI){const X=await window.electronAPI.loadProject("spdfr");X&&await H(X)}else(T=se.current)==null||T.click()},De=async T=>{var ie;const X=(ie=T.target.files)==null?void 0:ie[0];if(!X)return;const M=await X.text();await H(M),T.target&&(T.target.value="")},Oe=T=>{const X=new Set;return o.forEach(M=>{const ie=`photo-${T}-`;M.startsWith(ie)&&X.add(M.substring(ie.length))}),X};return h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[b&&h.jsx(p3,{url:b.url,filename:b.filename,onClose:()=>_(null),pdfBlob:b.blob}),S&&h.jsx(Dd,{imageUrl:S,onClose:()=>m(null)}),I&&h.jsx(Td,{message:re}),h.jsx(Fd,{}),h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[k&&h.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6 rounded-md shadow-sm",role:"alert",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"py-1",children:h.jsx("svg",{className:"fill-current h-6 w-6 text-blue-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold",children:"Project format updated"}),h.jsx("p",{className:"text-sm",children:"This project was opened in an older format and has been automatically updated. Please save the project to keep these changes."})]}),h.jsxs("button",{onClick:()=>w(!1),className:"ml-auto -mx-1.5 -my-1.5 bg-blue-100 text-blue-500 rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 hover:bg-blue-200 inline-flex h-8 w-8","aria-label":"Dismiss",children:[h.jsx("span",{className:"sr-only",children:"Dismiss"}),h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}),h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[h.jsxs("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(jd,{})," ",h.jsx("span",{children:"Home"})]}),h.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[h.jsxs("button",{onClick:be,className:"bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(uc,{})," ",h.jsx("span",{children:"Open Project"})]}),h.jsx("input",{type:"file",ref:se,onChange:De,style:{display:"none"},accept:".spdfr"}),h.jsxs("button",{onClick:je,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(Sd,{})," ",h.jsx("span",{children:"Save Project"})]}),!window.electronAPI&&h.jsxs("button",{onClick:ke,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(nc,{})," ",h.jsx("span",{children:"Download Photos"})]}),h.jsxs("button",{onClick:pe,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{})," ",h.jsx("span",{children:"Save to PDF"})]})]})]}),h.jsxs("div",{className:"main-content space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 shadow-md rounded-lg transition-colors duration-200",children:[h.jsx("div",{className:"flex justify-center md:justify-start mb-4",children:h.jsx($n,{fileName:"xterra-logo.jpg",alt:"X-TERRA Logo",className:"h-14 w-auto mix-blend-multiply dark:mix-blend-normal dark:bg-white dark:p-1 dark:rounded-sm"})}),h.jsx("h1",{className:"font-extrabold text-[#007D8C] tracking-wider text-center text-3xl mb-4",children:"DAILY FIELD REPORT"}),h.jsx("div",{className:"border-t-4 border-[#007D8C] mb-4"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ki,{label:"PROPONENT",value:r.proponent,onChange:T=>N("proponent",T)}),h.jsx(Ki,{label:"PROJECT",value:r.projectName,onChange:T=>N("projectName",T)}),h.jsx(Ki,{label:"LOCATION",value:r.location,onChange:T=>N("location",T),isTextArea:!0}),h.jsx(Ki,{label:"ENV FILE NUMBER",value:r.envFileNumber,onChange:T=>N("envFileNumber",T)})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ki,{label:"DATE",value:r.date,onChange:T=>N("date",T),placeholder:"Month Day, Year"}),h.jsx(Ki,{label:"X-TERRA PROJECT #",value:r.projectNumber,onChange:T=>N("projectNumber",T)}),h.jsx(Ki,{label:"MONITOR",value:r.environmentalMonitor,onChange:T=>N("environmentalMonitor",T)}),h.jsx(Ki,{label:"VENDOR & FOREMAN",value:r.vendorAndForeman,onChange:T=>N("vendorAndForeman",T)})]})]})]}),h.jsxs(wu,{title:"Project Activities",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project Activities (detailed description with timestamps)"}),h.jsx("button",{onClick:()=>le("generalActivity"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("generalActivity")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("generalActivity")&&h.jsx("textarea",{value:((P=r.comments)==null?void 0:P.generalActivity)||"",onChange:T=>ve("generalActivity",T.target.value),placeholder:"Add a comment for editing purposes...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.generalActivity,onChange:T=>N("generalActivity",T),rows:15,placeholder:m3})]}),h.jsx(wu,{title:"Equipment and Conditions",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"X-Terra Equipment Onsite"}),h.jsx("button",{onClick:()=>le("equipmentOnsite"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("equipmentOnsite")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("equipmentOnsite")&&h.jsx("textarea",{value:((te=r.comments)==null?void 0:te.equipmentOnsite)||"",onChange:T=>ve("equipmentOnsite",T.target.value),placeholder:"Add a comment...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.equipmentOnsite,onChange:T=>N("equipmentOnsite",T),rows:3})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Weather and Ground Conditions"}),h.jsx("button",{onClick:()=>le("weatherAndGroundConditions"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("weatherAndGroundConditions")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("weatherAndGroundConditions")&&h.jsx("textarea",{value:((E=r.comments)==null?void 0:E.weatherAndGroundConditions)||"",onChange:T=>ve("weatherAndGroundConditions",T.target.value),placeholder:"Add a comment...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.weatherAndGroundConditions,onChange:T=>N("weatherAndGroundConditions",T),rows:3})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Environmental Protection Measures and Mitigation"}),h.jsx("button",{onClick:()=>le("environmentalProtection"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("environmentalProtection")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("environmentalProtection")&&h.jsx("textarea",{value:((J=r.comments)==null?void 0:J.environmentalProtection)||"",onChange:T=>ve("environmentalProtection",T.target.value),placeholder:"Add a comment...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.environmentalProtection,onChange:T=>N("environmentalProtection",T),rows:3})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Wildlife Observations"}),h.jsx("button",{onClick:()=>le("wildlifeObservations"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("wildlifeObservations")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("wildlifeObservations")&&h.jsx("textarea",{value:((C=r.comments)==null?void 0:C.wildlifeObservations)||"",onChange:T=>ve("wildlifeObservations",T.target.value),placeholder:"Add a comment...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.wildlifeObservations,onChange:T=>N("wildlifeObservations",T),rows:3})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Future Monitoring Requirements"}),h.jsx("button",{onClick:()=>le("futureMonitoring"),title:"Toggle comment",className:`p-1 rounded-full ${B.has("futureMonitoring")?"bg-yellow-200 text-yellow-800":"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300"}`,children:h.jsx(zn,{className:"h-5 w-5 text-black dark:text-yellow-400"})})]}),B.has("futureMonitoring")&&h.jsx("textarea",{value:((O=r.comments)==null?void 0:O.futureMonitoring)||"",onChange:T=>ve("futureMonitoring",T.target.value),placeholder:"Add a comment...",rows:2,className:"block w-full p-2 border border-yellow-300 bg-yellow-50 text-gray-900 rounded-md shadow-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition mb-2"}),h.jsx(Bn,{label:"",value:r.futureMonitoring,onChange:T=>N("futureMonitoring",T),rows:3})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsx(wu,{title:"Daily Checklists",children:h.jsxs("div",{className:"space-y-0",children:[h.jsx(ph,{label:"Completed/Reviewed X-Terra Tailgate",value:r.completedTailgate,onChange:T=>N("completedTailgate",T)}),h.jsx(ph,{label:"Reviewed/Signed Crew Tailgate",value:r.reviewedTailgate,onChange:T=>N("reviewedTailgate",T)}),h.jsx(ph,{label:"Reviewed Permit(s) with Crew(s)",value:r.reviewedPermits,onChange:T=>N("reviewedPermits",T)})]})}),h.jsx(wu,{title:"Total Hours",children:h.jsx(Ki,{label:"Total Hours Worked",value:r.totalHoursWorked,onChange:T=>N("totalHoursWorked",T),placeholder:"e.g., 10.5"})})]}),h.jsx("div",{className:"border-t-4 border-[#007D8C] my-10"}),h.jsx("h2",{className:"text-3xl font-bold text-gray-700 dark:text-white text-center",children:"Photographic Log"}),h.jsx("div",{children:i.map((T,X)=>h.jsxs("div",{children:[h.jsx(Ed,{data:T,onDataChange:(M,ie)=>de(T.id,M,ie),onImageChange:M=>ne(T.id,M),onRemove:()=>ue(T.id),onMoveUp:()=>A(T.id,"up"),onMoveDown:()=>A(T.id,"down"),isFirst:X===0,isLast:X===i.length-1,onImageClick:m,errors:Oe(T.id),showDirectionField:!T.isMap,headerDate:r.date,headerLocation:r.location,onAutoFill:(M,ie)=>de(T.id,M,ie)}),X<i.length-1&&h.jsxs("div",{className:"relative my-6 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:h.jsx("div",{className:"w-full border-t-2 border-gray-300 dark:border-gray-600"})}),h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:()=>me(X),className:"bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 text-[#007D8C] font-bold py-2 px-4 rounded-full border border-gray-300 dark:border-gray-600 inline-flex items-center gap-2 transition duration-200 shadow-sm",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo Here"})]})})]})]},T.id))}),h.jsx("div",{className:"mt-8 flex justify-center gap-4",children:h.jsxs("button",{onClick:()=>me(),className:"bg-[#007D8C] hover:bg-[#006b7a] text-white font-bold py-3 px-6 rounded-lg shadow-md inline-flex items-center gap-2 transition duration-200 text-lg",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo"})]})})]}),i.length>0&&h.jsx("div",{className:"border-t-4 border-[#007D8C] my-8"}),h.jsx("footer",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-4",children:"X-TES Digital Reporting v1.1.2"})]}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Unsupported file type",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Unsupported File Type"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please upload a supported image file (JPG, PNG)."})]})}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>f(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Missing info",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Missing Information"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please fill in all required fields (highlighted in red)."})]})}),y&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md",children:[h.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"No Internet Connection"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Internet is required for PDF generation."})]})})]})},ld="xtec_recent_projects",v3=()=>{try{const e=localStorage.getItem(ld);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse recent projects from localStorage",e),[]}},mh=async(e,t)=>{const r=Date.now();try{await Ld(r,e)}catch(p){return console.error("Failed to save project to IndexedDB:",p),r}const n=v3(),i=`${t.type}-${t.name}-${t.projectNumber}`,a=n.find(p=>`${p.type}-${p.name}-${p.projectNumber}`===i),o=n.filter(p=>`${p.type}-${p.name}-${p.projectNumber}`!==i);if(a)try{const p=await _i(a.timestamp);if(p!=null&&p.photosData)for(const v of p.photosData)v.imageId&&await li(v.imageId);await ca(a.timestamp)}catch(p){console.error(`Failed to clean up old project version (${a.timestamp}):`,p)}let c=[{...t,timestamp:r},...o];const f=50;if(c.length>f){const p=c.splice(f);for(const v of p)try{const y=await _i(v.timestamp);if(y!=null&&y.photosData)for(const d of y.photosData)d.imageId&&await li(d.imageId);await ca(v.timestamp)}catch(y){console.error(`Failed to cleanup old project from list (${v.timestamp}):`,y)}}try{localStorage.setItem(ld,JSON.stringify(c))}catch(p){console.error("Failed to save recent projects to localStorage:",p)}return r},Bm=e=>new Promise((t,r)=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=i=>r(i),n.src=e}),gh=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=new Date(Date.UTC(r,n,i)),o=a.getUTCFullYear(),s=String(a.getUTCMonth()+1).padStart(2,"0"),c=String(a.getUTCDate()).padStart(2,"0");return`${o}/${s}/${c}`}catch{return e}},y3=({url:e,filename:t,onClose:r,pdfBlob:n})=>{qe.useEffect(()=>{const a=o=>{o.key==="Escape"&&r()};return window.addEventListener("keydown",a),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",a),document.body.style.overflow="auto",e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}},[r,e]);const i=async()=>{if(window.electronAPI&&window.electronAPI.savePdf)try{let a;n?a=await n.arrayBuffer():a=await(await(await fetch(e)).blob()).arrayBuffer();const o=await window.electronAPI.savePdf(a,t);o.success?alert("PDF saved successfully!"):o.error&&alert(`Failed to save PDF: ${o.error}`)}catch(a){console.error("Error saving PDF via Electron:",a),alert("An error occurred while saving the PDF.")}else{const a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full flex flex-col overflow-hidden transition-colors duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"PDF Preview"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]}),h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Close preview",children:h.jsx(Br,{className:"h-8 w-8"})})]})]}),h.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900 relative",children:h.jsx("object",{data:e,type:"application/pdf",className:"w-full h-full",children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gray-100 dark:bg-gray-800 p-8 text-center text-gray-700 dark:text-gray-300",children:[h.jsx("p",{className:"mb-4 text-lg font-semibold",children:"It appears your browser cannot preview PDFs directly."}),h.jsx("p",{className:"mb-6",children:"You can download the file to view it instead."}),h.jsxs("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{}),h.jsx("span",{children:"Download PDF"})]})]})})})]})})},w3=({isOpen:e,onClose:t,onImport:r,currentProjectTimestamp:n})=>{const[i,a]=qe.useState([]),[o,s]=qe.useState(new Set);qe.useEffect(()=>{if(e){const v=(localStorage.getItem(ld)?JSON.parse(localStorage.getItem(ld)):[]).filter(y=>(y.type==="photoLog"||y.type==="dfrStandard"||y.type==="dfrSaskpower")&&y.timestamp!==n);a(v),s(new Set)}},[e,n]);const c=p=>{s(v=>{const y=new Set(v);return y.has(p)?y.delete(p):y.add(p),y})},f=()=>{const p=i.filter(v=>o.has(v.timestamp));r(p),t()};return e?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] flex flex-col transition-colors duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center border-b dark:border-gray-700 pb-3 mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Import Photos from Projects"}),h.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:h.jsx(Br,{})})]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Select projects to import photos from."}),h.jsx("div",{className:"flex-grow overflow-y-auto border dark:border-gray-700 rounded-md p-2 bg-gray-50 dark:bg-gray-900",children:i.length>0?h.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(p=>h.jsxs("li",{className:"p-3 flex items-center",children:[h.jsx("input",{type:"checkbox",id:`proj-${p.timestamp}`,checked:o.has(p.timestamp),onChange:()=>c(p.timestamp),className:"h-5 w-5 rounded border-gray-300 text-[#007D8C] focus:ring-[#007D8C]"}),h.jsxs("label",{htmlFor:`proj-${p.timestamp}`,className:"ml-3 flex-grow cursor-pointer",children:[h.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:p.name}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Project #: ",p.projectNumber," | Last updated: ",new Date(p.timestamp).toLocaleDateString()]})]})]},p.timestamp))}):h.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[h.jsx("p",{children:"No compatible recent projects found."}),h.jsx("p",{className:"text-sm mt-2",children:"Create and save some DFRs or Photo Logs to see them here."})]})}),h.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[h.jsx("button",{onClick:t,className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white text-gray-800 font-bold py-2 px-4 rounded-lg",children:"Cancel"}),h.jsxs("button",{onClick:f,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg",disabled:o.size===0,children:["Import (",o.size,")"]})]})]})}):null},x3=({onBack:e,initialData:t})=>{const[r,n]=qe.useState({proponent:"",projectName:"",location:"",date:"",projectNumber:""}),[i,a]=qe.useState([]),[o,s]=qe.useState(null),[c,f]=qe.useState(new Set),[p,v]=qe.useState(!1),[y,d]=qe.useState(!1),[k,w]=qe.useState(!1),[S,m]=qe.useState(null),[b,_]=qe.useState(null),[I,z]=qe.useState(!1),[re,$]=qe.useState(""),[B,Z]=qe.useState(!1),se=qe.useRef(null),U=qe.useRef(null),L=qe.useRef(!1),H=async(C,O)=>{const T=await Promise.all(O.map(async X=>{if(X.imageUrl){const M=X.imageId||`${C.projectNumber||"proj"}-${X.id}-${Date.now()}`;await Pd(M,X.imageUrl);const{imageUrl:ie,...ce}=X;return{...ce,imageId:M}}return X}));return{headerData:C,photosData:T}},N=async C=>{try{const O=JSON.parse(C),{headerData:T,photosData:X}=O;if(T&&X&&Array.isArray(X)){n(T);const M=await Promise.all(X.map(async he=>{if(he.imageId&&!he.imageUrl){const Ne=await na(he.imageId);return{...he,imageUrl:Ne||null}}return he}));a(M);const ie=gh(T.date),ce=ie?` - ${ie}`:"",fe=`${T.projectName||"Untitled Combine Logs"}${ce}`,Me=await H(T,M),ze=await mh(Me,{type:"combinedLog",name:fe,projectNumber:T.projectNumber});s(ze)}else alert("Invalid project file format.")}catch(O){alert("Error parsing project file. Ensure it is a valid JSON file."),console.error(O)}};qe.useEffect(()=>{(async()=>{if(t){if(n(t.headerData||{proponent:"",projectName:"",location:"",date:"",projectNumber:""}),t.photosData&&Array.isArray(t.photosData)){const O=await Promise.all(t.photosData.map(async T=>{if(T.imageId&&!T.imageUrl){const X=await na(T.imageId);return{...T,imageUrl:X||null}}return T}));a(O)}else a(t.photosData||[]);t.timestamp&&s(t.timestamp)}else try{const O=JSON.parse(localStorage.getItem("xtec_general_settings")||"{}");O.defaultProponent&&n(T=>({...T,proponent:O.defaultProponent}))}catch(O){console.error("Failed to load settings",O)}})()},[t]);const le=(C,O)=>{n(T=>({...T,[C]:O}))},ve=(C,O,T)=>{a(X=>X.map(M=>M.id===C?{...M,[O]:T}:M))},de=C=>new Promise(O=>{const T=new Image;T.onload=()=>{const X=document.createElement("canvas"),M=X.getContext("2d");if(!M){O(C);return}const ie=4/3,ce=T.width/T.height,fe=1024,Me=768;X.width=fe,X.height=Me,M.fillStyle="white",M.fillRect(0,0,X.width,X.height);let ze,he,Ne,Ee;ce>ie?(ze=X.width,he=ze/ce,Ne=0,Ee=(X.height-he)/2):(he=X.height,ze=he*ce,Ee=0,Ne=(X.width-ze)/2),M.drawImage(T,Ne,Ee,ze,he),O(X.toDataURL("image/jpeg"))},T.src=C}),ne=(C,O)=>{if(!["image/jpeg","image/png"].includes(O.type)){v(!0);return}const X=new FileReader;X.onload=M=>{var ce;const ie=(ce=M.target)==null?void 0:ce.result;de(ie).then(fe=>{a(Me=>Me.map(ze=>ze.id===C?{...ze,imageUrl:fe}:ze))})},X.readAsDataURL(O)},ee=C=>C.map((O,T)=>({...O,photoNumber:String(T+1)})),me=C=>{const T={id:i.length>0?Math.max(...i.map(X=>X.id))+1:1,photoNumber:"",date:r.date||"",location:"",description:"",imageUrl:null,direction:""};a(X=>{let M;if(C!==void 0){const ie=C+1;M=[...X.slice(0,ie),T,...X.slice(ie)]}else M=[...X,T];return ee(M)})},ue=C=>{a(O=>ee(O.filter(T=>T.id!==C)))},A=(C,O)=>{const T=i.findIndex(ie=>ie.id===C);if(T===-1)return;const X=O==="up"?T-1:T+1;if(X<0||X>=i.length)return;const M=[...i];[M[T],M[X]]=[M[X],M[T]],a(ee(M))},V=async C=>{Z(!1),$("Importing photos..."),z(!0);try{const O=[];for(const T of C){const X=await _i(T.timestamp);if(X&&X.photosData){const M=X.photosData;for(const ie of M){let ce=ie.imageUrl;!ce&&ie.imageId&&(ce=await na(ie.imageId)),ce&&O.push({...ie,id:0,imageId:void 0,imageUrl:ce})}}}a(T=>{let X=T.length>0?Math.max(...T.map(ce=>ce.id))+1:1;const M=O.map(ce=>({...ce,id:X++})),ie=[...T,...M];return ee(ie)})}catch(O){console.error("Import failed",O),alert("Failed to import some projects.")}finally{z(!1)}},Y=async()=>{var C;if(window.electronAPI&&window.electronAPI.loadMultipleProjects){const O=await window.electronAPI.loadMultipleProjects();O.success&&O.data&&await pe(O.data)}else(C=U.current)==null||C.click()},K=async C=>{const O=C.target.files;if(!O||O.length===0)return;const T=[];for(let X=0;X<O.length;X++){const M=await O[X].text();T.push(M)}await pe(T),C.target&&(C.target.value="")},pe=async C=>{$("Importing photos from files..."),z(!0);try{const O=[];for(const T of C)try{const X=JSON.parse(T);if(X&&X.photosData&&Array.isArray(X.photosData)){const M=X.photosData;for(const ie of M){let ce=ie.imageUrl;if(!ce&&ie.imageId){const fe=await na(ie.imageId);fe&&(ce=fe)}ce&&O.push({...ie,id:0,imageId:void 0,imageUrl:ce})}}}catch(X){console.error("Error parsing a file",X)}O.length>0?a(T=>{let X=T.length>0?Math.max(...T.map(ce=>ce.id))+1:1;const M=O.map(ce=>({...ce,id:X++})),ie=[...T,...M];return ee(ie)}):alert("No photos found in selected files. Ensure the files are valid project files with embedded images.")}catch(O){console.error("Import process failed",O),alert("An error occurred while importing files.")}finally{z(!1)}},je=()=>{const C=new Set;return Object.keys(r).forEach(O=>{r[O]||C.add(O)}),i.forEach(O=>{const T=`photo-${O.id}-`;O.date||C.add(`${T}date`),O.location||C.add(`${T}location`),O.description||C.add(`${T}description`),O.imageUrl||C.add(`${T}imageUrl`)}),f(C),C.size>0?(d(!0),!1):!0},ke=async()=>{const C=await H(r,i),O=gh(r.date),T=O?` - ${O}`:"",X=`${r.projectName||"Untitled Combine Logs"}${T}`,M=await mh(C,{type:"combinedLog",name:X,projectNumber:r.projectNumber});s(M);const ie=i.map(({imageId:ze,...he})=>he),ce={headerData:r,photosData:ie},fe=ze=>ze.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),Me=`${fe(r.projectNumber)||"project"}_${fe(r.projectName)||"combinedlog"}.clog`;if(window.electronAPI)await window.electronAPI.saveProject(JSON.stringify(ce),Me);else{const ze=new Blob([JSON.stringify(ce)],{type:"application/json;charset=utf-8;"}),he=document.createElement("a");he.href=URL.createObjectURL(ze),he.setAttribute("download",Me),document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(he.href)}},oe=async(C,O,T,X,M)=>{const ie=await Cd("xterra-logo.jpg");try{const ce=await fetch(ie);if(!ce.ok)throw new Error("Logo fetch failed");const fe=await ce.blob(),Me=new FileReader;return new Promise(ze=>{Me.onloadend=()=>{const he=Me.result;C.addImage(he,"JPEG",O,T,X,M),ze()},Me.readAsDataURL(fe)})}catch(ce){console.error("Could not load logo:",ce),C.setFontSize(10),C.setTextColor(0,0,0),C.text("X-TERRA",O,T+5)}},Se=async()=>{if(!je())return;const C=await H(r,i),O=gh(r.date),T=O?` - ${O}`:"",X=`${r.projectName||"Untitled Combine Logs"}${T}`;await mh(C,{type:"combinedLog",name:X,projectNumber:r.projectNumber});const M=new bt({orientation:"p",unit:"mm",format:"letter"}),ie=M.internal.pageSize.getWidth(),ce=M.internal.pageSize.getHeight(),fe=10,Me=ie-fe*2,ze=async Be=>{const rt=fe;await oe(Be,fe,rt,40,10),Be.setFontSize(18),Be.setFont("times","bold"),Be.setTextColor(0,125,140),Be.text("PHOTOGRAPHIC LOG",ie/2,rt+7,{align:"center"}),Be.setTextColor(0,0,0);const at=rt+18;Be.setLineWidth(.5),Be.setDrawColor(0,125,140),Be.line(fe,at,ie-fe,at);const Pt=fe,st=ie*.55,nt=st-Pt-5,Ge=ie-fe-st,lt=2,kt=(ct,wt,Ct,Re,Je)=>{const Qe=wt||" ",it=`${ct}:`;Be.setFontSize(13),Be.setFont("times","bold");const et=Be.getTextWidth(it),vt=Be.getTextDimensions(it).h;Be.text(it,Ct,Re),Be.setFontSize(12),Be.setFont("times","normal");const At=Ct+et+1,Nt=Je-et-1,ht=Be.splitTextToSize(Qe,Nt),Et=Be.getTextDimensions(ht).h;return Be.text(ht,At,Re),Math.max(vt,Et)};let _t=at+5;const Dt=kt("Proponent",r.proponent,Pt,_t,nt),dt=kt("Date",r.date,st,_t,Ge);_t+=Math.max(Dt,dt)+lt;const qt=kt("Location",r.location,Pt,_t,nt),nr=kt("Project",r.projectNumber,st,_t,Ge);_t+=Math.max(qt,nr)+lt;const ir=kt("Project Name",r.projectName,Pt,_t,Me);_t+=ir;const Fe=_t+2;return Be.setLineWidth(.5),Be.setDrawColor(0,125,140),Be.line(fe,Fe,ie-fe,Fe),Fe},Ne=ce-15,Ee=Be=>{const rt=ce-12;Be.setLineWidth(.5),Be.setDrawColor(0,125,140),Be.line(fe,rt,ie-fe,rt)},we=async(Be,rt)=>{const at=new bt({format:"letter",unit:"mm"}),st=Me-5,nt=st*.4,Ge=st*.6;let lt=0;const kt=(_t,Dt,dt=!1)=>{if(dt){at.setFontSize(13);let ct=at.getTextDimensions(_t+":",{maxWidth:nt}).h+2;at.setFontSize(12);const wt=at.splitTextToSize(Dt||" ",nt);return ct+=at.getTextDimensions(wt).h,ct}const qt=`${_t}:`;at.setFontSize(13);const nr=at.getTextWidth(qt),ir=at.getTextDimensions(qt).h;at.setFontSize(12);const Ht=nt-nr-1,zt=at.splitTextToSize(Dt||" ",Ht),Fe=at.getTextDimensions(zt).h;return Math.max(ir,Fe)+2};lt+=kt("Photo",rt.photoNumber),lt+=kt("Direction",rt.direction||"N/A"),lt+=kt("Date",rt.date),lt+=kt("Location",rt.location),lt+=kt("Description",rt.description,!0);let jt=0;if(rt.imageUrl)try{const{width:_t,height:Dt}=await Bm(rt.imageUrl);jt=Dt*(Ge/_t)}catch(_t){console.error("Could not load image for height calculation",_t)}return Math.max(lt,jt)},Ae=async(Be,rt,at)=>{const st=Me-5,nt=st*.4,Ge=st*.6,lt=fe+nt+5;let kt=at;const jt=(qt,nr,ir=!1)=>{const Ht=nr||" ";if(ir){Be.setFontSize(13),Be.setFont("times","bold"),Be.text(`${qt}:`,fe,kt),kt+=Be.getTextDimensions(`${qt}:`,{maxWidth:nt}).h+2,Be.setFontSize(12),Be.setFont("times","normal");const Qe=Be.getTextDimensions(Ht,{maxWidth:nt});Be.text(Ht,fe,kt,{maxWidth:nt}),kt+=Qe.h;return}const zt=`${qt}:`;Be.setFontSize(13),Be.setFont("times","bold");const Fe=Be.getTextWidth(zt),ct=Be.getTextDimensions(zt).h;Be.text(zt,fe,kt),Be.setFontSize(12),Be.setFont("times","normal");const wt=fe+Fe+1,Ct=nt-Fe-1,Re=Be.splitTextToSize(Ht,Ct),Je=Be.getTextDimensions(Re).h;Be.text(Re,wt,kt),kt+=Math.max(ct,Je)+2};jt("Photo",rt.photoNumber),jt("Direction",rt.direction||"N/A"),jt("Date",rt.date),jt("Location",rt.location),jt("Description",rt.description,!0);const _t=kt;let Dt=0,dt=at;if(rt.imageUrl){const{width:qt,height:nr}=await Bm(rt.imageUrl);Dt=nr*(Ge/qt),Be.addImage(rt.imageUrl,"JPEG",lt,at,Ge,Dt),dt=at+Dt}return Math.max(_t,dt)},Ye=await Promise.all(i.map(Be=>we(M,Be))),xt=[];if(i.length>0){const Be=new bt,rt=await ze(Be),at=Ne-rt,Pt=10;let st=[],nt=0;i.forEach((Ge,lt)=>{const kt=Ye[lt],jt=st.length>0?Pt:0,_t=kt+jt;st.length<2&&nt+_t<=at?(st.push(lt),nt+=_t):(xt.push(st),st=[lt],nt=kt)}),xt.push(st)}for(let Be=0;Be<xt.length;Be++){const rt=xt[Be];Be>0&&M.addPage();let at=await ze(M);const Pt=rt.map(Ge=>i[Ge]),st=rt.map(Ge=>Ye[Ge]),nt=Pt.length;if(nt>0){const Ge=Ne-at;if(nt===1){const lt=st[0],kt=lt*2,jt=Ge-kt,Dt=jt>0?jt/4:2;at+=Dt,await Ae(M,Pt[0],at),at+=lt,at+=Dt,M.setLineWidth(.5),M.setDrawColor(0,125,140),M.line(fe,at,ie-fe,at)}else{const lt=st.reduce((Dt,dt)=>Dt+dt,0),kt=Ge-lt,jt=nt*2,_t=kt>0?kt/jt:2;at+=_t;for(let Dt=0;Dt<nt;Dt++){const dt=Pt[Dt],qt=st[Dt];await Ae(M,dt,at),at+=qt,Dt<nt-1&&(at+=_t,M.setLineWidth(.5),M.setDrawColor(0,125,140),M.line(fe,at,ie-fe,at),at+=_t)}}}Ee(M)}const Le=M.internal.getNumberOfPages();for(let Be=1;Be<=Le;Be++)M.setPage(Be),M.setFontSize(10),M.setFont("times","normal"),M.setTextColor(0,0,0),M.text(`Page ${Be} of ${Le}`,ie-fe,ce-7,{align:"right"});const Xe=M.output("blob"),ot=URL.createObjectURL(Xe);_({url:ot,filename:"combinedlog.pdf",blob:Xe})},be=qe.useCallback(async()=>{var C;if(!L.current){L.current=!0;try{$("Checking for photos..."),z(!0),await new Promise(fe=>setTimeout(fe,100));const O=i.filter(fe=>fe.imageUrl);if(O.length===0){$("No photos found to download."),await new Promise(fe=>setTimeout(fe,2e3)),z(!1);return}$(`Preparing ${O.length} photos...`),await new Promise(fe=>setTimeout(fe,100));const T=new Md;let X="";const M=fe=>fe.replace(/[^a-z0-9_.\-]/gi,"_");for(const fe of O){const ze=`${M(fe.photoNumber)}.jpg`;X+=`---
File: ${ze}
Photo Number: ${fe.photoNumber}
Date: ${fe.date||"N/A"}
Location: ${fe.location||"N/A"}
Direction: ${fe.direction||"N/A"}
Description: ${fe.description||"N/A"}
---

`;const Ne=await(await fetch(fe.imageUrl)).blob();T.file(ze,Ne)}T.file("metadata.txt",X),$("Creating zip file..."),await new Promise(fe=>setTimeout(fe,100));const ie=fe=>fe.replace(/[^a-z0-9_]/gi,"-").toLowerCase(),ce=`${ie(r.projectNumber)||"project"}_${ie(r.projectName)||"combinedlog"}_Photos.zip`;if((C=window.electronAPI)!=null&&C.saveZipFile){const fe=await T.generateAsync({type:"arraybuffer"});await window.electronAPI.saveZipFile(fe,ce)}else{const fe=await T.generateAsync({type:"blob"}),Me=document.createElement("a");Me.href=URL.createObjectURL(fe),Me.setAttribute("download",ce),document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(Me.href)}}finally{z(!1),L.current=!1}}},[i,r]),De=qe.useRef(be);qe.useEffect(()=>{De.current=be},[be]);const Oe=qe.useCallback(()=>{De.current&&De.current()},[]);qe.useEffect(()=>{const C=window.electronAPI;return C&&C.onDownloadPhotos&&C.removeAllDownloadPhotosListeners&&(C.removeAllDownloadPhotosListeners(),C.onDownloadPhotos(Oe)),()=>{C&&C.removeDownloadPhotosListener&&C.removeDownloadPhotosListener(Oe)}},[Oe]);const P=async C=>{var X;const O=(X=C.target.files)==null?void 0:X[0];if(!O)return;const T=await O.text();await N(T),C.target&&(C.target.value="")},te=async()=>{var C;if(window.electronAPI){const O=await window.electronAPI.loadProject("clog");O&&await N(O)}else(C=se.current)==null||C.click()},E=()=>{const C=new Set;return c.forEach(O=>{!O.startsWith("photo-")&&Object.keys(r).includes(O)&&C.add(O)}),C},J=C=>{const O=new Set;return c.forEach(T=>{const X=`photo-${C}-`;T.startsWith(X)&&O.add(T.substring(X.length))}),O};return h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-200",children:[b&&h.jsx(y3,{url:b.url,filename:b.filename,onClose:()=>_(null),pdfBlob:b.blob}),S&&h.jsx(Dd,{imageUrl:S,onClose:()=>m(null)}),I&&h.jsx(Td,{message:re}),h.jsx(Fd,{}),h.jsx(w3,{isOpen:B,onClose:()=>Z(!1),onImport:V,currentProjectTimestamp:o}),h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[h.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[h.jsxs("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white text-gray-800 font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(jd,{})," ",h.jsx("span",{children:"Home"})]}),h.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[h.jsxs("button",{onClick:te,className:"bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(uc,{})," ",h.jsx("span",{children:"Open"})]}),h.jsx("input",{type:"file",ref:se,onChange:P,style:{display:"none"},accept:".clog"}),h.jsxs("button",{onClick:()=>Z(!0),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(a5,{className:"h-5 w-5"})," ",h.jsx("span",{children:"Import Recent"})]}),h.jsx("input",{type:"file",ref:U,onChange:K,style:{display:"none"},accept:".plog,.dfr,.spdfr,.clog,.json",multiple:!0}),h.jsxs("button",{onClick:Y,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(nc,{className:"h-5 w-5"})," ",h.jsx("span",{children:"Import Files"})]}),h.jsxs("button",{onClick:ke,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(Sd,{})," ",h.jsx("span",{children:"Save"})]}),!window.electronAPI&&h.jsxs("button",{onClick:be,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(nc,{})," ",h.jsx("span",{children:"Photos"})]}),h.jsxs("button",{onClick:Se,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:[h.jsx(si,{})," ",h.jsx("span",{children:"PDF"})]})]})]}),h.jsxs("div",{className:"main-content",children:[h.jsx(l5,{data:r,onDataChange:le,errors:E()}),h.jsx("div",{className:"mt-8",children:i.map((C,O)=>h.jsxs("div",{children:[h.jsx(Ed,{data:C,onDataChange:(T,X)=>ve(C.id,T,X),onImageChange:T=>ne(C.id,T),onRemove:()=>ue(C.id),onMoveUp:()=>A(C.id,"up"),onMoveDown:()=>A(C.id,"down"),isFirst:O===0,isLast:O===i.length-1,onImageClick:m,errors:J(C.id),showDirectionField:!C.isMap,headerDate:r.date,headerLocation:r.location,onAutoFill:(T,X)=>ve(C.id,T,X)}),O<i.length-1&&h.jsxs("div",{className:"relative my-10 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:h.jsx("div",{className:"w-full border-t-4 border-[#007D8C]"})}),h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:()=>me(O),className:"bg-white hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 text-[#007D8C] font-bold py-2 px-4 rounded-full border-2 border-[#007D8C] inline-flex items-center gap-2 transition duration-200 shadow-sm",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo Here"})]})})]})]},C.id))}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsxs("button",{onClick:()=>me(),className:"bg-[#007D8C] hover:bg-[#006b7a] text-white font-bold py-3 px-6 rounded-lg shadow-md inline-flex items-center gap-2 transition duration-200 text-lg",children:[h.jsx(Ii,{}),h.jsx("span",{children:"Add Photo"})]})})]}),i.length>0&&h.jsx("div",{className:"border-t-4 border-[#007D8C] my-8"}),h.jsx("footer",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-4",children:"X-TES Digital Reporting v1.1.2"})]}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Unsupported file type animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Unsupported File Type"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please upload a supported image file."}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:["Supported formats: ",h.jsx("strong",{children:"JPG, PNG"})]})]})}),y&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 transition-opacity duration-300",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md transform scale-95 hover:scale-100 transition-transform duration-300",children:[h.jsx("button",{onClick:()=>d(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx($n,{fileName:"loading-error.gif",alt:"Missing information animation",className:"mx-auto mb-4 w-40 h-40"}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"Missing Information"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please fill in all required fields."}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Missing fields are highlighted in red."})]})}),k&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl text-center relative max-w-md",children:[h.jsx("button",{onClick:()=>w(!1),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close",children:h.jsx(Br,{className:"h-6 w-6"})}),h.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800 dark:text-white",children:"No Internet Connection"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"An internet connection is required to save the PDF. Please connect to the internet and try again."})]})})]})},T5=qe.createContext(void 0),b3=({children:e})=>{const[t,r]=qe.useState(()=>!!(localStorage.getItem("xtec_theme")==="dark"||!localStorage.getItem("xtec_theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches));qe.useEffect(()=>{var o;const i=window.document.documentElement,a=t?"dark":"light";t?(i.classList.add("dark"),localStorage.setItem("xtec_theme","dark")):(i.classList.remove("dark"),localStorage.setItem("xtec_theme","light")),(o=window.electronAPI)!=null&&o.setThemeSource&&window.electronAPI.setThemeSource(a)},[t]);const n=()=>{r(i=>!i)};return h.jsx(T5.Provider,{value:{isDarkMode:t,toggleTheme:n},children:e})},N3=()=>{const e=qe.useContext(T5);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},k3=({onClose:e})=>{const[t,r]=qe.useState("general"),[n,i]=qe.useState(null),[a,o]=qe.useState(null),[s,c]=qe.useState(!1),[f,p]=qe.useState({defaultProponent:"",defaultMonitor:""}),{isDarkMode:v,toggleTheme:y}=N3();qe.useEffect(()=>{(async()=>{if(navigator.storage&&navigator.storage.estimate)try{const S=await navigator.storage.estimate();typeof S.usage=="number"?i((S.usage/1048576).toFixed(2)):i("Unknown"),typeof S.quota=="number"&&o((S.quota/1048576).toFixed(2))}catch(S){console.error("Failed to estimate storage:",S),i("Error")}else i("N/A")})();try{const S=localStorage.getItem("xtec_general_settings");S&&p(JSON.parse(S))}catch(S){console.error("Failed to load settings",S)}},[]);const d=async()=>{if(window.confirm("Are you sure you want to clear all recent projects and photos? This action cannot be undone. Files you have saved to your computer will NOT be deleted.")){c(!0);try{await Gx(),localStorage.removeItem("xtec_recent_projects"),alert("Storage cleared successfully. The application will now reload."),window.location.reload()}catch(w){console.error("Failed to clear storage:",w),alert("An error occurred while clearing storage. Please restart the application manually."),c(!1)}}},k=(w,S)=>{const m={...f,[w]:S};p(m),localStorage.setItem("xtec_general_settings",JSON.stringify(m))};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden transition-colors duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Settings"}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Close settings",children:h.jsx(Br,{className:"h-8 w-8"})})]}),h.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[h.jsx("div",{className:"w-1/4 bg-gray-100 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 p-4",children:h.jsxs("nav",{className:"space-y-2",children:[h.jsx("button",{onClick:()=>r("general"),className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors ${t==="general"?"bg-[#007D8C] text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:"General"}),h.jsx("button",{onClick:()=>r("data"),className:`w-full text-left px-4 py-2 rounded-md font-medium transition-colors ${t==="data"?"bg-[#007D8C] text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800"}`,children:"Data Management"})]})}),h.jsxs("div",{className:"w-3/4 p-8 overflow-y-auto bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[t==="general"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 border-b dark:border-gray-700 pb-2",children:"Appearance"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("span",{className:"block text-base font-medium text-gray-700 dark:text-gray-300",children:"Dark Mode"}),h.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Switch between light and dark themes."})]}),h.jsx("button",{onClick:y,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[#007D8C] focus:ring-offset-2 ${v?"bg-[#007D8C]":"bg-gray-300"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${v?"translate-x-6":"translate-x-1"}`})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 border-b dark:border-gray-700 pb-2",children:"Default Values"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Enter values here to automatically pre-fill new reports. This saves you from typing the same information every time."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Default Proponent"}),h.jsx("input",{type:"text",value:f.defaultProponent,onChange:w=>k("defaultProponent",w.target.value),className:"w-full p-2 border border-gray-300 bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-[#007D8C] focus:border-[#007D8C] transition",placeholder:"e.g., Cenovus, CNRL"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used in Photo Logs and Standard DFRs."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Default Monitor Name"}),h.jsx("input",{type:"text",value:f.defaultMonitor,onChange:w=>k("defaultMonitor",w.target.value),className:"w-full p-2 border border-gray-300 bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-[#007D8C] focus:border-[#007D8C] transition",placeholder:"e.g., John Doe"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used in DFRs."})]})]})]})]}),t==="data"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 border-b dark:border-gray-700 pb-2",children:"Storage & Data"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The application stores your recent projects and photos locally in this browser to allow for quick access and offline capability. If you are running low on disk space or experiencing performance issues, you can clear this data."}),h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 mb-6",children:h.jsxs("div",{className:"flex",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),h.jsx("div",{className:"ml-3",children:h.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Current Estimated Usage: ",h.jsx("strong",{children:n!==null?`${n} MB`:"Calculating..."}),a&&` / ${a} MB available`]})})]})})]}),h.jsxs("div",{className:"border-t dark:border-gray-700 pt-6",children:[h.jsx("h4",{className:"text-lg font-bold text-red-600 dark:text-red-400 mb-2",children:"Danger Zone"}),h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[h.jsx("h5",{className:"font-bold text-red-800 dark:text-red-300 mb-1",children:"Clear All Local Data"}),h.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mb-4",children:[`This action will delete all projects from the "Recent Projects" list and remove all cached photos from the application's internal database.`,h.jsx("br",{}),h.jsx("br",{}),h.jsx("strong",{children:"Note:"})," This will NOT delete any ",h.jsx("code",{children:".plog"}),", ",h.jsx("code",{children:".dfr"}),", or ",h.jsx("code",{children:".spdfr"})," files you have manually saved to your computer's hard drive."]}),h.jsx("button",{onClick:d,disabled:s,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg inline-flex items-center gap-2 transition duration-200",children:s?h.jsx("span",{children:"Clearing..."}):h.jsxs(h.Fragment,{children:[h.jsx(k0,{className:"h-5 w-5"}),h.jsx("span",{children:"Clear Recent Projects & Photos"})]})})]})]})]})]})]})]})})},_3=()=>{const[e,t]=qe.useState(null),[r,n]=qe.useState(null),[i,a]=qe.useState(!1),[o,s]=qe.useState(!1),c=(y,d)=>{try{if(y.trim().startsWith("%PDF")){alert("You are trying to open a PDF file. Please open the editable project file (e.g., .plog, .dfr, .spdfr).");return}const k=JSON.parse(y),w=d.split(".").pop();let S=null;w==="plog"?S="photoLog":w==="dfr"?S="dfrStandard":w==="spdfr"?S="dfrSaskpower":w==="clog"?S="combinedLog":w==="iogc"&&(S="iogcLeaseAudit"),S?(n(k),t(S)):alert("Could not determine project type from file extension.")}catch(k){console.error("Failed to parse project data:",k),alert("Could not open the project. The file may be corrupt or not a valid project file.")}};qe.useEffect(()=>{var y,d;return window.electronAPI&&window.electronAPI.onOpenFile&&window.electronAPI.onOpenFile(async k=>{const w=await window.electronAPI.readFile(k);w.success&&w.data?c(w.data,w.path):alert(`Failed to read the file: ${w.error}`)}),(y=window.electronAPI)!=null&&y.onUpdateAvailable&&window.electronAPI.onUpdateAvailable(()=>{a(!0)}),(d=window.electronAPI)!=null&&d.onOpenSettings&&window.electronAPI.onOpenSettings(()=>{s(!0)}),()=>{var k,w;(k=window.electronAPI)!=null&&k.removeUpdateAvailableListener&&window.electronAPI.removeUpdateAvailableListener(),(w=window.electronAPI)!=null&&w.removeOpenSettingsListener&&window.electronAPI.removeOpenSettingsListener()}},[]);const f=y=>{n(null),t(y)},p=async y=>{try{const d=await _i(y.timestamp);if(!d)throw new Error("Project data not found in the database.");n({...d,timestamp:y.timestamp}),t(y.type)}catch(d){console.error("Failed to load project data:",d),alert("Could not open the project. The file may be corrupt or missing from the database.")}},v=()=>{t(null),n(null)};return h.jsxs(h.Fragment,{children:[o&&h.jsx(k3,{onClose:()=>s(!1)}),e?(()=>{switch(e){case"photoLog":return h.jsx(e3,{onBack:v,initialData:r});case"dfrSaskpower":return h.jsx(g3,{onBack:v,initialData:r});case"dfrStandard":return h.jsx(u3,{onBack:v,initialData:r});case"combinedLog":return h.jsx(x3,{onBack:v,initialData:r});default:return h.jsx(gm,{onSelectApp:f,onOpenProject:p,isUpdateAvailable:i})}})():h.jsx(gm,{onSelectApp:f,onOpenProject:p,isUpdateAvailable:i})]})},I5=document.getElementById("root");if(!I5)throw new Error("Could not find root element to mount to");const S3=vh.createRoot(I5);S3.render(h.jsx(Fp.StrictMode,{children:h.jsx(b3,{children:h.jsx(_3,{})})}));export{tr as _,Xc as c,Um as g};
